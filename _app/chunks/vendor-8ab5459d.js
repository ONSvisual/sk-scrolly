var Ib=Object.defineProperty;var Fy=Object.getOwnPropertySymbols;var Sb=Object.prototype.hasOwnProperty,Tb=Object.prototype.propertyIsEnumerable;var Ey=(i,e,n)=>e in i?Ib(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,Ga=(i,e)=>{for(var n in e||(e={}))Sb.call(e,n)&&Ey(i,n,e[n]);if(Fy)for(var n of Fy(e))Tb.call(e,n)&&Ey(i,n,e[n]);return i};function Ir(){}const kb=i=>i;function eu(i,e){for(const n in e)i[n]=e[n];return i}function d1(i){return i()}function Uy(){return Object.create(null)}function jA(i){i.forEach(d1)}function g1(i){return typeof i=="function"}function wi(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let ef;function qS(i,e){return ef||(ef=document.createElement("a")),ef.href=e,i===ef.href}function Lb(i){return Object.keys(i).length===0}function m1(i,...e){if(i==null)return Ir;const n=i.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function At(i,e,n){i.$$.on_destroy.push(m1(e,n))}function Cn(i,e,n,o){if(i){const l=y1(i,e,n,o);return i[0](l)}}function y1(i,e,n,o){return i[1]&&o?eu(n.ctx.slice(),i[1](o(e))):n.ctx}function Fn(i,e,n,o){if(i[2]&&o){const l=i[2](o(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const p=[],a=Math.max(e.dirty.length,l.length);for(let _=0;_<a;_+=1)p[_]=e.dirty[_]|l[_];return p}return e.dirty|l}return e.dirty}function En(i,e,n,o,l,p){if(l){const a=y1(e,n,o,p);i.p(a,l)}}function Un(i){if(i.ctx.length>32){const e=[],n=i.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Wr(i,e,n){return i.set(n),e}const _1=typeof window!="undefined";let Mb=_1?()=>window.performance.now():()=>Date.now(),v1=_1?i=>requestAnimationFrame(i):Ir;const Jl=new Set;function w1(i){Jl.forEach(e=>{e.c(i)||(Jl.delete(e),e.f())}),Jl.size!==0&&v1(w1)}function Db(i){let e;return Jl.size===0&&v1(w1),{promise:new Promise(n=>{Jl.add(e={c:i,f:n})}),abort(){Jl.delete(e)}}}let sp=!1;function Pb(){sp=!0}function Hb(){sp=!1}function zb(i,e,n,o){for(;i<e;){const l=i+(e-i>>1);n(l)<=o?i=l+1:e=l}return i}function Rb(i){if(i.hydrate_init)return;i.hydrate_init=!0;let e=i.childNodes;if(i.nodeName==="HEAD"){const y=[];for(let F=0;F<e.length;F++){const Q=e[F];Q.claim_order!==void 0&&y.push(Q)}e=y}const n=new Int32Array(e.length+1),o=new Int32Array(e.length);n[0]=-1;let l=0;for(let y=0;y<e.length;y++){const F=e[y].claim_order,Q=(l>0&&e[n[l]].claim_order<=F?l+1:zb(1,l,I=>e[n[I]].claim_order,F))-1;o[y]=n[Q]+1;const x=Q+1;n[x]=y,l=Math.max(x,l)}const p=[],a=[];let _=e.length-1;for(let y=n[l]+1;y!=0;y=o[y-1]){for(p.push(e[y-1]);_>=y;_--)a.push(e[_]);_--}for(;_>=0;_--)a.push(e[_]);p.reverse(),a.sort((y,F)=>y.claim_order-F.claim_order);for(let y=0,F=0;y<a.length;y++){for(;F<p.length&&a[y].claim_order>=p[F].claim_order;)F++;const Q=F<p.length?p[F]:null;i.insertBefore(a[y],Q)}}function Ob(i,e){i.appendChild(e)}function Ot(i,e){if(sp){for(Rb(i),(i.actual_end_child===void 0||i.actual_end_child!==null&&i.actual_end_child.parentElement!==i)&&(i.actual_end_child=i.firstChild);i.actual_end_child!==null&&i.actual_end_child.claim_order===void 0;)i.actual_end_child=i.actual_end_child.nextSibling;e!==i.actual_end_child?(e.claim_order!==void 0||e.parentNode!==i)&&i.insertBefore(e,i.actual_end_child):i.actual_end_child=e.nextSibling}else(e.parentNode!==i||e.nextSibling!==null)&&i.appendChild(e)}function Kb(i,e,n){i.insertBefore(e,n||null)}function Ye(i,e,n){sp&&!n?Ot(i,e):(e.parentNode!==i||e.nextSibling!=n)&&i.insertBefore(e,n||null)}function Be(i){i.parentNode.removeChild(i)}function _A(i,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].d(e)}function Sr(i){return document.createElement(i)}function Cr(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function hn(i){return document.createTextNode(i)}function ir(){return hn(" ")}function Mt(){return hn("")}function jr(i,e,n,o){return i.addEventListener(e,n,o),()=>i.removeEventListener(e,n,o)}function Nb(i){return function(e){return e.preventDefault(),i.call(this,e)}}function ce(i,e,n){n==null?i.removeAttribute(e):i.getAttribute(e)!==n&&i.setAttribute(e,n)}function Qy(i,e){const n=Object.getOwnPropertyDescriptors(i.__proto__);for(const o in e)e[o]==null?i.removeAttribute(o):o==="style"?i.style.cssText=e[o]:o==="__value"?i.value=i[o]=e[o]:n[o]&&n[o].set?i[o]=e[o]:ce(i,o,e[o])}function Nd(i,e,n){e in i?i[e]=typeof i[e]=="boolean"&&n===""?!0:n:ce(i,e,n)}function Et(i){return Array.from(i.childNodes)}function B1(i){i.claim_info===void 0&&(i.claim_info={last_index:0,total_claimed:0})}function b1(i,e,n,o,l=!1){B1(i);const p=(()=>{for(let a=i.claim_info.last_index;a<i.length;a++){const _=i[a];if(e(_)){const y=n(_);return y===void 0?i.splice(a,1):i[a]=y,l||(i.claim_info.last_index=a),_}}for(let a=i.claim_info.last_index-1;a>=0;a--){const _=i[a];if(e(_)){const y=n(_);return y===void 0?i.splice(a,1):i[a]=y,l?y===void 0&&i.claim_info.last_index--:i.claim_info.last_index=a,_}}return o()})();return p.claim_order=i.claim_info.total_claimed,i.claim_info.total_claimed+=1,p}function x1(i,e,n,o){return b1(i,l=>l.nodeName===e,l=>{const p=[];for(let a=0;a<l.attributes.length;a++){const _=l.attributes[a];n[_.name]||p.push(_.name)}p.forEach(a=>l.removeAttribute(a))},()=>o(e))}function Or(i,e,n){return x1(i,e,n,Sr)}function Qr(i,e,n){return x1(i,e,n,Cr)}function Hn(i,e){return b1(i,n=>n.nodeType===3,n=>{const o=""+e;if(n.data.startsWith(o)){if(n.data.length!==o.length)return n.splitText(o.length)}else n.data=o},()=>hn(e),!0)}function nr(i){return Hn(i," ")}function Iy(i,e,n){for(let o=n;o<i.length;o+=1){const l=i[o];if(l.nodeType===8&&l.textContent.trim()===e)return o}return i.length}function Vb(i){const e=Iy(i,"HTML_TAG_START",0),n=Iy(i,"HTML_TAG_END",e);if(e===n)return new Vd;B1(i);const o=i.splice(e,n-e+1);Be(o[0]),Be(o[o.length-1]);const l=o.slice(1,o.length-1);for(const p of l)p.claim_order=i.claim_info.total_claimed,i.claim_info.total_claimed+=1;return new Vd(l)}function EA(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Sy(i,e){i.value=e==null?"":e}function gr(i,e,n,o){n===null?i.style.removeProperty(e):i.style.setProperty(e,n,o?"important":"")}let tf;function Gb(){if(tf===void 0){tf=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{tf=!0}}return tf}function Ug(i,e){getComputedStyle(i).position==="static"&&(i.style.position="relative");const o=Sr("iframe");o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const l=Gb();let p;return l?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",p=jr(window,"message",a=>{a.source===o.contentWindow&&e()})):(o.src="about:blank",o.onload=()=>{p=jr(o.contentWindow,"resize",e)}),Ob(i,o),()=>{(l||p&&o.contentWindow)&&p(),Be(o)}}function Dn(i,e,n){i.classList[n?"add":"remove"](e)}function Xb(i,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(i,n,!1,e),o}function WS(i,e=document.body){return Array.from(e.querySelectorAll(i))}class jb{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.e=Sr(n.nodeName),this.t=n,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)Kb(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Be)}}class Vd extends jb{constructor(e){super();this.e=this.n=null,this.l=e}c(e){this.l?this.n=this.l:super.c(e)}i(e){for(let n=0;n<this.n.length;n+=1)Ye(this.t,this.n[n],e)}}let Fc;function vc(i){Fc=i}function ou(){if(!Fc)throw new Error("Function called outside component initialization");return Fc}function C1(i){ou().$$.before_update.push(i)}function Mc(i){ou().$$.on_mount.push(i)}function JS(i){ou().$$.after_update.push(i)}function Ks(){const i=ou();return(e,n)=>{const o=i.$$.callbacks[e];if(o){const l=Xb(e,n);o.slice().forEach(p=>{p.call(i,l)})}}}function Ec(i,e){ou().$$.context.set(i,e)}function UA(i){return ou().$$.context.get(i)}function tu(i,e){const n=i.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const cc=[],zn=[],Hf=[],Gd=[],F1=Promise.resolve();let Xd=!1;function E1(){Xd||(Xd=!0,F1.then(Ve))}function zf(){return E1(),F1}function ru(i){Hf.push(i)}function Uc(i){Gd.push(i)}const ld=new Set;let rf=0;function Ve(){const i=Fc;do{for(;rf<cc.length;){const e=cc[rf];rf++,vc(e),Zb(e.$$)}for(vc(null),cc.length=0,rf=0;zn.length;)zn.pop()();for(let e=0;e<Hf.length;e+=1){const n=Hf[e];ld.has(n)||(ld.add(n),n())}Hf.length=0}while(cc.length);for(;Gd.length;)Gd.pop()();Xd=!1,ld.clear(),vc(i)}function Zb(i){if(i.fragment!==null){i.update(),jA(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(ru)}}const Rf=new Set;let Ms;function Fr(){Ms={r:0,c:[],p:Ms}}function Er(){Ms.r||jA(Ms.c),Ms=Ms.p}function Te(i,e){i&&i.i&&(Rf.delete(i),i.i(e))}function Xe(i,e,n,o){if(i&&i.o){if(Rf.has(i))return;Rf.add(i),Ms.c.push(()=>{Rf.delete(i),o&&(n&&i.d(1),o())}),i.o(e)}}const YS=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function qb(i,e){Xe(i,1,1,()=>{e.delete(i.key)})}function Wb(i,e,n,o,l,p,a,_,y,F,Q,x){let I=i.length,M=p.length,k=I;const K={};for(;k--;)K[i[k].key]=k;const $=[],R=new Map,V=new Map;for(k=M;k--;){const we=x(l,p,k),Ge=n(we);let Le=a.get(Ge);Le?o&&Le.p(we,e):(Le=F(Ge,we),Le.c()),R.set(Ge,$[k]=Le),Ge in K&&V.set(Ge,Math.abs(k-K[Ge]))}const le=new Set,ee=new Set;function me(we){Te(we,1),we.m(_,Q),a.set(we.key,we),Q=we.first,M--}for(;I&&M;){const we=$[M-1],Ge=i[I-1],Le=we.key,fe=Ge.key;we===Ge?(Q=we.first,I--,M--):R.has(fe)?!a.has(Le)||le.has(Le)?me(we):ee.has(fe)?I--:V.get(Le)>V.get(fe)?(ee.add(Le),me(we)):(le.add(fe),I--):(y(Ge,a),I--)}for(;I--;){const we=i[I];R.has(we.key)||y(we,a)}for(;M;)me($[M-1]);return $}function Qg(i,e){const n={},o={},l={$$scope:1};let p=i.length;for(;p--;){const a=i[p],_=e[p];if(_){for(const y in a)y in _||(o[y]=1);for(const y in _)l[y]||(n[y]=_[y],l[y]=1);i[p]=_}else for(const y in a)l[y]=1}for(const a in o)a in n||(n[a]=void 0);return n}function U1(i){return typeof i=="object"&&i!==null?i:{}}function iu(i,e,n){const o=i.$$.props[e];o!==void 0&&(i.$$.bound[o]=n,n(i.$$.ctx[o]))}function dr(i){i&&i.c()}function Lr(i,e){i&&i.l(e)}function lr(i,e,n,o){const{fragment:l,on_mount:p,on_destroy:a,after_update:_}=i.$$;l&&l.m(e,n),o||ru(()=>{const y=p.map(d1).filter(g1);a?a.push(...y):jA(y),i.$$.on_mount=[]}),_.forEach(ru)}function ur(i,e){const n=i.$$;n.fragment!==null&&(jA(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Jb(i,e){i.$$.dirty[0]===-1&&(cc.push(i),E1(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Fi(i,e,n,o,l,p,a,_=[-1]){const y=Fc;vc(i);const F=i.$$={fragment:null,ctx:null,props:p,update:Ir,not_equal:l,bound:Uy(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(y?y.$$.context:[])),callbacks:Uy(),dirty:_,skip_bound:!1,root:e.target||y.$$.root};a&&a(F.root);let Q=!1;if(F.ctx=n?n(i,e.props||{},(x,I,...M)=>{const k=M.length?M[0]:I;return F.ctx&&l(F.ctx[x],F.ctx[x]=k)&&(!F.skip_bound&&F.bound[x]&&F.bound[x](k),Q&&Jb(i,x)),I}):[],F.update(),Q=!0,jA(F.before_update),F.fragment=o?o(F.ctx):!1,e.target){if(e.hydrate){Pb();const x=Et(e.target);F.fragment&&F.fragment.l(x),x.forEach(Be)}else F.fragment&&F.fragment.c();e.intro&&Te(i.$$.fragment),lr(i,e.target,e.anchor,e.customElement),Hb(),Ve()}vc(y)}class Ei{$destroy(){ur(this,1),this.$destroy=Ir}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!Lb(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hl=[];function Yb(i,e){return{subscribe:Rr(i,e).subscribe}}function Rr(i,e=Ir){let n;const o=new Set;function l(_){if(wi(i,_)&&(i=_,n)){const y=!Hl.length;for(const F of o)F[1](),Hl.push(F,i);if(y){for(let F=0;F<Hl.length;F+=2)Hl[F][0](Hl[F+1]);Hl.length=0}}}function p(_){l(_(i))}function a(_,y=Ir){const F=[_,y];return o.add(F),o.size===1&&(n=e(l)||Ir),_(i),()=>{o.delete(F),o.size===0&&(n(),n=null)}}return{set:l,update:p,subscribe:a}}function An(i,e,n){const o=!Array.isArray(i),l=o?[i]:i,p=e.length<2;return Yb(n,a=>{let _=!1;const y=[];let F=0,Q=Ir;const x=()=>{if(F)return;Q();const M=e(o?y[0]:y,a);p?a(M):Q=g1(M)?M:Ir},I=l.map((M,k)=>m1(M,K=>{y[k]=K,F&=~(1<<k),_&&x()},()=>{F|=1<<k}));return _=!0,x(),function(){jA(I),Q()}})}var Ty={},ud={},cd=34,nc=10,hd=13;function Q1(i){return new Function("d","return {"+i.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function $b(i,e){var n=Q1(i);return function(o,l){return e(n(o),l,i)}}function ky(i){var e=Object.create(null),n=[];return i.forEach(function(o){for(var l in o)l in e||n.push(e[l]=l)}),n}function DA(i,e){var n=i+"",o=n.length;return o<e?new Array(e-o+1).join(0)+n:n}function ex(i){return i<0?"-"+DA(-i,6):i>9999?"+"+DA(i,6):DA(i,4)}function tx(i){var e=i.getUTCHours(),n=i.getUTCMinutes(),o=i.getUTCSeconds(),l=i.getUTCMilliseconds();return isNaN(i)?"Invalid Date":ex(i.getUTCFullYear())+"-"+DA(i.getUTCMonth()+1,2)+"-"+DA(i.getUTCDate(),2)+(l?"T"+DA(e,2)+":"+DA(n,2)+":"+DA(o,2)+"."+DA(l,3)+"Z":o?"T"+DA(e,2)+":"+DA(n,2)+":"+DA(o,2)+"Z":n||e?"T"+DA(e,2)+":"+DA(n,2)+"Z":"")}function rx(i){var e=new RegExp('["'+i+`
\r]`),n=i.charCodeAt(0);function o(x,I){var M,k,K=l(x,function($,R){if(M)return M($,R-1);k=$,M=I?$b($,I):Q1($)});return K.columns=k||[],K}function l(x,I){var M=[],k=x.length,K=0,$=0,R,V=k<=0,le=!1;x.charCodeAt(k-1)===nc&&--k,x.charCodeAt(k-1)===hd&&--k;function ee(){if(V)return ud;if(le)return le=!1,Ty;var we,Ge=K,Le;if(x.charCodeAt(Ge)===cd){for(;K++<k&&x.charCodeAt(K)!==cd||x.charCodeAt(++K)===cd;);return(we=K)>=k?V=!0:(Le=x.charCodeAt(K++))===nc?le=!0:Le===hd&&(le=!0,x.charCodeAt(K)===nc&&++K),x.slice(Ge+1,we-1).replace(/""/g,'"')}for(;K<k;){if((Le=x.charCodeAt(we=K++))===nc)le=!0;else if(Le===hd)le=!0,x.charCodeAt(K)===nc&&++K;else if(Le!==n)continue;return x.slice(Ge,we)}return V=!0,x.slice(Ge,k)}for(;(R=ee())!==ud;){for(var me=[];R!==Ty&&R!==ud;)me.push(R),R=ee();I&&(me=I(me,$++))==null||M.push(me)}return M}function p(x,I){return x.map(function(M){return I.map(function(k){return Q(M[k])}).join(i)})}function a(x,I){return I==null&&(I=ky(x)),[I.map(Q).join(i)].concat(p(x,I)).join(`
`)}function _(x,I){return I==null&&(I=ky(x)),p(x,I).join(`
`)}function y(x){return x.map(F).join(`
`)}function F(x){return x.map(Q).join(i)}function Q(x){return x==null?"":x instanceof Date?tx(x):e.test(x+="")?'"'+x.replace(/"/g,'""')+'"':x}return{parse:o,parseRows:l,format:a,formatBody:_,formatRows:y,formatRow:F,formatValue:Q}}var ix=rx(","),$S=ix.parse;function eT(i){for(var e in i){var n=i[e].trim(),o,l;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(o=+n))n=o;else if(l=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))nx&&!!l[4]&&!l[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;i[e]=n}return i}const nx=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Ax(i){return i}function ox(i){if(i==null)return Ax;var e,n,o=i.scale[0],l=i.scale[1],p=i.translate[0],a=i.translate[1];return function(_,y){y||(e=n=0);var F=2,Q=_.length,x=new Array(Q);for(x[0]=(e+=_[0])*o+p,x[1]=(n+=_[1])*l+a;F<Q;)x[F]=_[F],++F;return x}}function ax(i,e){for(var n,o=i.length,l=o-e;l<--o;)n=i[l],i[l++]=i[o],i[o]=n}function tT(i,e){return typeof e=="string"&&(e=i.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Ly(i,n)})}:Ly(i,e)}function Ly(i,e){var n=e.id,o=e.bbox,l=e.properties==null?{}:e.properties,p=sx(i,e);return n==null&&o==null?{type:"Feature",properties:l,geometry:p}:o==null?{type:"Feature",id:n,properties:l,geometry:p}:{type:"Feature",id:n,bbox:o,properties:l,geometry:p}}function sx(i,e){var n=ox(i.transform),o=i.arcs;function l(Q,x){x.length&&x.pop();for(var I=o[Q<0?~Q:Q],M=0,k=I.length;M<k;++M)x.push(n(I[M],M));Q<0&&ax(x,k)}function p(Q){return n(Q)}function a(Q){for(var x=[],I=0,M=Q.length;I<M;++I)l(Q[I],x);return x.length<2&&x.push(x[0]),x}function _(Q){for(var x=a(Q);x.length<4;)x.push(x[0]);return x}function y(Q){return Q.map(_)}function F(Q){var x=Q.type,I;switch(x){case"GeometryCollection":return{type:x,geometries:Q.geometries.map(F)};case"Point":I=p(Q.coordinates);break;case"MultiPoint":I=Q.coordinates.map(p);break;case"LineString":I=a(Q.arcs);break;case"MultiLineString":I=Q.arcs.map(a);break;case"Polygon":I=y(Q.arcs);break;case"MultiPolygon":I=Q.arcs.map(y);break;default:return null}return{type:x,coordinates:I}}return F(e)}function I1(i,e,n){if(i!==null)for(var o,l,p,a,_,y,F,Q=0,x=0,I,M=i.type,k=M==="FeatureCollection",K=M==="Feature",$=k?i.features.length:1,R=0;R<$;R++){F=k?i.features[R].geometry:K?i.geometry:i,I=F?F.type==="GeometryCollection":!1,_=I?F.geometries.length:1;for(var V=0;V<_;V++){var le=0,ee=0;if(a=I?F.geometries[V]:F,a!==null){y=a.coordinates;var me=a.type;switch(Q=n&&(me==="Polygon"||me==="MultiPolygon")?1:0,me){case null:break;case"Point":if(e(y,x,R,le,ee)===!1)return!1;x++,le++;break;case"LineString":case"MultiPoint":for(o=0;o<y.length;o++){if(e(y[o],x,R,le,ee)===!1)return!1;x++,me==="MultiPoint"&&le++}me==="LineString"&&le++;break;case"Polygon":case"MultiLineString":for(o=0;o<y.length;o++){for(l=0;l<y[o].length-Q;l++){if(e(y[o][l],x,R,le,ee)===!1)return!1;x++}me==="MultiLineString"&&le++,me==="Polygon"&&ee++}me==="Polygon"&&le++;break;case"MultiPolygon":for(o=0;o<y.length;o++){for(ee=0,l=0;l<y[o].length;l++){for(p=0;p<y[o][l].length-Q;p++){if(e(y[o][l][p],x,R,le,ee)===!1)return!1;x++}ee++}le++}break;case"GeometryCollection":for(o=0;o<a.geometries.length;o++)if(I1(a.geometries[o],e,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function My(i){var e=[1/0,1/0,-1/0,-1/0];return I1(i,function(n){e[0]>n[0]&&(e[0]=n[0]),e[1]>n[1]&&(e[1]=n[1]),e[2]<n[0]&&(e[2]=n[0]),e[3]<n[1]&&(e[3]=n[1])}),e}My.default=My;var lx={rgb2hsl:Dc,rgb2hsv:lp,rgb2hwb:Pc,rgb2cmyk:Hc,rgb2keyword:zc,rgb2xyz:Ig,rgb2lab:Sg,rgb2lch:ux,hsl2rgb:up,hsl2hsv:cx,hsl2hwb:hx,hsl2cmyk:fx,hsl2keyword:px,hsv2rgb:cp,hsv2hsl:dx,hsv2hwb:gx,hsv2cmyk:mx,hsv2keyword:yx,hwb2rgb:Rc,hwb2hsl:_x,hwb2hsv:vx,hwb2cmyk:wx,hwb2keyword:Bx,cmyk2rgb:Oc,cmyk2hsl:bx,cmyk2hsv:xx,cmyk2hwb:Cx,cmyk2keyword:Fx,keyword2rgb:Ns,keyword2hsl:Ix,keyword2hsv:Sx,keyword2hwb:Tx,keyword2cmyk:kx,keyword2lab:Lx,keyword2xyz:Mx,xyz2rgb:S1,xyz2lab:T1,xyz2lch:Ex,lab2xyz:Tg,lab2rgb:k1,lab2lch:kg,lch2lab:Lg,lch2xyz:Ux,lch2rgb:Qx};function Dc(i){var e=i[0]/255,n=i[1]/255,o=i[2]/255,l=Math.min(e,n,o),p=Math.max(e,n,o),a=p-l,_,y,F;return p==l?_=0:e==p?_=(n-o)/a:n==p?_=2+(o-e)/a:o==p&&(_=4+(e-n)/a),_=Math.min(_*60,360),_<0&&(_+=360),F=(l+p)/2,p==l?y=0:F<=.5?y=a/(p+l):y=a/(2-p-l),[_,y*100,F*100]}function lp(i){var e=i[0],n=i[1],o=i[2],l=Math.min(e,n,o),p=Math.max(e,n,o),a=p-l,_,y,F;return p==0?y=0:y=a/p*1e3/10,p==l?_=0:e==p?_=(n-o)/a:n==p?_=2+(o-e)/a:o==p&&(_=4+(e-n)/a),_=Math.min(_*60,360),_<0&&(_+=360),F=p/255*1e3/10,[_,y,F]}function Pc(i){var e=i[0],n=i[1],p=i[2],o=Dc(i)[0],l=1/255*Math.min(e,Math.min(n,p)),p=1-1/255*Math.max(e,Math.max(n,p));return[o,l*100,p*100]}function Hc(i){var e=i[0]/255,n=i[1]/255,o=i[2]/255,l,p,a,_;return _=Math.min(1-e,1-n,1-o),l=(1-e-_)/(1-_)||0,p=(1-n-_)/(1-_)||0,a=(1-o-_)/(1-_)||0,[l*100,p*100,a*100,_*100]}function zc(i){return L1[JSON.stringify(i)]}function Ig(i){var e=i[0]/255,n=i[1]/255,o=i[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var l=e*.4124+n*.3576+o*.1805,p=e*.2126+n*.7152+o*.0722,a=e*.0193+n*.1192+o*.9505;return[l*100,p*100,a*100]}function Sg(i){var e=Ig(i),n=e[0],o=e[1],l=e[2],p,a,_;return n/=95.047,o/=100,l/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,p=116*o-16,a=500*(n-o),_=200*(o-l),[p,a,_]}function ux(i){return kg(Sg(i))}function up(i){var e=i[0]/360,n=i[1]/100,o=i[2]/100,l,p,a,_,y;if(n==0)return y=o*255,[y,y,y];o<.5?p=o*(1+n):p=o+n-o*n,l=2*o-p,_=[0,0,0];for(var F=0;F<3;F++)a=e+1/3*-(F-1),a<0&&a++,a>1&&a--,6*a<1?y=l+(p-l)*6*a:2*a<1?y=p:3*a<2?y=l+(p-l)*(2/3-a)*6:y=l,_[F]=y*255;return _}function cx(i){var e=i[0],n=i[1]/100,o=i[2]/100,l,p;return o===0?[0,0,0]:(o*=2,n*=o<=1?o:2-o,p=(o+n)/2,l=2*n/(o+n),[e,l*100,p*100])}function hx(i){return Pc(up(i))}function fx(i){return Hc(up(i))}function px(i){return zc(up(i))}function cp(i){var e=i[0]/60,n=i[1]/100,y=i[2]/100,o=Math.floor(e)%6,l=e-Math.floor(e),p=255*y*(1-n),a=255*y*(1-n*l),_=255*y*(1-n*(1-l)),y=255*y;switch(o){case 0:return[y,_,p];case 1:return[a,y,p];case 2:return[p,y,_];case 3:return[p,a,y];case 4:return[_,p,y];case 5:return[y,p,a]}}function dx(i){var e=i[0],n=i[1]/100,o=i[2]/100,l,p;return p=(2-n)*o,l=n*o,l/=p<=1?p:2-p,l=l||0,p/=2,[e,l*100,p*100]}function gx(i){return Pc(cp(i))}function mx(i){return Hc(cp(i))}function yx(i){return zc(cp(i))}function Rc(i){var e=i[0]/360,n=i[1]/100,o=i[2]/100,l=n+o,p,a,_,y;switch(l>1&&(n/=l,o/=l),p=Math.floor(6*e),a=1-o,_=6*e-p,(p&1)!=0&&(_=1-_),y=n+_*(a-n),p){default:case 6:case 0:r=a,g=y,b=n;break;case 1:r=y,g=a,b=n;break;case 2:r=n,g=a,b=y;break;case 3:r=n,g=y,b=a;break;case 4:r=y,g=n,b=a;break;case 5:r=a,g=n,b=y;break}return[r*255,g*255,b*255]}function _x(i){return Dc(Rc(i))}function vx(i){return lp(Rc(i))}function wx(i){return Hc(Rc(i))}function Bx(i){return zc(Rc(i))}function Oc(i){var e=i[0]/100,n=i[1]/100,o=i[2]/100,l=i[3]/100,p,a,_;return p=1-Math.min(1,e*(1-l)+l),a=1-Math.min(1,n*(1-l)+l),_=1-Math.min(1,o*(1-l)+l),[p*255,a*255,_*255]}function bx(i){return Dc(Oc(i))}function xx(i){return lp(Oc(i))}function Cx(i){return Pc(Oc(i))}function Fx(i){return zc(Oc(i))}function S1(i){var e=i[0]/100,n=i[1]/100,o=i[2]/100,l,p,a;return l=e*3.2406+n*-1.5372+o*-.4986,p=e*-.9689+n*1.8758+o*.0415,a=e*.0557+n*-.204+o*1.057,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,p=p>.0031308?1.055*Math.pow(p,1/2.4)-.055:p=p*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,l=Math.min(Math.max(0,l),1),p=Math.min(Math.max(0,p),1),a=Math.min(Math.max(0,a),1),[l*255,p*255,a*255]}function T1(i){var e=i[0],n=i[1],o=i[2],l,p,a;return e/=95.047,n/=100,o/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,l=116*n-16,p=500*(e-n),a=200*(n-o),[l,p,a]}function Ex(i){return kg(T1(i))}function Tg(i){var e=i[0],n=i[1],o=i[2],l,p,a,_;return e<=8?(p=e*100/903.3,_=7.787*(p/100)+16/116):(p=100*Math.pow((e+16)/116,3),_=Math.pow(p/100,1/3)),l=l/95.047<=.008856?l=95.047*(n/500+_-16/116)/7.787:95.047*Math.pow(n/500+_,3),a=a/108.883<=.008859?a=108.883*(_-o/200-16/116)/7.787:108.883*Math.pow(_-o/200,3),[l,p,a]}function kg(i){var e=i[0],n=i[1],o=i[2],l,p,a;return l=Math.atan2(o,n),p=l*360/2/Math.PI,p<0&&(p+=360),a=Math.sqrt(n*n+o*o),[e,a,p]}function k1(i){return S1(Tg(i))}function Lg(i){var e=i[0],n=i[1],o=i[2],l,p,a;return a=o/360*2*Math.PI,l=n*Math.cos(a),p=n*Math.sin(a),[e,l,p]}function Ux(i){return Tg(Lg(i))}function Qx(i){return k1(Lg(i))}function Ns(i){return jd[i]}function Ix(i){return Dc(Ns(i))}function Sx(i){return lp(Ns(i))}function Tx(i){return Pc(Ns(i))}function kx(i){return Hc(Ns(i))}function Lx(i){return Sg(Ns(i))}function Mx(i){return Ig(Ns(i))}var jd={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L1={};for(var Dy in jd)L1[JSON.stringify(jd[Dy])]=Dy;var fd=lx,ks=function(){return new Kc};for(var Ac in fd){ks[Ac+"Raw"]=function(i){return function(e){return typeof e=="number"&&(e=Array.prototype.slice.call(arguments)),fd[i](e)}}(Ac);var Py=/(\w+)2(\w+)/.exec(Ac),pd=Py[1],Dx=Py[2];ks[pd]=ks[pd]||{},ks[pd][Dx]=ks[Ac]=function(i){return function(e){typeof e=="number"&&(e=Array.prototype.slice.call(arguments));var n=fd[i](e);if(typeof n=="string"||n===void 0)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(Ac)}var Kc=function(){this.convs={}};Kc.prototype.routeSpace=function(i,e){var n=e[0];return n===void 0?this.getValues(i):(typeof n=="number"&&(n=Array.prototype.slice.call(e)),this.setValues(i,n))};Kc.prototype.setValues=function(i,e){return this.space=i,this.convs={},this.convs[i]=e,this};Kc.prototype.getValues=function(i){var e=this.convs[i];if(!e){var n=this.space,o=this.convs[n];e=ks[n][i](o),this.convs[i]=e}return e};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(i){Kc.prototype[i]=function(e){return this.routeSpace(i,arguments)}});var Px=ks,dd=Px,rT=function(i){var e,n,o,l;if(e=/^((?:rgb|hs[lv]|cmyk|xyz|lab)a?)\s*\(([^\)]*)\)/.exec(i)){var p=e[1],a=p.replace(/a$/,""),_=a==="cmyk"?4:3;n=dd[a],o=e[2].replace(/^\s+|\s+$/g,"").split(/\s*,\s*/).map(function(F,Q){return/%$/.test(F)&&Q===_?parseFloat(F)/100:(/%$/.test(F),parseFloat(F))}),p===a&&o.push(1),l=o[_]===void 0?1:o[_],o=o.slice(0,_),n[a]=function(){return o}}else if(/^#[A-Fa-f0-9]+$/.test(i)){var a=i.replace(/^#/,""),_=a.length;n=dd.rgb,o=a.split(_===3?/(.)/:/(..)/),o=o.filter(Boolean).map(function(x){return parseInt(_===3?x+x:x,16)}),l=1,n.rgb=function(){return o},o[0]||(o[0]=0),o[1]||(o[1]=0),o[2]||(o[2]=0)}else n=dd.keyword,n.keyword=function(){return i},o=i,l=1;var y={rgb:void 0,hsl:void 0,hsv:void 0,cmyk:void 0,keyword:void 0,hex:void 0};try{y.rgb=n.rgb(o)}catch{}try{y.hsl=n.hsl(o)}catch{}try{y.hsv=n.hsv(o)}catch{}try{y.cmyk=n.cmyk(o)}catch{}try{y.keyword=n.keyword(o)}catch{}return y.rgb&&(y.hex="#"+y.rgb.map(function(F){var Q=F.toString(16);return Q.length===1?"0"+Q:Q}).join("")),y.rgb&&(y.rgba=y.rgb.concat(l)),y.hsl&&(y.hsla=y.hsl.concat(l)),y.hsv&&(y.hsva=y.hsv.concat(l)),y.cmyk&&(y.cmyka=y.cmyk.concat(l)),y};function Hx(i,e){const n=i.getBoundingClientRect(),o=e.getBoundingClientRect(),l={};return l.top=n.top<0,l.left=n.left<0,l.bottom=n.bottom+o.height>(window.innerHeight||document.documentElement.clientHeight),l.right=n.right>(window.innerWidth||document.documentElement.clientWidth),l.any=l.top||l.left||l.bottom||l.right,l}function zx(i){let e,n=i[0](i[1],i[2])+"",o;return{c(){e=Sr("div"),this.h()},l(l){e=Or(l,"DIV",{class:!0});var p=Et(e);p.forEach(Be),this.h()},h(){ce(e,"class",o="item "+i[3]+" svelte-3e0qet")},m(l,p){Ye(l,e,p),e.innerHTML=n},p(l,[p]){p&7&&n!==(n=l[0](l[1],l[2])+"")&&(e.innerHTML=n),p&8&&o!==(o="item "+l[3]+" svelte-3e0qet")&&ce(e,"class",o)},i:Ir,o:Ir,d(l){l&&Be(e)}}}function Rx(i,e,n){let{isActive:o=!1}=e,{isFirst:l=!1}=e,{isHover:p=!1}=e,{isSelectable:a=!1}=e,{getOptionLabel:_=void 0}=e,{item:y=void 0}=e,{filterText:F=""}=e,Q="";return i.$$set=x=>{"isActive"in x&&n(4,o=x.isActive),"isFirst"in x&&n(5,l=x.isFirst),"isHover"in x&&n(6,p=x.isHover),"isSelectable"in x&&n(7,a=x.isSelectable),"getOptionLabel"in x&&n(0,_=x.getOptionLabel),"item"in x&&n(1,y=x.item),"filterText"in x&&n(2,F=x.filterText)},i.$$.update=()=>{if(i.$$.dirty&242){const x=[];o&&x.push("active"),l&&x.push("first"),p&&x.push("hover"),y.isGroupHeader&&x.push("groupHeader"),y.isGroupItem&&x.push("groupItem"),a||x.push("notSelectable"),n(3,Q=x.join(" "))}},[_,y,F,Q,o,l,p,a]}class M1 extends Ei{constructor(e){super();Fi(this,e,Rx,zx,wi,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function Hy(i,e,n){const o=i.slice();return o[41]=e[n],o[42]=n,o}function Ox(i){let e,n,o=i[1],l=[];for(let _=0;_<o.length;_+=1)l[_]=Oy(Hy(i,o,_));const p=_=>Xe(l[_],1,1,()=>{l[_]=null});let a=null;return o.length||(a=zy(i)),{c(){for(let _=0;_<l.length;_+=1)l[_].c();e=Mt(),a&&a.c()},l(_){for(let y=0;y<l.length;y+=1)l[y].l(_);e=Mt(),a&&a.l(_)},m(_,y){for(let F=0;F<l.length;F+=1)l[F].m(_,y);Ye(_,e,y),a&&a.m(_,y),n=!0},p(_,y){if(y[0]&114390){o=_[1];let F;for(F=0;F<o.length;F+=1){const Q=Hy(_,o,F);l[F]?(l[F].p(Q,y),Te(l[F],1)):(l[F]=Oy(Q),l[F].c(),Te(l[F],1),l[F].m(e.parentNode,e))}for(Fr(),F=o.length;F<l.length;F+=1)p(F);Er(),!o.length&&a?a.p(_,y):o.length?a&&(a.d(1),a=null):(a=zy(_),a.c(),a.m(e.parentNode,e))}},i(_){if(!n){for(let y=0;y<o.length;y+=1)Te(l[y]);n=!0}},o(_){l=l.filter(Boolean);for(let y=0;y<l.length;y+=1)Xe(l[y]);n=!1},d(_){_A(l,_),_&&Be(e),a&&a.d(_)}}}function Kx(i){let e,n,o;var l=i[3];function p(a){return{props:{items:a[1],itemHeight:a[8],$$slots:{default:[Gx,({item:_,i:y})=>({41:_,42:y}),({item:_,i:y})=>[0,(_?1024:0)|(y?2048:0)]]},$$scope:{ctx:a}}}}return l&&(e=new l(p(i))),{c(){e&&dr(e.$$.fragment),n=Mt()},l(a){e&&Lr(e.$$.fragment,a),n=Mt()},m(a,_){e&&lr(e,a,_),Ye(a,n,_),o=!0},p(a,_){const y={};if(_[0]&2&&(y.items=a[1]),_[0]&256&&(y.itemHeight=a[8]),_[0]&9814|_[1]&11264&&(y.$$scope={dirty:_,ctx:a}),l!==(l=a[3])){if(e){Fr();const F=e;Xe(F.$$.fragment,1,0,()=>{ur(F,1)}),Er()}l?(e=new l(p(a)),dr(e.$$.fragment),Te(e.$$.fragment,1),lr(e,n.parentNode,n)):e=null}else l&&e.$set(y)},i(a){o||(e&&Te(e.$$.fragment,a),o=!0)},o(a){e&&Xe(e.$$.fragment,a),o=!1},d(a){a&&Be(n),e&&ur(e,a)}}}function zy(i){let e,n=!i[11]&&Ry(i);return{c(){n&&n.c(),e=Mt()},l(o){n&&n.l(o),e=Mt()},m(o,l){n&&n.m(o,l),Ye(o,e,l)},p(o,l){o[11]?n&&(n.d(1),n=null):n?n.p(o,l):(n=Ry(o),n.c(),n.m(e.parentNode,e))},d(o){n&&n.d(o),o&&Be(e)}}}function Ry(i){let e,n;return{c(){e=Sr("div"),n=hn(i[12]),this.h()},l(o){e=Or(o,"DIV",{class:!0});var l=Et(e);n=Hn(l,i[12]),l.forEach(Be),this.h()},h(){ce(e,"class","empty svelte-1uyqfml")},m(o,l){Ye(o,e,l),Ot(e,n)},p(o,l){l[0]&4096&&EA(n,o[12])},d(o){o&&Be(e)}}}function Nx(i){let e,n,o,l,p,a;var _=i[4];function y(I){return{props:{item:I[41],filterText:I[13],getOptionLabel:I[6],isFirst:Zd(I[42]),isActive:Gf(I[41],I[9],I[10]),isHover:Xf(I[2],I[41],I[42],I[1]),isSelectable:Os(I[41])}}}_&&(n=new _(y(i)));function F(){return i[29](i[42])}function Q(){return i[30](i[42])}function x(...I){return i[31](i[41],i[42],...I)}return{c(){e=Sr("div"),n&&dr(n.$$.fragment),o=ir(),this.h()},l(I){e=Or(I,"DIV",{class:!0,tabindex:!0});var M=Et(e);n&&Lr(n.$$.fragment,M),o=nr(M),M.forEach(Be),this.h()},h(){ce(e,"class","listItem"),ce(e,"tabindex","-1")},m(I,M){Ye(I,e,M),n&&lr(n,e,null),Ot(e,o),l=!0,p||(a=[jr(e,"mouseover",F),jr(e,"focus",Q),jr(e,"click",x)],p=!0)},p(I,M){i=I;const k={};if(M[0]&2&&(k.item=i[41]),M[0]&8192&&(k.filterText=i[13]),M[0]&64&&(k.getOptionLabel=i[6]),M[0]&1538&&(k.isActive=Gf(i[41],i[9],i[10])),M[0]&6&&(k.isHover=Xf(i[2],i[41],i[42],i[1])),M[0]&2&&(k.isSelectable=Os(i[41])),_!==(_=i[4])){if(n){Fr();const K=n;Xe(K.$$.fragment,1,0,()=>{ur(K,1)}),Er()}_?(n=new _(y(i)),dr(n.$$.fragment),Te(n.$$.fragment,1),lr(n,e,o)):n=null}else _&&n.$set(k)},i(I){l||(n&&Te(n.$$.fragment,I),l=!0)},o(I){n&&Xe(n.$$.fragment,I),l=!1},d(I){I&&Be(e),n&&ur(n),p=!1,jA(a)}}}function Vx(i){let e,n=i[7](i[41])+"",o;return{c(){e=Sr("div"),o=hn(n),this.h()},l(l){e=Or(l,"DIV",{class:!0});var p=Et(e);o=Hn(p,n),p.forEach(Be),this.h()},h(){ce(e,"class","listGroupTitle svelte-1uyqfml")},m(l,p){Ye(l,e,p),Ot(e,o)},p(l,p){p[0]&130&&n!==(n=l[7](l[41])+"")&&EA(o,n)},i:Ir,o:Ir,d(l){l&&Be(e)}}}function Oy(i){let e,n,o,l;const p=[Vx,Nx],a=[];function _(y,F){return y[41].isGroupHeader&&!y[41].isSelectable?0:1}return e=_(i),n=a[e]=p[e](i),{c(){n.c(),o=Mt()},l(y){n.l(y),o=Mt()},m(y,F){a[e].m(y,F),Ye(y,o,F),l=!0},p(y,F){let Q=e;e=_(y),e===Q?a[e].p(y,F):(Fr(),Xe(a[Q],1,1,()=>{a[Q]=null}),Er(),n=a[e],n?n.p(y,F):(n=a[e]=p[e](y),n.c()),Te(n,1),n.m(o.parentNode,o))},i(y){l||(Te(n),l=!0)},o(y){Xe(n),l=!1},d(y){a[e].d(y),y&&Be(o)}}}function Gx(i){let e,n,o,l,p;var a=i[4];function _(x){return{props:{item:x[41],filterText:x[13],getOptionLabel:x[6],isFirst:Zd(x[42]),isActive:Gf(x[41],x[9],x[10]),isHover:Xf(x[2],x[41],x[42],x[1]),isSelectable:Os(x[41])}}}a&&(n=new a(_(i)));function y(){return i[26](i[42])}function F(){return i[27](i[42])}function Q(...x){return i[28](i[41],i[42],...x)}return{c(){e=Sr("div"),n&&dr(n.$$.fragment),this.h()},l(x){e=Or(x,"DIV",{class:!0});var I=Et(e);n&&Lr(n.$$.fragment,I),I.forEach(Be),this.h()},h(){ce(e,"class","listItem")},m(x,I){Ye(x,e,I),n&&lr(n,e,null),o=!0,l||(p=[jr(e,"mouseover",y),jr(e,"focus",F),jr(e,"click",Q)],l=!0)},p(x,I){i=x;const M={};if(I[1]&1024&&(M.item=i[41]),I[0]&8192&&(M.filterText=i[13]),I[0]&64&&(M.getOptionLabel=i[6]),I[1]&2048&&(M.isFirst=Zd(i[42])),I[0]&1536|I[1]&1024&&(M.isActive=Gf(i[41],i[9],i[10])),I[0]&6|I[1]&3072&&(M.isHover=Xf(i[2],i[41],i[42],i[1])),I[1]&1024&&(M.isSelectable=Os(i[41])),a!==(a=i[4])){if(n){Fr();const k=n;Xe(k.$$.fragment,1,0,()=>{ur(k,1)}),Er()}a?(n=new a(_(i)),dr(n.$$.fragment),Te(n.$$.fragment,1),lr(n,e,null)):n=null}else a&&n.$set(M)},i(x){o||(n&&Te(n.$$.fragment,x),o=!0)},o(x){n&&Xe(n.$$.fragment,x),o=!1},d(x){x&&Be(e),n&&ur(n),l=!1,jA(p)}}}function Xx(i){let e,n,o,l,p,a;const _=[Kx,Ox],y=[];function F(Q,x){return Q[5]?0:1}return n=F(i),o=y[n]=_[n](i),{c(){e=Sr("div"),o.c(),this.h()},l(Q){e=Or(Q,"DIV",{class:!0,style:!0});var x=Et(e);o.l(x),x.forEach(Be),this.h()},h(){ce(e,"class","listContainer svelte-1uyqfml"),ce(e,"style",i[14]),Dn(e,"virtualList",i[5])},m(Q,x){Ye(Q,e,x),y[n].m(e,null),i[32](e),l=!0,p||(a=[jr(window,"keydown",i[17]),jr(window,"resize",i[18])],p=!0)},p(Q,x){let I=n;n=F(Q),n===I?y[n].p(Q,x):(Fr(),Xe(y[I],1,1,()=>{y[I]=null}),Er(),o=y[n],o?o.p(Q,x):(o=y[n]=_[n](Q),o.c()),Te(o,1),o.m(e,null)),(!l||x[0]&16384)&&ce(e,"style",Q[14]),x[0]&32&&Dn(e,"virtualList",Q[5])},i(Q){l||(Te(o),l=!0)},o(Q){Xe(o),l=!1},d(Q){Q&&Be(e),y[n].d(),i[32](null),p=!1,jA(a)}}}function Gf(i,e,n){return e&&e[n]===i[n]}function Zd(i){return i===0}function Xf(i,e,n,o){return Os(e)&&(i===n||o.length===1)}function Os(i){return i.isGroupHeader&&i.isSelectable||i.selectable||!i.hasOwnProperty("selectable")}function jx(i,e,n){const o=Ks();let{container:l=void 0}=e,{VirtualList:p=null}=e,{Item:a=M1}=e,{isVirtualList:_=!1}=e,{items:y=[]}=e,{labelIdentifier:F="label"}=e,{getOptionLabel:Q=(it,wt)=>{if(it)return it.isCreator?`Create "${wt}"`:it[F]}}=e,{getGroupHeaderLabel:x=null}=e,{itemHeight:I=40}=e,{hoverItemIndex:M=0}=e,{value:k=void 0}=e,{optionIdentifier:K="value"}=e,{hideEmptyState:$=!1}=e,{noOptionsMessage:R="No options"}=e,{isMulti:V=!1}=e,{activeItemIndex:le=0}=e,{filterText:ee=""}=e,{parent:me=null}=e,{listPlacement:we=null}=e,{listAutoWidth:Ge=null}=e,{listOffset:Le=5}=e,fe=0,Ee=!1,ve;Mc(()=>{if(y.length>0&&!V&&k){const it=y.findIndex(wt=>wt[K]===k[K]);it&&n(2,M=it)}ct("active"),l.addEventListener("scroll",()=>{clearTimeout(fe),fe=setTimeout(()=>{Ee=!1},100)},!1)}),C1(()=>{y||n(1,y=[]),y!==ve&&y.length>0&&n(2,M=0),ve=y});function De(it){it.isCreator||o("itemSelected",it)}function Qe(it){Ee||n(2,M=it)}function Ze(it){const{item:wt,i:vr,event:wr}=it;if(wr.stopPropagation(),k&&!V&&k[K]===wt[K])return Ne();wt.isCreator?o("itemCreated",ee):Os(wt)&&(n(19,le=vr),n(2,M=vr),De(wt))}function Ne(){o("closeList")}async function Fe(it){if(_)return;let wt=!0;for(;wt;)it>0&&M===y.length-1?n(2,M=0):it<0&&M===0?n(2,M=y.length-1):n(2,M=M+it),wt=!Os(y[M]);await zf(),ct("hover")}function rt(it){switch(it.key){case"Escape":it.preventDefault(),Ne();break;case"ArrowDown":it.preventDefault(),y.length&&Fe(1);break;case"ArrowUp":it.preventDefault(),y.length&&Fe(-1);break;case"Enter":if(it.preventDefault(),y.length===0)break;const wt=y[M];if(k&&!V&&k[K]===wt[K]){Ne();break}wt.isCreator?o("itemCreated",ee):(n(19,le=M),De(y[M]));break;case"Tab":if(it.preventDefault(),y.length===0||k&&k[K]===y[M][K])return Ne();n(19,le=M),De(y[M]);break}}function ct(it){if(_||!l)return;let wt;const vr=l.querySelector(`.listItem .${it}`);vr&&(wt=l.getBoundingClientRect().bottom-vr.getBoundingClientRect().bottom),n(0,l.scrollTop-=wt,l)}let Tt;function at(){const{height:it,width:wt}=me.getBoundingClientRect();n(14,Tt=""),n(14,Tt+=`min-width:${wt}px;width:${Ge?"auto":"100%"};`),we==="top"||we==="auto"&&Hx(me,l).bottom?n(14,Tt+=`bottom:${it+Le}px;`):n(14,Tt+=`top:${it+Le}px;`)}const ot=it=>Qe(it),jt=it=>Qe(it),Yt=(it,wt,vr)=>Ze({item:it,i:wt,event:vr}),pt=it=>Qe(it),We=it=>Qe(it),Ar=(it,wt,vr)=>Ze({item:it,i:wt,event:vr});function St(it){zn[it?"unshift":"push"](()=>{l=it,n(0,l)})}return i.$$set=it=>{"container"in it&&n(0,l=it.container),"VirtualList"in it&&n(3,p=it.VirtualList),"Item"in it&&n(4,a=it.Item),"isVirtualList"in it&&n(5,_=it.isVirtualList),"items"in it&&n(1,y=it.items),"labelIdentifier"in it&&n(20,F=it.labelIdentifier),"getOptionLabel"in it&&n(6,Q=it.getOptionLabel),"getGroupHeaderLabel"in it&&n(7,x=it.getGroupHeaderLabel),"itemHeight"in it&&n(8,I=it.itemHeight),"hoverItemIndex"in it&&n(2,M=it.hoverItemIndex),"value"in it&&n(9,k=it.value),"optionIdentifier"in it&&n(10,K=it.optionIdentifier),"hideEmptyState"in it&&n(11,$=it.hideEmptyState),"noOptionsMessage"in it&&n(12,R=it.noOptionsMessage),"isMulti"in it&&n(21,V=it.isMulti),"activeItemIndex"in it&&n(19,le=it.activeItemIndex),"filterText"in it&&n(13,ee=it.filterText),"parent"in it&&n(22,me=it.parent),"listPlacement"in it&&n(23,we=it.listPlacement),"listAutoWidth"in it&&n(24,Ge=it.listAutoWidth),"listOffset"in it&&n(25,Le=it.listOffset)},i.$$.update=()=>{i.$$.dirty[0]&4194305&&me&&l&&at()},[l,y,M,p,a,_,Q,x,I,k,K,$,R,ee,Tt,Qe,Ze,rt,at,le,F,V,me,we,Ge,Le,ot,jt,Yt,pt,We,Ar,St]}class Zx extends Ei{constructor(e){super();Fi(this,e,jx,Xx,wi,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function qx(i){let e,n=i[0](i[1])+"";return{c(){e=Sr("div"),this.h()},l(o){e=Or(o,"DIV",{class:!0});var l=Et(e);l.forEach(Be),this.h()},h(){ce(e,"class","selection svelte-pu1q1n")},m(o,l){Ye(o,e,l),e.innerHTML=n},p(o,[l]){l&3&&n!==(n=o[0](o[1])+"")&&(e.innerHTML=n)},i:Ir,o:Ir,d(o){o&&Be(e)}}}function Wx(i,e,n){let{getSelectionLabel:o=void 0}=e,{item:l=void 0}=e;return i.$$set=p=>{"getSelectionLabel"in p&&n(0,o=p.getSelectionLabel),"item"in p&&n(1,l=p.item)},[o,l]}class Jx extends Ei{constructor(e){super();Fi(this,e,Wx,qx,wi,{getSelectionLabel:0,item:1})}}function Ky(i,e,n){const o=i.slice();return o[9]=e[n],o[11]=n,o}function Ny(i){let e,n,o,l,p;function a(..._){return i[6](i[11],..._)}return{c(){e=Sr("div"),n=Cr("svg"),o=Cr("path"),this.h()},l(_){e=Or(_,"DIV",{class:!0});var y=Et(e);n=Qr(y,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var F=Et(n);o=Qr(F,"path",{d:!0}),Et(o).forEach(Be),F.forEach(Be),y.forEach(Be),this.h()},h(){ce(o,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),ce(n,"width","100%"),ce(n,"height","100%"),ce(n,"viewBox","-2 -2 50 50"),ce(n,"focusable","false"),ce(n,"aria-hidden","true"),ce(n,"role","presentation"),ce(n,"class","svelte-liu9pa"),ce(e,"class","multiSelectItem_clear svelte-liu9pa")},m(_,y){Ye(_,e,y),Ot(e,n),Ot(n,o),l||(p=jr(e,"click",a),l=!0)},p(_,y){i=_},d(_){_&&Be(e),l=!1,p()}}}function Vy(i){let e,n,o=i[4](i[9])+"",l,p,a,_,y,F=!i[2]&&!i[3]&&Ny(i);function Q(...x){return i[7](i[11],...x)}return{c(){e=Sr("div"),n=Sr("div"),l=ir(),F&&F.c(),p=ir(),this.h()},l(x){e=Or(x,"DIV",{class:!0});var I=Et(e);n=Or(I,"DIV",{class:!0});var M=Et(n);M.forEach(Be),l=nr(I),F&&F.l(I),p=nr(I),I.forEach(Be),this.h()},h(){ce(n,"class","multiSelectItem_label svelte-liu9pa"),ce(e,"class",a="multiSelectItem "+(i[1]===i[11]?"active":"")+" "+(i[2]?"disabled":"")+" svelte-liu9pa")},m(x,I){Ye(x,e,I),Ot(e,n),n.innerHTML=o,Ot(e,l),F&&F.m(e,null),Ot(e,p),_||(y=jr(e,"click",Q),_=!0)},p(x,I){i=x,I&17&&o!==(o=i[4](i[9])+"")&&(n.innerHTML=o),!i[2]&&!i[3]?F?F.p(i,I):(F=Ny(i),F.c(),F.m(e,p)):F&&(F.d(1),F=null),I&6&&a!==(a="multiSelectItem "+(i[1]===i[11]?"active":"")+" "+(i[2]?"disabled":"")+" svelte-liu9pa")&&ce(e,"class",a)},d(x){x&&Be(e),F&&F.d(),_=!1,y()}}}function Yx(i){let e,n=i[0],o=[];for(let l=0;l<n.length;l+=1)o[l]=Vy(Ky(i,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Mt()},l(l){for(let p=0;p<o.length;p+=1)o[p].l(l);e=Mt()},m(l,p){for(let a=0;a<o.length;a+=1)o[a].m(l,p);Ye(l,e,p)},p(l,[p]){if(p&63){n=l[0];let a;for(a=0;a<n.length;a+=1){const _=Ky(l,n,a);o[a]?o[a].p(_,p):(o[a]=Vy(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},i:Ir,o:Ir,d(l){_A(o,l),l&&Be(e)}}}function $x(i,e,n){const o=Ks();let{value:l=[]}=e,{activeValue:p=void 0}=e,{isDisabled:a=!1}=e,{multiFullItemClearable:_=!1}=e,{getSelectionLabel:y=void 0}=e;function F(I,M){M.stopPropagation(),o("multiItemClear",{i:I})}const Q=(I,M)=>F(I,M),x=(I,M)=>_?F(I,M):{};return i.$$set=I=>{"value"in I&&n(0,l=I.value),"activeValue"in I&&n(1,p=I.activeValue),"isDisabled"in I&&n(2,a=I.isDisabled),"multiFullItemClearable"in I&&n(3,_=I.multiFullItemClearable),"getSelectionLabel"in I&&n(4,y=I.getSelectionLabel)},[l,p,a,_,y,F,Q,x]}class e2 extends Ei{constructor(e){super();Fi(this,e,$x,Yx,wi,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function Gy(i,e,n){const o=i.slice();return o[23]=e[n],o}const t2=i=>({item:i&32,i:i&32,hoverItemIndex:i&2}),Xy=i=>({item:i[23].data,i:i[23].index,hoverItemIndex:i[1]});function r2(i){let e;return{c(){e=hn("Missing template")},l(n){e=Hn(n,"Missing template")},m(n,o){Ye(n,e,o)},d(n){n&&Be(e)}}}function jy(i,e){let n,o,l;const p=e[15].default,a=Cn(p,e,e[14],Xy),_=a||r2();return{key:i,first:null,c(){n=Sr("svelte-virtual-list-row"),_&&_.c(),o=ir(),this.h()},l(y){n=Or(y,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var F=Et(n);_&&_.l(F),o=nr(F),F.forEach(Be),this.h()},h(){Nd(n,"class","svelte-g2cagw"),this.first=n},m(y,F){Ye(y,n,F),_&&_.m(n,null),Ot(n,o),l=!0},p(y,F){e=y,a&&a.p&&(!l||F&16418)&&En(a,p,e,e[14],l?Fn(p,e[14],F,t2):Un(e[14]),Xy)},i(y){l||(Te(_,y),l=!0)},o(y){Xe(_,y),l=!1},d(y){y&&Be(n),_&&_.d(y)}}}function i2(i){let e,n,o=[],l=new Map,p,a,_,y,F=i[5];const Q=x=>x[23].index;for(let x=0;x<F.length;x+=1){let I=Gy(i,F,x),M=Q(I);l.set(M,o[x]=jy(M,I))}return{c(){e=Sr("svelte-virtual-list-viewport"),n=Sr("svelte-virtual-list-contents");for(let x=0;x<o.length;x+=1)o[x].c();this.h()},l(x){e=Or(x,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var I=Et(e);n=Or(I,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var M=Et(n);for(let k=0;k<o.length;k+=1)o[k].l(M);M.forEach(Be),I.forEach(Be),this.h()},h(){gr(n,"padding-top",i[6]+"px"),gr(n,"padding-bottom",i[7]+"px"),Nd(n,"class","svelte-g2cagw"),gr(e,"height",i[0]),Nd(e,"class","svelte-g2cagw"),ru(()=>i[18].call(e))},m(x,I){Ye(x,e,I),Ot(e,n);for(let M=0;M<o.length;M+=1)o[M].m(n,null);i[16](n),i[17](e),p=Ug(e,i[18].bind(e)),a=!0,_||(y=jr(e,"scroll",i[8]),_=!0)},p(x,[I]){I&16418&&(F=x[5],Fr(),o=Wb(o,I,Q,1,x,F,l,n,qb,jy,null,Gy),Er()),(!a||I&64)&&gr(n,"padding-top",x[6]+"px"),(!a||I&128)&&gr(n,"padding-bottom",x[7]+"px"),(!a||I&1)&&gr(e,"height",x[0])},i(x){if(!a){for(let I=0;I<F.length;I+=1)Te(o[I]);a=!0}},o(x){for(let I=0;I<o.length;I+=1)Xe(o[I]);a=!1},d(x){x&&Be(e);for(let I=0;I<o.length;I+=1)o[I].d();i[16](null),i[17](null),p(),_=!1,y()}}}function n2(i,e,n){let{$$slots:o={},$$scope:l}=e,{items:p=void 0}=e,{height:a="100%"}=e,{itemHeight:_=40}=e,{hoverItemIndex:y=0}=e,{start:F=0}=e,{end:Q=0}=e,x=[],I,M,k,K=0,$,R,V=0,le=0,ee;async function me(Ee,ve,De){const{scrollTop:Qe}=M;await zf();let Ze=V-Qe,Ne=F;for(;Ze<ve&&Ne<Ee.length;){let rt=I[Ne-F];rt||(n(10,Q=Ne+1),await zf(),rt=I[Ne-F]),Ze+=x[Ne]=De||rt.offsetHeight,Ne+=1}n(10,Q=Ne);const Fe=Ee.length-Q;ee=(V+Ze)/Q,n(7,le=Fe*ee),x.length=Ee.length,M&&n(3,M.scrollTop=0,M)}async function we(){const{scrollTop:Ee}=M,ve=F;for(let Ne=0;Ne<I.length;Ne+=1)x[F+Ne]=_||I[Ne].offsetHeight;let De=0,Qe=0;for(;De<p.length;){const Ne=x[De]||ee;if(Qe+Ne>Ee){n(9,F=De),n(6,V=Qe);break}Qe+=Ne,De+=1}for(;De<p.length&&(Qe+=x[De]||ee,De+=1,!(Qe>Ee+K)););n(10,Q=De);const Ze=p.length-Q;for(ee=Qe/Q;De<p.length;)x[De++]=ee;if(n(7,le=Ze*ee),F<ve){await zf();let Ne=0,Fe=0;for(let ct=F;ct<ve;ct+=1)I[ct-F]&&(Ne+=x[ct],Fe+=_||I[ct-F].offsetHeight);const rt=Fe-Ne;M.scrollTo(0,Ee+rt)}}Mc(()=>{I=k.getElementsByTagName("svelte-virtual-list-row"),n(13,R=!0)});function Ge(Ee){zn[Ee?"unshift":"push"](()=>{k=Ee,n(4,k)})}function Le(Ee){zn[Ee?"unshift":"push"](()=>{M=Ee,n(3,M)})}function fe(){K=this.offsetHeight,n(2,K)}return i.$$set=Ee=>{"items"in Ee&&n(11,p=Ee.items),"height"in Ee&&n(0,a=Ee.height),"itemHeight"in Ee&&n(12,_=Ee.itemHeight),"hoverItemIndex"in Ee&&n(1,y=Ee.hoverItemIndex),"start"in Ee&&n(9,F=Ee.start),"end"in Ee&&n(10,Q=Ee.end),"$$scope"in Ee&&n(14,l=Ee.$$scope)},i.$$.update=()=>{i.$$.dirty&3584&&n(5,$=p.slice(F,Q).map((Ee,ve)=>({index:ve+F,data:Ee}))),i.$$.dirty&14340&&R&&me(p,K,_)},[a,y,K,M,k,$,V,le,we,F,Q,p,_,R,l,o,Ge,Le,fe]}class A2 extends Ei{constructor(e){super();Fi(this,e,n2,i2,wi,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function o2(i){let e,n;return{c(){e=Cr("svg"),n=Cr("path"),this.h()},l(o){e=Qr(o,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var l=Et(e);n=Qr(l,"path",{fill:!0,d:!0}),Et(n).forEach(Be),l.forEach(Be),this.h()},h(){ce(n,"fill","currentColor"),ce(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),ce(e,"width","100%"),ce(e,"height","100%"),ce(e,"viewBox","-2 -2 50 50"),ce(e,"focusable","false"),ce(e,"aria-hidden","true"),ce(e,"role","presentation")},m(o,l){Ye(o,e,l),Ot(e,n)},p:Ir,i:Ir,o:Ir,d(o){o&&Be(e)}}}class a2 extends Ei{constructor(e){super();Fi(this,e,null,o2,wi,{})}}function s2(i,e,n){let o;return function(){let p=this,a=arguments,_=function(){o=null,n||i.apply(p,a)},y=n&&!o;clearTimeout(o),o=setTimeout(_,e),y&&i.apply(p,a)}}function Zy(i,e,n){const o=i.slice();return o[103]=e[n],o}function qy(i){let e,n,o,l,p;return{c(){e=Sr("span"),n=hn(i[33]),o=ir(),l=Sr("span"),p=hn(i[32]),this.h()},l(a){e=Or(a,"SPAN",{id:!0});var _=Et(e);n=Hn(_,i[33]),_.forEach(Be),o=nr(a),l=Or(a,"SPAN",{id:!0});var y=Et(l);p=Hn(y,i[32]),y.forEach(Be),this.h()},h(){ce(e,"id","aria-selection"),ce(l,"id","aria-context")},m(a,_){Ye(a,e,_),Ot(e,n),Ye(a,o,_),Ye(a,l,_),Ot(l,p)},p(a,_){_[1]&4&&EA(n,a[33]),_[1]&2&&EA(p,a[32])},d(a){a&&Be(e),a&&Be(o),a&&Be(l)}}}function Wy(i){let e,n,o;const l=[i[18]];var p=i[17];function a(_){let y={};for(let F=0;F<l.length;F+=1)y=eu(y,l[F]);return{props:y}}return p&&(e=new p(a())),{c(){e&&dr(e.$$.fragment),n=Mt()},l(_){e&&Lr(e.$$.fragment,_),n=Mt()},m(_,y){e&&lr(e,_,y),Ye(_,n,y),o=!0},p(_,y){const F=y[0]&262144?Qg(l,[U1(_[18])]):{};if(p!==(p=_[17])){if(e){Fr();const Q=e;Xe(Q.$$.fragment,1,0,()=>{ur(Q,1)}),Er()}p?(e=new p(a()),dr(e.$$.fragment),Te(e.$$.fragment,1),lr(e,n.parentNode,n)):e=null}else p&&e.$set(F)},i(_){o||(e&&Te(e.$$.fragment,_),o=!0)},o(_){e&&Xe(e.$$.fragment,_),o=!1},d(_){_&&Be(n),e&&ur(e,_)}}}function Jy(i){let e,n,o;var l=i[26];function p(a){return{props:{value:a[2],getSelectionLabel:a[12],activeValue:a[30],isDisabled:a[9],multiFullItemClearable:a[8]}}}return l&&(e=new l(p(i)),e.$on("multiItemClear",i[38]),e.$on("focus",i[40])),{c(){e&&dr(e.$$.fragment),n=Mt()},l(a){e&&Lr(e.$$.fragment,a),n=Mt()},m(a,_){e&&lr(e,a,_),Ye(a,n,_),o=!0},p(a,_){const y={};if(_[0]&4&&(y.value=a[2]),_[0]&4096&&(y.getSelectionLabel=a[12]),_[0]&1073741824&&(y.activeValue=a[30]),_[0]&512&&(y.isDisabled=a[9]),_[0]&256&&(y.multiFullItemClearable=a[8]),l!==(l=a[26])){if(e){Fr();const F=e;Xe(F.$$.fragment,1,0,()=>{ur(F,1)}),Er()}l?(e=new l(p(a)),e.$on("multiItemClear",a[38]),e.$on("focus",a[40]),dr(e.$$.fragment),Te(e.$$.fragment,1),lr(e,n.parentNode,n)):e=null}else l&&e.$set(y)},i(a){o||(e&&Te(e.$$.fragment,a),o=!0)},o(a){e&&Xe(e.$$.fragment,a),o=!1},d(a){a&&Be(n),e&&ur(e,a)}}}function Yy(i){let e,n,o,l,p;var a=i[25];function _(y){return{props:{item:y[2],getSelectionLabel:y[12]}}}return a&&(n=new a(_(i))),{c(){e=Sr("div"),n&&dr(n.$$.fragment),this.h()},l(y){e=Or(y,"DIV",{class:!0});var F=Et(e);n&&Lr(n.$$.fragment,F),F.forEach(Be),this.h()},h(){ce(e,"class","selectedItem svelte-17l1npl")},m(y,F){Ye(y,e,F),n&&lr(n,e,null),o=!0,l||(p=jr(e,"focus",i[40]),l=!0)},p(y,F){const Q={};if(F[0]&4&&(Q.item=y[2]),F[0]&4096&&(Q.getSelectionLabel=y[12]),a!==(a=y[25])){if(n){Fr();const x=n;Xe(x.$$.fragment,1,0,()=>{ur(x,1)}),Er()}a?(n=new a(_(y)),dr(n.$$.fragment),Te(n.$$.fragment,1),lr(n,e,null)):n=null}else a&&n.$set(Q)},i(y){o||(n&&Te(n.$$.fragment,y),o=!0)},o(y){n&&Xe(n.$$.fragment,y),o=!1},d(y){y&&Be(e),n&&ur(n),l=!1,p()}}}function $y(i){let e,n,o,l,p;var a=i[23];function _(y){return{}}return a&&(n=new a(_())),{c(){e=Sr("div"),n&&dr(n.$$.fragment),this.h()},l(y){e=Or(y,"DIV",{class:!0,"aria-hidden":!0});var F=Et(e);n&&Lr(n.$$.fragment,F),F.forEach(Be),this.h()},h(){ce(e,"class","clearSelect svelte-17l1npl"),ce(e,"aria-hidden","true")},m(y,F){Ye(y,e,F),n&&lr(n,e,null),o=!0,l||(p=jr(e,"click",Nb(i[27])),l=!0)},p(y,F){if(a!==(a=y[23])){if(n){Fr();const Q=n;Xe(Q.$$.fragment,1,0,()=>{ur(Q,1)}),Er()}a?(n=new a(_()),dr(n.$$.fragment),Te(n.$$.fragment,1),lr(n,e,null)):n=null}},i(y){o||(n&&Te(n.$$.fragment,y),o=!0)},o(y){n&&Xe(n.$$.fragment,y),o=!1},d(y){y&&Be(e),n&&ur(n),l=!1,p()}}}function e0(i){let e;function n(p,a){return p[22]?u2:l2}let o=n(i),l=o(i);return{c(){e=Sr("div"),l.c(),this.h()},l(p){e=Or(p,"DIV",{class:!0,"aria-hidden":!0});var a=Et(e);l.l(a),a.forEach(Be),this.h()},h(){ce(e,"class","indicator svelte-17l1npl"),ce(e,"aria-hidden","true")},m(p,a){Ye(p,e,a),l.m(e,null)},p(p,a){o===(o=n(p))&&l?l.p(p,a):(l.d(1),l=o(p),l&&(l.c(),l.m(e,null)))},d(p){p&&Be(e),l.d()}}}function l2(i){let e,n;return{c(){e=Cr("svg"),n=Cr("path"),this.h()},l(o){e=Qr(o,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var l=Et(e);n=Qr(l,"path",{d:!0}),Et(n).forEach(Be),l.forEach(Be),this.h()},h(){ce(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),ce(e,"width","100%"),ce(e,"height","100%"),ce(e,"viewBox","0 0 20 20"),ce(e,"focusable","false"),ce(e,"aria-hidden","true"),ce(e,"class","svelte-17l1npl")},m(o,l){Ye(o,e,l),Ot(e,n)},p:Ir,d(o){o&&Be(e)}}}function u2(i){let e,n;return{c(){e=new Vd,n=Mt(),this.h()},l(o){e=Vb(o),n=Mt(),this.h()},h(){e.a=n},m(o,l){e.m(i[22],o,l),Ye(o,n,l)},p(o,l){l[0]&4194304&&e.p(o[22])},d(o){o&&Be(n),o&&e.d()}}}function t0(i){let e,n,o;return{c(){e=Sr("div"),n=Cr("svg"),o=Cr("circle"),this.h()},l(l){e=Or(l,"DIV",{class:!0});var p=Et(e);n=Qr(p,"svg",{class:!0,viewBox:!0});var a=Et(n);o=Qr(a,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),Et(o).forEach(Be),a.forEach(Be),p.forEach(Be),this.h()},h(){ce(o,"class","spinner_path svelte-17l1npl"),ce(o,"cx","50"),ce(o,"cy","50"),ce(o,"r","20"),ce(o,"fill","none"),ce(o,"stroke","currentColor"),ce(o,"stroke-width","5"),ce(o,"stroke-miterlimit","10"),ce(n,"class","spinner_icon svelte-17l1npl"),ce(n,"viewBox","25 25 50 50"),ce(e,"class","spinner svelte-17l1npl")},m(l,p){Ye(l,e,p),Ot(e,n),Ot(n,o)},d(l){l&&Be(e)}}}function r0(i){let e,n,o,l;const p=[i[34]];function a(F){i[84](F)}var _=i[24];function y(F){let Q={};for(let x=0;x<p.length;x+=1)Q=eu(Q,p[x]);return F[28]!==void 0&&(Q.hoverItemIndex=F[28]),{props:Q}}return _&&(e=new _(y(i)),zn.push(()=>iu(e,"hoverItemIndex",a)),e.$on("itemSelected",i[43]),e.$on("itemCreated",i[44]),e.$on("closeList",i[45])),{c(){e&&dr(e.$$.fragment),o=Mt()},l(F){e&&Lr(e.$$.fragment,F),o=Mt()},m(F,Q){e&&lr(e,F,Q),Ye(F,o,Q),l=!0},p(F,Q){const x=Q[1]&8?Qg(p,[U1(F[34])]):{};if(!n&&Q[0]&268435456&&(n=!0,x.hoverItemIndex=F[28],Uc(()=>n=!1)),_!==(_=F[24])){if(e){Fr();const I=e;Xe(I.$$.fragment,1,0,()=>{ur(I,1)}),Er()}_?(e=new _(y(F)),zn.push(()=>iu(e,"hoverItemIndex",a)),e.$on("itemSelected",F[43]),e.$on("itemCreated",F[44]),e.$on("closeList",F[45]),dr(e.$$.fragment),Te(e.$$.fragment,1),lr(e,o.parentNode,o)):e=null}else _&&e.$set(x)},i(F){l||(e&&Te(e.$$.fragment,F),l=!0)},o(F){e&&Xe(e.$$.fragment,F),l=!1},d(F){F&&Be(o),e&&ur(e,F)}}}function i0(i){let e,n,o;return{c(){e=Sr("input"),this.h()},l(l){e=Or(l,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){ce(e,"name",n=i[16].name),ce(e,"type","hidden"),e.value=o=i[2]?i[12](i[2]):null,ce(e,"class","svelte-17l1npl")},m(l,p){Ye(l,e,p)},p(l,p){p[0]&65536&&n!==(n=l[16].name)&&ce(e,"name",n),p[0]&4100&&o!==(o=l[2]?l[12](l[2]):null)&&(e.value=o)},d(l){l&&Be(e)}}}function n0(i){let e,n=i[2],o=[];for(let l=0;l<n.length;l+=1)o[l]=A0(Zy(i,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Mt()},l(l){for(let p=0;p<o.length;p+=1)o[p].l(l);e=Mt()},m(l,p){for(let a=0;a<o.length;a+=1)o[a].m(l,p);Ye(l,e,p)},p(l,p){if(p[0]&69636){n=l[2];let a;for(a=0;a<n.length;a+=1){const _=Zy(l,n,a);o[a]?o[a].p(_,p):(o[a]=A0(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){_A(o,l),l&&Be(e)}}}function A0(i){let e,n,o;return{c(){e=Sr("input"),this.h()},l(l){e=Or(l,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){ce(e,"name",n=i[16].name),ce(e,"type","hidden"),e.value=o=i[103]?i[12](i[103]):null,ce(e,"class","svelte-17l1npl")},m(l,p){Ye(l,e,p)},p(l,p){p[0]&65536&&n!==(n=l[16].name)&&ce(e,"name",n),p[0]&4100&&o!==(o=l[103]?l[12](l[103]):null)&&(e.value=o)},d(l){l&&Be(e)}}}function c2(i){let e,n,o,l,p,a,_,y,F,Q,x,I,M,k,K,$,R,V,le=i[1]&&qy(i),ee=i[17]&&Wy(i),me=i[35]&&Jy(i),we=[{readOnly:_=!i[13]},i[31],{placeholder:i[36]},{style:i[14]},{disabled:i[9]}],Ge={};for(let Ne=0;Ne<we.length;Ne+=1)Ge=eu(Ge,we[Ne]);let Le=!i[7]&&i[29]&&Yy(i),fe=i[37]&&$y(i),Ee=!i[37]&&(i[20]||i[19]&&!i[2]||!i[13]&&!i[9]&&!i[4]&&(i[29]&&!i[15]||!i[29]))&&e0(i),ve=i[4]&&t0(),De=i[5]&&r0(i),Qe=(!i[7]||i[7]&&!i[35])&&i0(i),Ze=i[7]&&i[35]&&n0(i);return{c(){e=Sr("div"),n=Sr("span"),le&&le.c(),o=ir(),ee&&ee.c(),l=ir(),me&&me.c(),p=ir(),a=Sr("input"),y=ir(),Le&&Le.c(),F=ir(),fe&&fe.c(),Q=ir(),Ee&&Ee.c(),x=ir(),ve&&ve.c(),I=ir(),De&&De.c(),M=ir(),Qe&&Qe.c(),k=ir(),Ze&&Ze.c(),this.h()},l(Ne){e=Or(Ne,"DIV",{class:!0,style:!0});var Fe=Et(e);n=Or(Fe,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var rt=Et(n);le&&le.l(rt),rt.forEach(Be),o=nr(Fe),ee&&ee.l(Fe),l=nr(Fe),me&&me.l(Fe),p=nr(Fe),a=Or(Fe,"INPUT",{placeholder:!0,style:!0}),y=nr(Fe),Le&&Le.l(Fe),F=nr(Fe),fe&&fe.l(Fe),Q=nr(Fe),Ee&&Ee.l(Fe),x=nr(Fe),ve&&ve.l(Fe),I=nr(Fe),De&&De.l(Fe),M=nr(Fe),Qe&&Qe.l(Fe),k=nr(Fe),Ze&&Ze.l(Fe),Fe.forEach(Be),this.h()},h(){ce(n,"aria-live","polite"),ce(n,"aria-atomic","false"),ce(n,"aria-relevant","additions text"),ce(n,"class","a11yText svelte-17l1npl"),Qy(a,Ge),Dn(a,"svelte-17l1npl",!0),ce(e,"class",K="selectContainer "+i[21]+" svelte-17l1npl"),ce(e,"style",i[11]),Dn(e,"hasError",i[10]),Dn(e,"multiSelect",i[7]),Dn(e,"disabled",i[9]),Dn(e,"focused",i[1])},m(Ne,Fe){Ye(Ne,e,Fe),Ot(e,n),le&&le.m(n,null),Ot(e,o),ee&&ee.m(e,null),Ot(e,l),me&&me.m(e,null),Ot(e,p),Ot(e,a),a.autofocus&&a.focus(),i[82](a),Sy(a,i[3]),Ot(e,y),Le&&Le.m(e,null),Ot(e,F),fe&&fe.m(e,null),Ot(e,Q),Ee&&Ee.m(e,null),Ot(e,x),ve&&ve.m(e,null),Ot(e,I),De&&De.m(e,null),Ot(e,M),Qe&&Qe.m(e,null),Ot(e,k),Ze&&Ze.m(e,null),i[85](e),$=!0,R||(V=[jr(window,"click",i[41]),jr(window,"focusin",i[41]),jr(window,"keydown",i[39]),jr(a,"focus",i[40]),jr(a,"input",i[83]),jr(e,"click",i[42])],R=!0)},p(Ne,Fe){Ne[1]?le?le.p(Ne,Fe):(le=qy(Ne),le.c(),le.m(n,null)):le&&(le.d(1),le=null),Ne[17]?ee?(ee.p(Ne,Fe),Fe[0]&131072&&Te(ee,1)):(ee=Wy(Ne),ee.c(),Te(ee,1),ee.m(e,l)):ee&&(Fr(),Xe(ee,1,1,()=>{ee=null}),Er()),Ne[35]?me?(me.p(Ne,Fe),Fe[1]&16&&Te(me,1)):(me=Jy(Ne),me.c(),Te(me,1),me.m(e,p)):me&&(Fr(),Xe(me,1,1,()=>{me=null}),Er()),Qy(a,Ge=Qg(we,[(!$||Fe[0]&8192&&_!==(_=!Ne[13]))&&{readOnly:_},Fe[1]&1&&Ne[31],(!$||Fe[1]&32)&&{placeholder:Ne[36]},(!$||Fe[0]&16384)&&{style:Ne[14]},(!$||Fe[0]&512)&&{disabled:Ne[9]}])),Fe[0]&8&&a.value!==Ne[3]&&Sy(a,Ne[3]),Dn(a,"svelte-17l1npl",!0),!Ne[7]&&Ne[29]?Le?(Le.p(Ne,Fe),Fe[0]&536871040&&Te(Le,1)):(Le=Yy(Ne),Le.c(),Te(Le,1),Le.m(e,F)):Le&&(Fr(),Xe(Le,1,1,()=>{Le=null}),Er()),Ne[37]?fe?(fe.p(Ne,Fe),Fe[1]&64&&Te(fe,1)):(fe=$y(Ne),fe.c(),Te(fe,1),fe.m(e,Q)):fe&&(Fr(),Xe(fe,1,1,()=>{fe=null}),Er()),!Ne[37]&&(Ne[20]||Ne[19]&&!Ne[2]||!Ne[13]&&!Ne[9]&&!Ne[4]&&(Ne[29]&&!Ne[15]||!Ne[29]))?Ee?Ee.p(Ne,Fe):(Ee=e0(Ne),Ee.c(),Ee.m(e,x)):Ee&&(Ee.d(1),Ee=null),Ne[4]?ve||(ve=t0(),ve.c(),ve.m(e,I)):ve&&(ve.d(1),ve=null),Ne[5]?De?(De.p(Ne,Fe),Fe[0]&32&&Te(De,1)):(De=r0(Ne),De.c(),Te(De,1),De.m(e,M)):De&&(Fr(),Xe(De,1,1,()=>{De=null}),Er()),!Ne[7]||Ne[7]&&!Ne[35]?Qe?Qe.p(Ne,Fe):(Qe=i0(Ne),Qe.c(),Qe.m(e,k)):Qe&&(Qe.d(1),Qe=null),Ne[7]&&Ne[35]?Ze?Ze.p(Ne,Fe):(Ze=n0(Ne),Ze.c(),Ze.m(e,null)):Ze&&(Ze.d(1),Ze=null),(!$||Fe[0]&2097152&&K!==(K="selectContainer "+Ne[21]+" svelte-17l1npl"))&&ce(e,"class",K),(!$||Fe[0]&2048)&&ce(e,"style",Ne[11]),Fe[0]&2098176&&Dn(e,"hasError",Ne[10]),Fe[0]&2097280&&Dn(e,"multiSelect",Ne[7]),Fe[0]&2097664&&Dn(e,"disabled",Ne[9]),Fe[0]&2097154&&Dn(e,"focused",Ne[1])},i(Ne){$||(Te(ee),Te(me),Te(Le),Te(fe),Te(De),$=!0)},o(Ne){Xe(ee),Xe(me),Xe(Le),Xe(fe),Xe(De),$=!1},d(Ne){Ne&&Be(e),le&&le.d(),ee&&ee.d(),me&&me.d(),i[82](null),Le&&Le.d(),fe&&fe.d(),Ee&&Ee.d(),ve&&ve.d(),De&&De.d(),Qe&&Qe.d(),Ze&&Ze.d(),i[85](null),R=!1,jA(V)}}}function o0(i){return i.map((e,n)=>({index:n,value:e,label:`${e}`}))}function h2(i,e,n){let o,l,p,a,_,y,F,Q;const x=Ks();let{id:I=null}=e,{container:M=void 0}=e,{input:k=void 0}=e,{isMulti:K=!1}=e,{multiFullItemClearable:$=!1}=e,{isDisabled:R=!1}=e,{isCreatable:V=!1}=e,{isFocused:le=!1}=e,{value:ee=null}=e,{filterText:me=""}=e,{placeholder:we="Select..."}=e,{placeholderAlwaysShow:Ge=!1}=e,{items:Le=null}=e,{itemFilter:fe=(se,mt,It)=>`${se}`.toLowerCase().includes(mt.toLowerCase())}=e,{groupBy:Ee=void 0}=e,{groupFilter:ve=se=>se}=e,{isGroupHeaderSelectable:De=!1}=e,{getGroupHeaderLabel:Qe=se=>se[Ze]||se.id}=e,{labelIdentifier:Ze="label"}=e,{getOptionLabel:Ne=(se,mt)=>se.isCreator?`Create "${mt}"`:se[Ze]}=e,{optionIdentifier:Fe="value"}=e,{loadOptions:rt=void 0}=e,{hasError:ct=!1}=e,{containerStyles:Tt=""}=e,{getSelectionLabel:at=se=>se?se[Ze]:null}=e,{createGroupHeaderItem:ot=se=>({value:se,label:se})}=e,{createItem:jt=se=>({value:se,label:se})}=e;const Yt=()=>o;let{isSearchable:pt=!0}=e,{inputStyles:We=""}=e,{isClearable:Ar=!0}=e,{isWaiting:St=!1}=e,{listPlacement:it="auto"}=e,{listOpen:wt=!1}=e,{isVirtualList:vr=!1}=e,{loadOptionsInterval:wr=300}=e,{noOptionsMessage:$t="No options"}=e,{hideEmptyState:Gt=!1}=e,{inputAttributes:Kr={}}=e,{listAutoWidth:Kt=!0}=e,{itemHeight:tr=40}=e,{Icon:ei=void 0}=e,{iconProps:ti={}}=e,{showChevron:ri=!1}=e,{showIndicator:Nr=!1}=e,{containerClasses:Mi=""}=e,{indicatorSvg:Ui=void 0}=e,{listOffset:si=5}=e,{ClearIcon:Ai=a2}=e,{Item:Si=M1}=e,{List:Zr=Zx}=e,{Selection:Qi=Jx}=e,{MultiSelection:Qn=e2}=e,{VirtualList:on=A2}=e;function In(se){if(se.loadOptions&&se.filterText.length>0)return;if(!se.items)return[];se.items&&se.items.length>0&&typeof se.items[0]!="object"&&(se.items=o0(se.items));let mt=se.items.filter(It=>{let qr=fe(Ne(It,se.filterText),se.filterText,It);return qr&&se.isMulti&&se.value&&Array.isArray(se.value)&&(qr=!se.value.some(hr=>hr[se.optionIdentifier]===It[se.optionIdentifier])),qr});return se.groupBy&&(mt=pn(mt)),se.isCreatable&&(mt=je(mt,se.filterText)),mt}function je(se,mt){if(mt.length===0)return se;const It=jt(mt);return se[0]&&mt===se[0][Ze]?se:(It.isCreator=!0,[...se,It])}let{selectedValue:li=null}=e,Se,Tr,yr,ci,hi,ui;const fn=s2(async()=>{n(4,St=!0);let se=await rt(me).catch(mt=>{console.warn("svelte-select loadOptions error :>> ",mt),x("error",{type:"loadOptions",details:mt})});se&&!se.cancelled&&(se?(se&&se.length>0&&typeof se[0]!="object"&&(se=o0(se)),n(81,o=[...se]),x("loaded",{items:o})):n(81,o=[]),V&&n(81,o=je(o,me)),n(4,St=!1),n(1,le=!0),n(5,wt=!0))},wr);function Sn(){typeof ee=="string"?n(2,ee={[Fe]:ee,label:ee}):K&&Array.isArray(ee)&&ee.length>0&&n(2,ee=ee.map(se=>typeof se=="string"?{value:se,label:se}:se))}let Pe;function Ti(){n(31,Pe=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Kr)),I&&n(31,Pe.id=I,Pe),pt||n(31,Pe.readonly=!0,Pe)}function pn(se){const mt=[],It={};se.forEach(hr=>{const Dr=Ee(hr);mt.includes(Dr)||(mt.push(Dr),It[Dr]=[],Dr&&It[Dr].push(Object.assign(ot(Dr,hr),{id:Dr,isGroupHeader:!0,isSelectable:De}))),It[Dr].push(Object.assign({isGroupItem:!!Dr},hr))});const qr=[];return ve(mt).forEach(hr=>{qr.push(...It[hr])}),qr}function Tn(){if(K){JSON.stringify(ee)!==JSON.stringify(Tr)&&Y()&&x("select",ee);return}(!Tr||JSON.stringify(ee[Fe])!==JSON.stringify(Tr[Fe]))&&x("select",ee)}function br(){le||wt?oe():k&&k.blur()}function H(){ee&&(Array.isArray(ee)?n(2,ee=[...ee]):n(2,ee=[ee]))}function N(){ee&&n(2,ee=null)}function j(){me.length!==0&&(n(1,le=!0),n(5,wt=!0),rt?fn():(n(5,wt=!0),K&&n(30,Se=void 0)))}C1(async()=>{n(77,Tr=ee),n(78,yr=me),n(79,ci=le),n(80,hi=K)});function Y(){let se=!0;if(ee){const mt=[],It=[];ee.forEach(qr=>{mt.includes(qr[Fe])?se=!1:(mt.push(qr[Fe]),It.push(qr))}),se||n(2,ee=It)}return se}function ie(se){let mt=se?se[Fe]:ee[Fe];return Le.find(It=>It[Fe]===mt)}function ge(se){!se||se.length===0||se.some(mt=>typeof mt!="object")||!ee||(K?ee.some(mt=>!mt||!mt[Fe]):!ee[Fe])||(Array.isArray(ee)?n(2,ee=ee.map(mt=>ie(mt)||mt)):n(2,ee=ie()||ee))}function ye(se){const{detail:mt}=se,It=ee[mt?mt.i:ee.length-1];ee.length===1?n(2,ee=void 0):n(2,ee=ee.filter(qr=>qr!==It)),x("clear",It)}function X(se){if(!!le)switch(se.key){case"ArrowDown":se.preventDefault(),n(5,wt=!0),n(30,Se=void 0);break;case"ArrowUp":se.preventDefault(),n(5,wt=!0),n(30,Se=void 0);break;case"Tab":wt||n(1,le=!1);break;case"Backspace":if(!K||me.length>0)return;if(K&&ee&&ee.length>0){if(ye(Se!==void 0?Se:ee.length-1),Se===0||Se===void 0)break;n(30,Se=ee.length>Se?Se-1:void 0)}break;case"ArrowLeft":if(!K||me.length>0)return;Se===void 0?n(30,Se=ee.length-1):ee.length>Se&&Se!==0&&n(30,Se-=1);break;case"ArrowRight":if(!K||me.length>0||Se===void 0)return;Se===ee.length-1?n(30,Se=void 0):Se<ee.length-1&&n(30,Se+=1);break}}function oe(){n(1,le=!0),k&&k.focus()}function Ce(se){if(!M)return;const mt=se.path&&se.path.length>0?se.path[0]:se.target;M.contains(mt)||M.contains(se.relatedTarget)||(n(1,le=!1),n(5,wt=!1),n(30,Se=void 0),k&&k.blur())}function Je(){R||(n(1,le=!0),n(5,wt=!wt))}function tt(){n(2,ee=void 0),n(5,wt=!1),x("clear",ee),oe()}Mc(()=>{le&&k&&k.focus()});function Re(se){const{detail:mt}=se;if(mt){n(3,me="");const It=Object.assign({},mt);(!It.isGroupHeader||It.isSelectable)&&(K?n(2,ee=ee?ee.concat([It]):[It]):n(2,ee=It),n(2,ee),setTimeout(()=>{n(5,wt=!1),n(30,Se=void 0)}))}}function $e(se){const{detail:mt}=se;K?(n(2,ee=ee||[]),n(2,ee=[...ee,jt(mt)])):n(2,ee=jt(mt)),x("itemCreated",mt),n(3,me=""),n(5,wt=!1),n(30,Se=void 0)}function xt(){n(3,me=""),n(5,wt=!1)}let{ariaValues:_t=se=>`Option ${se}, selected.`}=e,{ariaListOpen:ze=(se,mt)=>`You are currently focused on option ${se}. There are ${mt} results available.`}=e,{ariaFocused:dt=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function lt(){let se;return K&&ee.length>0?se=ee.map(mt=>at(mt)).join(", "):se=at(ee),_t(se)}function ht(){if(!le||!o||o.length===0)return"";let se=o[ui];if(wt&&se){let mt=at(se),It=o?o.length:0;return ze(mt,It)}else return dt()}function rr(se){zn[se?"unshift":"push"](()=>{k=se,n(6,k)})}function gt(){me=this.value,n(3,me)}function cr(se){ui=se,n(28,ui)}function Mr(se){zn[se?"unshift":"push"](()=>{M=se,n(0,M)})}return i.$$set=se=>{"id"in se&&n(46,I=se.id),"container"in se&&n(0,M=se.container),"input"in se&&n(6,k=se.input),"isMulti"in se&&n(7,K=se.isMulti),"multiFullItemClearable"in se&&n(8,$=se.multiFullItemClearable),"isDisabled"in se&&n(9,R=se.isDisabled),"isCreatable"in se&&n(47,V=se.isCreatable),"isFocused"in se&&n(1,le=se.isFocused),"value"in se&&n(2,ee=se.value),"filterText"in se&&n(3,me=se.filterText),"placeholder"in se&&n(48,we=se.placeholder),"placeholderAlwaysShow"in se&&n(49,Ge=se.placeholderAlwaysShow),"items"in se&&n(50,Le=se.items),"itemFilter"in se&&n(51,fe=se.itemFilter),"groupBy"in se&&n(52,Ee=se.groupBy),"groupFilter"in se&&n(53,ve=se.groupFilter),"isGroupHeaderSelectable"in se&&n(54,De=se.isGroupHeaderSelectable),"getGroupHeaderLabel"in se&&n(55,Qe=se.getGroupHeaderLabel),"labelIdentifier"in se&&n(56,Ze=se.labelIdentifier),"getOptionLabel"in se&&n(57,Ne=se.getOptionLabel),"optionIdentifier"in se&&n(58,Fe=se.optionIdentifier),"loadOptions"in se&&n(59,rt=se.loadOptions),"hasError"in se&&n(10,ct=se.hasError),"containerStyles"in se&&n(11,Tt=se.containerStyles),"getSelectionLabel"in se&&n(12,at=se.getSelectionLabel),"createGroupHeaderItem"in se&&n(60,ot=se.createGroupHeaderItem),"createItem"in se&&n(61,jt=se.createItem),"isSearchable"in se&&n(13,pt=se.isSearchable),"inputStyles"in se&&n(14,We=se.inputStyles),"isClearable"in se&&n(15,Ar=se.isClearable),"isWaiting"in se&&n(4,St=se.isWaiting),"listPlacement"in se&&n(63,it=se.listPlacement),"listOpen"in se&&n(5,wt=se.listOpen),"isVirtualList"in se&&n(64,vr=se.isVirtualList),"loadOptionsInterval"in se&&n(65,wr=se.loadOptionsInterval),"noOptionsMessage"in se&&n(66,$t=se.noOptionsMessage),"hideEmptyState"in se&&n(67,Gt=se.hideEmptyState),"inputAttributes"in se&&n(16,Kr=se.inputAttributes),"listAutoWidth"in se&&n(68,Kt=se.listAutoWidth),"itemHeight"in se&&n(69,tr=se.itemHeight),"Icon"in se&&n(17,ei=se.Icon),"iconProps"in se&&n(18,ti=se.iconProps),"showChevron"in se&&n(19,ri=se.showChevron),"showIndicator"in se&&n(20,Nr=se.showIndicator),"containerClasses"in se&&n(21,Mi=se.containerClasses),"indicatorSvg"in se&&n(22,Ui=se.indicatorSvg),"listOffset"in se&&n(70,si=se.listOffset),"ClearIcon"in se&&n(23,Ai=se.ClearIcon),"Item"in se&&n(71,Si=se.Item),"List"in se&&n(24,Zr=se.List),"Selection"in se&&n(25,Qi=se.Selection),"MultiSelection"in se&&n(26,Qn=se.MultiSelection),"VirtualList"in se&&n(72,on=se.VirtualList),"selectedValue"in se&&n(73,li=se.selectedValue),"ariaValues"in se&&n(74,_t=se.ariaValues),"ariaListOpen"in se&&n(75,ze=se.ariaListOpen),"ariaFocused"in se&&n(76,dt=se.ariaFocused)},i.$$.update=()=>{i.$$.dirty[0]&140|i.$$.dirty[1]&405340160&&n(81,o=In({loadOptions:rt,filterText:me,items:Le,value:ee,isMulti:K,optionIdentifier:Fe,groupBy:Ee,isCreatable:V})),i.$$.dirty[2]&2048&&li&&console.warn("selectedValue is no longer used. Please use value instead."),i.$$.dirty[1]&524288&&ge(Le),i.$$.dirty[0]&4&&ee&&Sn(),i.$$.dirty[0]&73728&&(Kr||!pt)&&Ti(),i.$$.dirty[0]&128|i.$$.dirty[2]&262144&&(K&&H(),hi&&!K&&N()),i.$$.dirty[0]&132&&K&&ee&&ee.length>1&&Y(),i.$$.dirty[0]&4&&ee&&Tn(),i.$$.dirty[0]&132|i.$$.dirty[2]&32768&&!ee&&K&&Tr&&x("select",ee),i.$$.dirty[0]&2|i.$$.dirty[2]&131072&&le!==ci&&br(),i.$$.dirty[0]&8|i.$$.dirty[2]&65536&&me!==yr&&j(),i.$$.dirty[0]&12&&n(29,l=ee&&me.length===0),i.$$.dirty[0]&536904208&&n(37,p=l&&Ar&&!R&&!St),i.$$.dirty[0]&132|i.$$.dirty[1]&393216&&n(36,a=Ge&&K?we:ee?"":we),i.$$.dirty[0]&132&&n(35,_=K&&ee&&ee.length>0),i.$$.dirty[0]&141|i.$$.dirty[1]&218103808|i.$$.dirty[2]&526326&&n(34,y={Item:Si,filterText:me,optionIdentifier:Fe,noOptionsMessage:$t,hideEmptyState:Gt,isVirtualList:vr,VirtualList:on,value:ee,isMulti:K,getGroupHeaderLabel:Qe,items:o,itemHeight:tr,getOptionLabel:Ne,listPlacement:it,parent:M,listAutoWidth:Kt,listOffset:si}),i.$$.dirty[0]&132&&n(33,F=ee?lt():""),i.$$.dirty[0]&268435490|i.$$.dirty[2]&524288&&n(32,Q=ht())},[M,le,ee,me,St,wt,k,K,$,R,ct,Tt,at,pt,We,Ar,Kr,ei,ti,ri,Nr,Mi,Ui,Ai,Zr,Qi,Qn,tt,ui,l,Se,Pe,Q,F,y,_,a,p,ye,X,oe,Ce,Je,Re,$e,xt,I,V,we,Ge,Le,fe,Ee,ve,De,Qe,Ze,Ne,Fe,rt,ot,jt,Yt,it,vr,wr,$t,Gt,Kt,tr,si,Si,on,li,_t,ze,dt,Tr,yr,ci,hi,o,rr,gt,cr,Mr]}class iT extends Ei{constructor(e){super();Fi(this,e,h2,c2,wi,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function f2(i){return i===0?!0:i}function Xa(i){return f2(i)?Array.isArray(i)?e=>i.map(n=>typeof n!="function"?e[n]:n(e)):typeof i!="function"?e=>e[i]:i:null}function p2(i){const e={};for(const n of i){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":o,"1":l}=n;Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:l})}return e}function gd(i,e={}){return p2(Object.entries(i).filter(([n,o])=>o!==void 0&&e[n]===void 0))}function d2(i,e){if(!Array.isArray(i))throw new TypeError("The first argument of calcExtents() must be an array. If you got this error using the <LayerCake> component, consider passing a flat array to the `flatData` prop. More info: https://layercake.graphics/guide/#flatdata");if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},o=Object.keys(e),l=o.length;let p,a,_,y,F,Q,x,I;const M=i.length;for(p=0;p<l;p+=1){for(y=o[p],x=e[y],F=null,Q=null,a=0;a<M;a+=1)if(I=x(i[a]),Array.isArray(I)){const k=I.length;for(_=0;_<k;_+=1)I[_]!==void 0&&I[_]!==null&&Number.isNaN(I[_])===!1&&((F===null||I[_]<F)&&(F=I[_]),(Q===null||I[_]>Q)&&(Q=I[_]))}else I!=null&&Number.isNaN(I)===!1&&((F===null||I<F)&&(F=I),(Q===null||I>Q)&&(Q=I));n[y]=[F,Q]}return n}function D1(i=[],e){return Array.isArray(e)===!0?e.map((n,o)=>n===null?i[o]:n):i}function nf(i){return function([n,o]){return n?D1(n[i],o):o}}function qd(i,e){return i==null||e==null?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function P1(i){let e=i,n=i,o=i;i.length!==2&&(e=(_,y)=>i(_)-y,n=qd,o=(_,y)=>qd(i(_),y));function l(_,y,F=0,Q=_.length){if(F<Q){if(n(y,y)!==0)return Q;do{const x=F+Q>>>1;o(_[x],y)<0?F=x+1:Q=x}while(F<Q)}return F}function p(_,y,F=0,Q=_.length){if(F<Q){if(n(y,y)!==0)return Q;do{const x=F+Q>>>1;o(_[x],y)<=0?F=x+1:Q=x}while(F<Q)}return F}function a(_,y,F=0,Q=_.length){const x=l(_,y,F,Q-1);return x>F&&e(_[x-1],y)>-e(_[x],y)?x-1:x}return{left:l,center:a,right:p}}function g2(i){return i===null?NaN:+i}const m2=P1(qd),y2=m2.right;P1(g2).center;var _2=y2;class a0 extends Map{constructor(e,n=B2){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[o,l]of e)this.set(o,l)}get(e){return super.get(s0(this,e))}has(e){return super.has(s0(this,e))}set(e,n){return super.set(v2(this,e),n)}delete(e){return super.delete(w2(this,e))}}function s0({_intern:i,_key:e},n){const o=e(n);return i.has(o)?i.get(o):n}function v2({_intern:i,_key:e},n){const o=e(n);return i.has(o)?i.get(o):(i.set(o,n),n)}function w2({_intern:i,_key:e},n){const o=e(n);return i.has(o)&&(n=i.get(o),i.delete(o)),n}function B2(i){return i!==null&&typeof i=="object"?i.valueOf():i}var Wd=Math.sqrt(50),Jd=Math.sqrt(10),Yd=Math.sqrt(2);function b2(i,e,n){var o,l=-1,p,a,_;if(e=+e,i=+i,n=+n,i===e&&n>0)return[i];if((o=e<i)&&(p=i,i=e,e=p),(_=H1(i,e,n))===0||!isFinite(_))return[];if(_>0){let y=Math.round(i/_),F=Math.round(e/_);for(y*_<i&&++y,F*_>e&&--F,a=new Array(p=F-y+1);++l<p;)a[l]=(y+l)*_}else{_=-_;let y=Math.round(i*_),F=Math.round(e*_);for(y/_<i&&++y,F/_>e&&--F,a=new Array(p=F-y+1);++l<p;)a[l]=(y+l)/_}return o&&a.reverse(),a}function H1(i,e,n){var o=(e-i)/Math.max(0,n),l=Math.floor(Math.log(o)/Math.LN10),p=o/Math.pow(10,l);return l>=0?(p>=Wd?10:p>=Jd?5:p>=Yd?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(p>=Wd?10:p>=Jd?5:p>=Yd?2:1)}function x2(i,e,n){var o=Math.abs(e-i)/Math.max(0,n),l=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),p=o/l;return p>=Wd?l*=10:p>=Jd?l*=5:p>=Yd&&(l*=2),e<i?-l:l}function C2(i,e,n){i=+i,e=+e,n=(l=arguments.length)<2?(e=i,i=0,1):l<3?1:+n;for(var o=-1,l=Math.max(0,Math.ceil((e-i)/n))|0,p=new Array(l);++o<l;)p[o]=i+o*n;return p}function Nc(i,e){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(e).domain(i);break}return this}const l0=Symbol("implicit");function Vc(){var i=new a0,e=[],n=[],o=l0;function l(p){let a=i.get(p);if(a===void 0){if(o!==l0)return o;i.set(p,a=e.push(p)-1)}return n[a%n.length]}return l.domain=function(p){if(!arguments.length)return e.slice();e=[],i=new a0;for(const a of p)i.has(a)||i.set(a,e.push(a)-1);return l},l.range=function(p){return arguments.length?(n=Array.from(p),l):n.slice()},l.unknown=function(p){return arguments.length?(o=p,l):o},l.copy=function(){return Vc(e,n).unknown(o)},Nc.apply(l,arguments),l}function $d(){var i=Vc().unknown(void 0),e=i.domain,n=i.range,o=0,l=1,p,a,_=!1,y=0,F=0,Q=.5;delete i.unknown;function x(){var I=e().length,M=l<o,k=M?l:o,K=M?o:l;p=(K-k)/Math.max(1,I-y+F*2),_&&(p=Math.floor(p)),k+=(K-k-p*(I-y))*Q,a=p*(1-y),_&&(k=Math.round(k),a=Math.round(a));var $=C2(I).map(function(R){return k+p*R});return n(M?$.reverse():$)}return i.domain=function(I){return arguments.length?(e(I),x()):e()},i.range=function(I){return arguments.length?([o,l]=I,o=+o,l=+l,x()):[o,l]},i.rangeRound=function(I){return[o,l]=I,o=+o,l=+l,_=!0,x()},i.bandwidth=function(){return a},i.step=function(){return p},i.round=function(I){return arguments.length?(_=!!I,x()):_},i.padding=function(I){return arguments.length?(y=Math.min(1,F=+I),x()):y},i.paddingInner=function(I){return arguments.length?(y=Math.min(1,I),x()):y},i.paddingOuter=function(I){return arguments.length?(F=+I,x()):F},i.align=function(I){return arguments.length?(Q=Math.max(0,Math.min(1,I)),x()):Q},i.copy=function(){return $d(e(),[o,l]).round(_).paddingInner(y).paddingOuter(F).align(Q)},Nc.apply(x(),arguments)}function Mg(i,e,n){i.prototype=e.prototype=n,n.constructor=i}function z1(i,e){var n=Object.create(i.prototype);for(var o in e)n[o]=e[o];return n}function Gc(){}var Qc=.7,jf=1/Qc,Yl="\\s*([+-]?\\d+)\\s*",Ic="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F2=/^#([0-9a-f]{3,8})$/,E2=new RegExp("^rgb\\("+[Yl,Yl,Yl]+"\\)$"),U2=new RegExp("^rgb\\("+[Xo,Xo,Xo]+"\\)$"),Q2=new RegExp("^rgba\\("+[Yl,Yl,Yl,Ic]+"\\)$"),I2=new RegExp("^rgba\\("+[Xo,Xo,Xo,Ic]+"\\)$"),S2=new RegExp("^hsl\\("+[Ic,Xo,Xo]+"\\)$"),T2=new RegExp("^hsla\\("+[Ic,Xo,Xo,Ic]+"\\)$"),u0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mg(Gc,Sc,{copy:function(i){return Object.assign(new this.constructor,this,i)},displayable:function(){return this.rgb().displayable()},hex:c0,formatHex:c0,formatHsl:k2,formatRgb:h0,toString:h0});function c0(){return this.rgb().formatHex()}function k2(){return R1(this).formatHsl()}function h0(){return this.rgb().formatRgb()}function Sc(i){var e,n;return i=(i+"").trim().toLowerCase(),(e=F2.exec(i))?(n=e[1].length,e=parseInt(e[1],16),n===6?f0(e):n===3?new XA(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Af(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Af(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=E2.exec(i))?new XA(e[1],e[2],e[3],1):(e=U2.exec(i))?new XA(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Q2.exec(i))?Af(e[1],e[2],e[3],e[4]):(e=I2.exec(i))?Af(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=S2.exec(i))?g0(e[1],e[2]/100,e[3]/100,1):(e=T2.exec(i))?g0(e[1],e[2]/100,e[3]/100,e[4]):u0.hasOwnProperty(i)?f0(u0[i]):i==="transparent"?new XA(NaN,NaN,NaN,0):null}function f0(i){return new XA(i>>16&255,i>>8&255,i&255,1)}function Af(i,e,n,o){return o<=0&&(i=e=n=NaN),new XA(i,e,n,o)}function L2(i){return i instanceof Gc||(i=Sc(i)),i?(i=i.rgb(),new XA(i.r,i.g,i.b,i.opacity)):new XA}function eg(i,e,n,o){return arguments.length===1?L2(i):new XA(i,e,n,o==null?1:o)}function XA(i,e,n,o){this.r=+i,this.g=+e,this.b=+n,this.opacity=+o}Mg(XA,eg,z1(Gc,{brighter:function(i){return i=i==null?jf:Math.pow(jf,i),new XA(this.r*i,this.g*i,this.b*i,this.opacity)},darker:function(i){return i=i==null?Qc:Math.pow(Qc,i),new XA(this.r*i,this.g*i,this.b*i,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p0,formatHex:p0,formatRgb:d0,toString:d0}));function p0(){return"#"+md(this.r)+md(this.g)+md(this.b)}function d0(){var i=this.opacity;return i=isNaN(i)?1:Math.max(0,Math.min(1,i)),(i===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(i===1?")":", "+i+")")}function md(i){return i=Math.max(0,Math.min(255,Math.round(i)||0)),(i<16?"0":"")+i.toString(16)}function g0(i,e,n,o){return o<=0?i=e=n=NaN:n<=0||n>=1?i=e=NaN:e<=0&&(i=NaN),new Vo(i,e,n,o)}function R1(i){if(i instanceof Vo)return new Vo(i.h,i.s,i.l,i.opacity);if(i instanceof Gc||(i=Sc(i)),!i)return new Vo;if(i instanceof Vo)return i;i=i.rgb();var e=i.r/255,n=i.g/255,o=i.b/255,l=Math.min(e,n,o),p=Math.max(e,n,o),a=NaN,_=p-l,y=(p+l)/2;return _?(e===p?a=(n-o)/_+(n<o)*6:n===p?a=(o-e)/_+2:a=(e-n)/_+4,_/=y<.5?p+l:2-p-l,a*=60):_=y>0&&y<1?0:a,new Vo(a,_,y,i.opacity)}function M2(i,e,n,o){return arguments.length===1?R1(i):new Vo(i,e,n,o==null?1:o)}function Vo(i,e,n,o){this.h=+i,this.s=+e,this.l=+n,this.opacity=+o}Mg(Vo,M2,z1(Gc,{brighter:function(i){return i=i==null?jf:Math.pow(jf,i),new Vo(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Qc:Math.pow(Qc,i),new Vo(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=this.h%360+(this.h<0)*360,e=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,l=2*n-o;return new XA(yd(i>=240?i-240:i+120,l,o),yd(i,l,o),yd(i<120?i+240:i-120,l,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var i=this.opacity;return i=isNaN(i)?1:Math.max(0,Math.min(1,i)),(i===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(i===1?")":", "+i+")")}}));function yd(i,e,n){return(i<60?e+(n-e)*i/60:i<180?n:i<240?e+(n-e)*(240-i)/60:e)*255}var Dg=i=>()=>i;function D2(i,e){return function(n){return i+n*e}}function P2(i,e,n){return i=Math.pow(i,n),e=Math.pow(e,n)-i,n=1/n,function(o){return Math.pow(i+o*e,n)}}function H2(i){return(i=+i)==1?O1:function(e,n){return n-e?P2(e,n,i):Dg(isNaN(e)?n:e)}}function O1(i,e){var n=e-i;return n?D2(i,n):Dg(isNaN(i)?e:i)}var m0=function i(e){var n=H2(e);function o(l,p){var a=n((l=eg(l)).r,(p=eg(p)).r),_=n(l.g,p.g),y=n(l.b,p.b),F=O1(l.opacity,p.opacity);return function(Q){return l.r=a(Q),l.g=_(Q),l.b=y(Q),l.opacity=F(Q),l+""}}return o.gamma=i,o}(1);function z2(i,e){e||(e=[]);var n=i?Math.min(e.length,i.length):0,o=e.slice(),l;return function(p){for(l=0;l<n;++l)o[l]=i[l]*(1-p)+e[l]*p;return o}}function R2(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function O2(i,e){var n=e?e.length:0,o=i?Math.min(n,i.length):0,l=new Array(o),p=new Array(n),a;for(a=0;a<o;++a)l[a]=Pg(i[a],e[a]);for(;a<n;++a)p[a]=e[a];return function(_){for(a=0;a<o;++a)p[a]=l[a](_);return p}}function K2(i,e){var n=new Date;return i=+i,e=+e,function(o){return n.setTime(i*(1-o)+e*o),n}}function Zf(i,e){return i=+i,e=+e,function(n){return i*(1-n)+e*n}}function N2(i,e){var n={},o={},l;(i===null||typeof i!="object")&&(i={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in i?n[l]=Pg(i[l],e[l]):o[l]=e[l];return function(p){for(l in n)o[l]=n[l](p);return o}}var tg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_d=new RegExp(tg.source,"g");function V2(i){return function(){return i}}function G2(i){return function(e){return i(e)+""}}function X2(i,e){var n=tg.lastIndex=_d.lastIndex=0,o,l,p,a=-1,_=[],y=[];for(i=i+"",e=e+"";(o=tg.exec(i))&&(l=_d.exec(e));)(p=l.index)>n&&(p=e.slice(n,p),_[a]?_[a]+=p:_[++a]=p),(o=o[0])===(l=l[0])?_[a]?_[a]+=l:_[++a]=l:(_[++a]=null,y.push({i:a,x:Zf(o,l)})),n=_d.lastIndex;return n<e.length&&(p=e.slice(n),_[a]?_[a]+=p:_[++a]=p),_.length<2?y[0]?G2(y[0].x):V2(e):(e=y.length,function(F){for(var Q=0,x;Q<e;++Q)_[(x=y[Q]).i]=x.x(F);return _.join("")})}function Pg(i,e){var n=typeof e,o;return e==null||n==="boolean"?Dg(e):(n==="number"?Zf:n==="string"?(o=Sc(e))?(e=o,m0):X2:e instanceof Sc?m0:e instanceof Date?K2:R2(e)?z2:Array.isArray(e)?O2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?N2:Zf)(i,e)}function j2(i,e){return i=+i,e=+e,function(n){return Math.round(i*(1-n)+e*n)}}function Z2(i){return function(){return i}}function q2(i){return+i}var y0=[0,1];function Go(i){return i}function rg(i,e){return(e-=i=+i)?function(n){return(n-i)/e}:Z2(isNaN(e)?NaN:.5)}function W2(i,e){var n;return i>e&&(n=i,i=e,e=n),function(o){return Math.max(i,Math.min(e,o))}}function J2(i,e,n){var o=i[0],l=i[1],p=e[0],a=e[1];return l<o?(o=rg(l,o),p=n(a,p)):(o=rg(o,l),p=n(p,a)),function(_){return p(o(_))}}function Y2(i,e,n){var o=Math.min(i.length,e.length)-1,l=new Array(o),p=new Array(o),a=-1;for(i[o]<i[0]&&(i=i.slice().reverse(),e=e.slice().reverse());++a<o;)l[a]=rg(i[a],i[a+1]),p[a]=n(e[a],e[a+1]);return function(_){var y=_2(i,_,1,o)-1;return p[y](l[y](_))}}function Hg(i,e){return e.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function zg(){var i=y0,e=y0,n=Pg,o,l,p,a=Go,_,y,F;function Q(){var I=Math.min(i.length,e.length);return a!==Go&&(a=W2(i[0],i[I-1])),_=I>2?Y2:J2,y=F=null,x}function x(I){return I==null||isNaN(I=+I)?p:(y||(y=_(i.map(o),e,n)))(o(a(I)))}return x.invert=function(I){return a(l((F||(F=_(e,i.map(o),Zf)))(I)))},x.domain=function(I){return arguments.length?(i=Array.from(I,q2),Q()):i.slice()},x.range=function(I){return arguments.length?(e=Array.from(I),Q()):e.slice()},x.rangeRound=function(I){return e=Array.from(I),n=j2,Q()},x.clamp=function(I){return arguments.length?(a=I?!0:Go,Q()):a!==Go},x.interpolate=function(I){return arguments.length?(n=I,Q()):n},x.unknown=function(I){return arguments.length?(p=I,x):p},function(I,M){return o=I,l=M,Q()}}function $2(){return zg()(Go,Go)}function eC(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function qf(i,e){if((n=(i=e?i.toExponential(e-1):i.toExponential()).indexOf("e"))<0)return null;var n,o=i.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+i.slice(n+1)]}function nu(i){return i=qf(Math.abs(i)),i?i[1]:NaN}function tC(i,e){return function(n,o){for(var l=n.length,p=[],a=0,_=i[0],y=0;l>0&&_>0&&(y+_+1>o&&(_=Math.max(1,o-y)),p.push(n.substring(l-=_,l+_)),!((y+=_+1)>o));)_=i[a=(a+1)%i.length];return p.reverse().join(e)}}function rC(i){return function(e){return e.replace(/[0-9]/g,function(n){return i[+n]})}}var iC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wf(i){if(!(e=iC.exec(i)))throw new Error("invalid format: "+i);var e;return new Rg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wf.prototype=Rg.prototype;function Rg(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}Rg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nC(i){e:for(var e=i.length,n=1,o=-1,l;n<e;++n)switch(i[n]){case".":o=l=n;break;case"0":o===0&&(o=n),l=n;break;default:if(!+i[n])break e;o>0&&(o=0);break}return o>0?i.slice(0,o)+i.slice(l+1):i}var K1;function AC(i,e){var n=qf(i,e);if(!n)return i+"";var o=n[0],l=n[1],p=l-(K1=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,a=o.length;return p===a?o:p>a?o+new Array(p-a+1).join("0"):p>0?o.slice(0,p)+"."+o.slice(p):"0."+new Array(1-p).join("0")+qf(i,Math.max(0,e+p-1))[0]}function _0(i,e){var n=qf(i,e);if(!n)return i+"";var o=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+o:o.length>l+1?o.slice(0,l+1)+"."+o.slice(l+1):o+new Array(l-o.length+2).join("0")}var v0={"%":(i,e)=>(i*100).toFixed(e),b:i=>Math.round(i).toString(2),c:i=>i+"",d:eC,e:(i,e)=>i.toExponential(e),f:(i,e)=>i.toFixed(e),g:(i,e)=>i.toPrecision(e),o:i=>Math.round(i).toString(8),p:(i,e)=>_0(i*100,e),r:_0,s:AC,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function w0(i){return i}var B0=Array.prototype.map,b0=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function oC(i){var e=i.grouping===void 0||i.thousands===void 0?w0:tC(B0.call(i.grouping,Number),i.thousands+""),n=i.currency===void 0?"":i.currency[0]+"",o=i.currency===void 0?"":i.currency[1]+"",l=i.decimal===void 0?".":i.decimal+"",p=i.numerals===void 0?w0:rC(B0.call(i.numerals,String)),a=i.percent===void 0?"%":i.percent+"",_=i.minus===void 0?"\u2212":i.minus+"",y=i.nan===void 0?"NaN":i.nan+"";function F(x){x=Wf(x);var I=x.fill,M=x.align,k=x.sign,K=x.symbol,$=x.zero,R=x.width,V=x.comma,le=x.precision,ee=x.trim,me=x.type;me==="n"?(V=!0,me="g"):v0[me]||(le===void 0&&(le=12),ee=!0,me="g"),($||I==="0"&&M==="=")&&($=!0,I="0",M="=");var we=K==="$"?n:K==="#"&&/[boxX]/.test(me)?"0"+me.toLowerCase():"",Ge=K==="$"?o:/[%p]/.test(me)?a:"",Le=v0[me],fe=/[defgprs%]/.test(me);le=le===void 0?6:/[gprs]/.test(me)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le));function Ee(ve){var De=we,Qe=Ge,Ze,Ne,Fe;if(me==="c")Qe=Le(ve)+Qe,ve="";else{ve=+ve;var rt=ve<0||1/ve<0;if(ve=isNaN(ve)?y:Le(Math.abs(ve),le),ee&&(ve=nC(ve)),rt&&+ve==0&&k!=="+"&&(rt=!1),De=(rt?k==="("?k:_:k==="-"||k==="("?"":k)+De,Qe=(me==="s"?b0[8+K1/3]:"")+Qe+(rt&&k==="("?")":""),fe){for(Ze=-1,Ne=ve.length;++Ze<Ne;)if(Fe=ve.charCodeAt(Ze),48>Fe||Fe>57){Qe=(Fe===46?l+ve.slice(Ze+1):ve.slice(Ze))+Qe,ve=ve.slice(0,Ze);break}}}V&&!$&&(ve=e(ve,1/0));var ct=De.length+ve.length+Qe.length,Tt=ct<R?new Array(R-ct+1).join(I):"";switch(V&&$&&(ve=e(Tt+ve,Tt.length?R-Qe.length:1/0),Tt=""),M){case"<":ve=De+ve+Qe+Tt;break;case"=":ve=De+Tt+ve+Qe;break;case"^":ve=Tt.slice(0,ct=Tt.length>>1)+De+ve+Qe+Tt.slice(ct);break;default:ve=Tt+De+ve+Qe;break}return p(ve)}return Ee.toString=function(){return x+""},Ee}function Q(x,I){var M=F((x=Wf(x),x.type="f",x)),k=Math.max(-8,Math.min(8,Math.floor(nu(I)/3)))*3,K=Math.pow(10,-k),$=b0[8+k/3];return function(R){return M(K*R)+$}}return{format:F,formatPrefix:Q}}var of,N1,V1;aC({thousands:",",grouping:[3],currency:["$",""]});function aC(i){return of=oC(i),N1=of.format,V1=of.formatPrefix,of}function sC(i){return Math.max(0,-nu(Math.abs(i)))}function lC(i,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nu(e)/3)))*3-nu(Math.abs(i)))}function uC(i,e){return i=Math.abs(i),e=Math.abs(e)-i,Math.max(0,nu(e)-nu(i))+1}function cC(i,e,n,o){var l=x2(i,e,n),p;switch(o=Wf(o==null?",f":o),o.type){case"s":{var a=Math.max(Math.abs(i),Math.abs(e));return o.precision==null&&!isNaN(p=lC(l,a))&&(o.precision=p),V1(o,a)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(p=uC(l,Math.max(Math.abs(i),Math.abs(e))))&&(o.precision=p-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(p=sC(l))&&(o.precision=p-(o.type==="%")*2);break}}return N1(o)}function Og(i){var e=i.domain;return i.ticks=function(n){var o=e();return b2(o[0],o[o.length-1],n==null?10:n)},i.tickFormat=function(n,o){var l=e();return cC(l[0],l[l.length-1],n==null?10:n,o)},i.nice=function(n){n==null&&(n=10);var o=e(),l=0,p=o.length-1,a=o[l],_=o[p],y,F,Q=10;for(_<a&&(F=a,a=_,_=F,F=l,l=p,p=F);Q-- >0;){if(F=H1(a,_,n),F===y)return o[l]=a,o[p]=_,e(o);if(F>0)a=Math.floor(a/F)*F,_=Math.ceil(_/F)*F;else if(F<0)a=Math.ceil(a*F)/F,_=Math.floor(_*F)/F;else break;y=F}return i},i}function so(){var i=$2();return i.copy=function(){return Hg(i,so())},Nc.apply(i,arguments),Og(i)}function x0(i){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/i))}}function C0(i){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*i}}function hC(i){var e=1,n=i(x0(e),C0(e));return n.constant=function(o){return arguments.length?i(x0(e=+o),C0(e)):e},Og(n)}function Ba(){var i=hC(zg());return i.copy=function(){return Hg(i,Ba()).constant(i.constant())},Nc.apply(i,arguments)}function F0(i){return function(e){return e<0?-Math.pow(-e,i):Math.pow(e,i)}}function fC(i){return i<0?-Math.sqrt(-i):Math.sqrt(i)}function pC(i){return i<0?-i*i:i*i}function dC(i){var e=i(Go,Go),n=1;function o(){return n===1?i(Go,Go):n===.5?i(fC,pC):i(F0(n),F0(1/n))}return e.exponent=function(l){return arguments.length?(n=+l,o()):n},Og(e)}function G1(){var i=dC(zg());return i.copy=function(){return Hg(i,G1()).exponent(i.exponent())},Nc.apply(i,arguments),i}function gC(){return G1.apply(null,arguments).exponent(.5)}var hc={x:so,y:so,z:so,r:gC};function mC(i){return i.constant?"symlog":i.base?"log":i.exponent?i.exponent()===.5?"sqrt":"pow":"other"}function E0(i){return i}function yC(i){return e=>Math.log(i*e)}function _C(i){return e=>i*Math.exp(e)}function vC(i){return e=>Math.sign(e)*Math.log1p(Math.abs(e/i))}function wC(i){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*i}function af(i){return function(n){return n<0?-Math.pow(-n,i):Math.pow(n,i)}}function BC(i){const e=mC(i);if(e==="log"){const n=Math.sign(i.domain()[0]);return{lift:yC(n),ground:_C(n),scaleType:e}}return e==="pow"?{lift:af(1),ground:af(1/1),scaleType:e}:e==="sqrt"?{lift:af(.5),ground:af(1/.5),scaleType:e}:e==="symlog"?{lift:vC(1),ground:wC(1),scaleType:e}:{lift:E0,ground:E0,scaleType:e}}function bC(i,e){if(typeof i.range!="function")throw new Error("Scale method `range` must be a function");if(typeof i.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return i.domain();i.domain().length!==2&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",i.domain()),i.range().length!==2&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",i.range());const{lift:n,ground:o}=BC(i),l=i.domain()[0],p=Object.prototype.toString.call(l)==="[object Date]",[a,_]=i.domain().map(M=>n(p?M.getTime():M)),[y,F]=i.range(),Q=e[0]||0,x=e[1]||0,I=(_-a)/(Math.abs(F-y)-Q-x);return[a-Q*I,x*I+_].map(M=>o(p?new Date(M):M))}function xC(i,e,n,o,l){let p,a;return l===!0?(p=0,a=100):(p=i==="r"?1:0,a=i==="y"?n:i==="r"?25:e),o===!0?[a,p]:[p,a]}function CC(i,e,n,o,l,p){return l?typeof l=="function"?l({width:e,height:n}):l:xC(i,e,n,o,p)}function sf(i){return function([n,o,l,p,a,_,y,F,Q,x]){if(o===null)return null;const I=CC(i,y,F,_,Q,x),M=n===hc[i]?n():n.copy();return M.domain(D1(o[i],l)).range(I),p&&M.domain(bC(M,p)),a===!0&&(typeof M.nice=="function"?M.nice():console.error(`[Layer Cake] You set \`${i}Nice: true\` but the ${i}Scale does not have a \`.nice\` method. Ignoring...`)),M}}function lf([i,e]){return n=>{const o=i(n);return Array.isArray(o)?o.map(l=>e(l)):e(o)}}function uf([i]){if(typeof i=="function"){if(typeof i.range=="function")return i.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var cf={x:!1,y:!0,z:!1,r:!1};const FC=i=>({element:i[0]&4,width:i[0]&256,height:i[0]&512,aspectRatio:i[0]&1024,containerWidth:i[0]&128,containerHeight:i[0]&64}),U0=i=>({element:i[2],width:i[8],height:i[9],aspectRatio:i[10],containerWidth:i[7],containerHeight:i[6]});function Q0(i){let e,n,o;const l=i[90].default,p=Cn(l,i,i[89],U0);return{c(){e=Sr("div"),p&&p.c(),this.h()},l(a){e=Or(a,"DIV",{class:!0});var _=Et(e);p&&p.l(_),_.forEach(Be),this.h()},h(){ce(e,"class","layercake-container svelte-vhzpsp"),ru(()=>i[92].call(e)),gr(e,"position",i[5],!1),gr(e,"top",i[5]==="absolute"?"0":null,!1),gr(e,"right",i[5]==="absolute"?"0":null,!1),gr(e,"bottom",i[5]==="absolute"?"0":null,!1),gr(e,"left",i[5]==="absolute"?"0":null,!1),gr(e,"pointer-events",i[4]===!1?"none":null,!1)},m(a,_){Ye(a,e,_),p&&p.m(e,null),i[91](e),n=Ug(e,i[92].bind(e)),o=!0},p(a,_){p&&p.p&&(!o||_[0]&1988|_[2]&134217728)&&En(p,l,a,a[89],o?Fn(l,a[89],_,FC):Un(a[89]),U0),_[0]&32&&gr(e,"position",a[5],!1),_[0]&32&&gr(e,"top",a[5]==="absolute"?"0":null,!1),_[0]&32&&gr(e,"right",a[5]==="absolute"?"0":null,!1),_[0]&32&&gr(e,"bottom",a[5]==="absolute"?"0":null,!1),_[0]&32&&gr(e,"left",a[5]==="absolute"?"0":null,!1),_[0]&16&&gr(e,"pointer-events",a[4]===!1?"none":null,!1)},i(a){o||(Te(p,a),o=!0)},o(a){Xe(p,a),o=!1},d(a){a&&Be(e),p&&p.d(a),i[91](null),n()}}}function EC(i){let e,n,o=(i[3]===!0||typeof window!="undefined")&&Q0(i);return{c(){o&&o.c(),e=Mt()},l(l){o&&o.l(l),e=Mt()},m(l,p){o&&o.m(l,p),Ye(l,e,p),n=!0},p(l,p){l[3]===!0||typeof window!="undefined"?o?(o.p(l,p),p[0]&8&&Te(o,1)):(o=Q0(l),o.c(),Te(o,1),o.m(e.parentNode,e)):o&&(Fr(),Xe(o,1,1,()=>{o=null}),Er())},i(l){n||(Te(o),n=!0)},o(l){Xe(o),n=!1},d(l){o&&o.d(l),l&&Be(e)}}}function UC(i,e,n){let o,l,p,a,_,y,F,Q,x,I,M,k,K,$,R,V,le,ee,me,we,Ge,Le,fe,Ee,ve,De,Qe,Ze,Ne,Fe,rt,ct,Tt,at,ot,jt,Yt,pt,We,Ar,St,{$$slots:it={},$$scope:wt}=e,{ssr:vr=!1}=e,{pointerEvents:wr=!0}=e,{position:$t="relative"}=e,{percentRange:Gt=!1}=e,{width:Kr=void 0}=e,{height:Kt=void 0}=e,{containerWidth:tr=Kr||100}=e,{containerHeight:ei=Kt||100}=e,{element:ti=void 0}=e,{x:ri=void 0}=e,{y:Nr=void 0}=e,{z:Mi=void 0}=e,{r:Ui=void 0}=e,{data:si=[]}=e,{xDomain:Ai=void 0}=e,{yDomain:Si=void 0}=e,{zDomain:Zr=void 0}=e,{rDomain:Qi=void 0}=e,{xNice:Qn=!1}=e,{yNice:on=!1}=e,{zNice:In=!1}=e,{rNice:je=!1}=e,{xReverse:li=cf.x}=e,{yReverse:Se=cf.y}=e,{zReverse:Tr=cf.z}=e,{rReverse:yr=cf.r}=e,{xPadding:ci=void 0}=e,{yPadding:hi=void 0}=e,{zPadding:ui=void 0}=e,{rPadding:fn=void 0}=e,{xScale:Sn=hc.x}=e,{yScale:Pe=hc.y}=e,{zScale:Ti=hc.z}=e,{rScale:pn=hc.r}=e,{xRange:Tn=void 0}=e,{yRange:br=void 0}=e,{zRange:H=void 0}=e,{rRange:N=void 0}=e,{padding:j={}}=e,{extents:Y={}}=e,{flatData:ie=void 0}=e,{custom:ge={}}=e,ye=!1;Mc(()=>{ye=!0});const X={},oe=Rr(Gt);At(i,oe,xe=>n(128,pt=xe));const Ce=Rr(tr);At(i,Ce,xe=>n(7,Yt=xe));const Je=Rr(ei);At(i,Je,xe=>n(6,jt=xe));const tt=Rr(gd(Y));At(i,tt,xe=>n(127,ot=xe));const Re=Rr(si);At(i,Re,xe=>n(126,at=xe));const $e=Rr(ie||si);At(i,$e,xe=>n(125,Tt=xe));const xt=Rr(j);At(i,xt,xe=>n(124,ct=xe));const _t=Rr(Xa(ri));At(i,_t,xe=>n(123,rt=xe));const ze=Rr(Xa(Nr));At(i,ze,xe=>n(122,Fe=xe));const dt=Rr(Xa(Mi));At(i,dt,xe=>n(121,Ne=xe));const lt=Rr(Xa(Ui));At(i,lt,xe=>n(120,Ze=xe));const ht=Rr(Ai);At(i,ht,xe=>n(119,Qe=xe));const rr=Rr(Si);At(i,rr,xe=>n(118,De=xe));const gt=Rr(Zr);At(i,gt,xe=>n(117,ve=xe));const cr=Rr(Qi);At(i,cr,xe=>n(116,Ee=xe));const Mr=Rr(Qn);At(i,Mr,xe=>n(115,fe=xe));const se=Rr(on);At(i,se,xe=>n(114,Le=xe));const mt=Rr(In);At(i,mt,xe=>n(113,Ge=xe));const It=Rr(je);At(i,It,xe=>n(112,we=xe));const qr=Rr(li);At(i,qr,xe=>n(111,me=xe));const hr=Rr(Se);At(i,hr,xe=>n(110,ee=xe));const Dr=Rr(Tr);At(i,Dr,xe=>n(109,le=xe));const zr=Rr(yr);At(i,zr,xe=>n(108,V=xe));const fr=Rr(ci);At(i,fr,xe=>n(107,R=xe));const xr=Rr(hi);At(i,xr,xe=>n(106,$=xe));const Wi=Rr(ui);At(i,Wi,xe=>n(105,K=xe));const HA=Rr(fn);At(i,HA,xe=>n(104,k=xe));const Di=Rr(Tn);At(i,Di,xe=>n(103,M=xe));const an=Rr(br);At(i,an,xe=>n(102,I=xe));const wo=Rr(H);At(i,wo,xe=>n(101,x=xe));const ZA=Rr(N);At(i,ZA,xe=>n(100,Q=xe));const mi=Rr(Sn);At(i,mi,xe=>n(99,F=xe));const qA=Rr(Pe);At(i,qA,xe=>n(98,y=xe));const Ji=Rr(Ti);At(i,Ji,xe=>n(97,_=xe));const Pi=Rr(pn);At(i,Pi,xe=>n(96,a=xe));const Rn=Rr(X);At(i,Rn,xe=>n(94,l=xe));const ii=Rr(ge);At(i,ii,xe=>n(95,p=xe));const oA=An([_t,ze,dt,lt],([xe,On,mn,yi])=>{const $A={};return xe&&($A.x=xe),On&&($A.y=On),mn&&($A.z=mn),yi&&($A.r=yi),$A}),Xn=An([xt,Ce,Je],([xe])=>Object.assign({top:0,right:0,bottom:0,left:0},xe)),rs=An([Ce,Je,Xn],([xe,On,mn])=>{const yi={};return yi.top=mn.top,yi.right=xe-mn.right,yi.bottom=On-mn.bottom,yi.left=mn.left,yi.width=yi.right-yi.left,yi.height=yi.bottom-yi.top,yi.width<=0&&ye===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),yi.height<=0&&ye===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),yi}),Yi=An([rs],([xe])=>xe.width);At(i,Yi,xe=>n(8,We=xe));const WA=An([rs],([xe])=>xe.height);At(i,WA,xe=>n(9,Ar=xe));const dn=An([$e,oA,tt],([xe,On,mn])=>{const yi=gd(On,mn);return Object.keys(yi).length>0?Ga(Ga({},d2(xe,yi)),mn):{}}),$i=An([dn,ht],nf("x")),vA=An([dn,rr],nf("y")),gn=An([dn,gt],nf("z")),JA=An([dn,cr],nf("r")),is=An([mi,dn,$i,fr,Mr,qr,Yi,WA,Di,oe],sf("x")),su=An([_t,is],lf),qo=An([qA,dn,vA,xr,se,hr,Yi,WA,an,oe],sf("y")),lu=An([ze,qo],lf),Fa=An([Ji,dn,gn,Wi,mt,Dr,Yi,WA,wo,oe],sf("z")),uu=An([dt,Fa],lf),Ea=An([Pi,dn,JA,HA,It,zr,Yi,WA,ZA,oe],sf("r")),Vs=An([lt,Ea],lf),Bo=An([is],uf),ns=An([qo],uf),Wo=An([Fa],uf),Gs=An([Ea],uf),bo=An([Yi,WA],([xe,On])=>xe/On);At(i,bo,xe=>n(10,St=xe));function aA(xe){zn[xe?"unshift":"push"](()=>{ti=xe,n(2,ti)})}function YA(){tr=this.clientWidth,ei=this.clientHeight,n(0,tr),n(1,ei)}return i.$$set=xe=>{"ssr"in xe&&n(3,vr=xe.ssr),"pointerEvents"in xe&&n(4,wr=xe.pointerEvents),"position"in xe&&n(5,$t=xe.position),"percentRange"in xe&&n(51,Gt=xe.percentRange),"width"in xe&&n(52,Kr=xe.width),"height"in xe&&n(53,Kt=xe.height),"containerWidth"in xe&&n(0,tr=xe.containerWidth),"containerHeight"in xe&&n(1,ei=xe.containerHeight),"element"in xe&&n(2,ti=xe.element),"x"in xe&&n(54,ri=xe.x),"y"in xe&&n(55,Nr=xe.y),"z"in xe&&n(56,Mi=xe.z),"r"in xe&&n(57,Ui=xe.r),"data"in xe&&n(58,si=xe.data),"xDomain"in xe&&n(59,Ai=xe.xDomain),"yDomain"in xe&&n(60,Si=xe.yDomain),"zDomain"in xe&&n(61,Zr=xe.zDomain),"rDomain"in xe&&n(62,Qi=xe.rDomain),"xNice"in xe&&n(63,Qn=xe.xNice),"yNice"in xe&&n(64,on=xe.yNice),"zNice"in xe&&n(65,In=xe.zNice),"rNice"in xe&&n(66,je=xe.rNice),"xReverse"in xe&&n(67,li=xe.xReverse),"yReverse"in xe&&n(68,Se=xe.yReverse),"zReverse"in xe&&n(69,Tr=xe.zReverse),"rReverse"in xe&&n(70,yr=xe.rReverse),"xPadding"in xe&&n(71,ci=xe.xPadding),"yPadding"in xe&&n(72,hi=xe.yPadding),"zPadding"in xe&&n(73,ui=xe.zPadding),"rPadding"in xe&&n(74,fn=xe.rPadding),"xScale"in xe&&n(75,Sn=xe.xScale),"yScale"in xe&&n(76,Pe=xe.yScale),"zScale"in xe&&n(77,Ti=xe.zScale),"rScale"in xe&&n(78,pn=xe.rScale),"xRange"in xe&&n(79,Tn=xe.xRange),"yRange"in xe&&n(80,br=xe.yRange),"zRange"in xe&&n(81,H=xe.zRange),"rRange"in xe&&n(82,N=xe.rRange),"padding"in xe&&n(83,j=xe.padding),"extents"in xe&&n(84,Y=xe.extents),"flatData"in xe&&n(85,ie=xe.flatData),"custom"in xe&&n(86,ge=xe.custom),"$$scope"in xe&&n(89,wt=xe.$$scope)},i.$$.update=()=>{i.$$.dirty[1]&8388608&&ri&&n(87,X.x=ri,X),i.$$.dirty[1]&16777216&&Nr&&n(87,X.y=Nr,X),i.$$.dirty[1]&33554432&&Mi&&n(87,X.z=Mi,X),i.$$.dirty[1]&67108864&&Ui&&n(87,X.r=Ui,X),i.$$.dirty[1]&268435456&&Ai&&n(87,X.xDomain=Ai,X),i.$$.dirty[1]&536870912&&Si&&n(87,X.yDomain=Si,X),i.$$.dirty[1]&1073741824&&Zr&&n(87,X.zDomain=Zr,X),i.$$.dirty[2]&1&&Qi&&n(87,X.rDomain=Qi,X),i.$$.dirty[2]&131072&&Tn&&n(87,X.xRange=Tn,X),i.$$.dirty[2]&262144&&br&&n(87,X.yRange=br,X),i.$$.dirty[2]&524288&&H&&n(87,X.zRange=H,X),i.$$.dirty[2]&1048576&&N&&n(87,X.rRange=N,X),i.$$.dirty[1]&1048576&&Wr(oe,pt=Gt,pt),i.$$.dirty[0]&1&&Wr(Ce,Yt=tr,Yt),i.$$.dirty[0]&2&&Wr(Je,jt=ei,jt),i.$$.dirty[2]&4194304&&Wr(tt,ot=gd(Y),ot),i.$$.dirty[1]&134217728&&Wr(Re,at=si,at),i.$$.dirty[1]&134217728|i.$$.dirty[2]&8388608&&Wr($e,Tt=ie||si,Tt),i.$$.dirty[2]&2097152&&Wr(xt,ct=j,ct),i.$$.dirty[1]&8388608&&Wr(_t,rt=Xa(ri),rt),i.$$.dirty[1]&16777216&&Wr(ze,Fe=Xa(Nr),Fe),i.$$.dirty[1]&33554432&&Wr(dt,Ne=Xa(Mi),Ne),i.$$.dirty[1]&67108864&&Wr(lt,Ze=Xa(Ui),Ze),i.$$.dirty[1]&268435456&&Wr(ht,Qe=Ai,Qe),i.$$.dirty[1]&536870912&&Wr(rr,De=Si,De),i.$$.dirty[1]&1073741824&&Wr(gt,ve=Zr,ve),i.$$.dirty[2]&1&&Wr(cr,Ee=Qi,Ee),i.$$.dirty[2]&2&&Wr(Mr,fe=Qn,fe),i.$$.dirty[2]&4&&Wr(se,Le=on,Le),i.$$.dirty[2]&8&&Wr(mt,Ge=In,Ge),i.$$.dirty[2]&16&&Wr(It,we=je,we),i.$$.dirty[2]&32&&Wr(qr,me=li,me),i.$$.dirty[2]&64&&Wr(hr,ee=Se,ee),i.$$.dirty[2]&128&&Wr(Dr,le=Tr,le),i.$$.dirty[2]&256&&Wr(zr,V=yr,V),i.$$.dirty[2]&512&&Wr(fr,R=ci,R),i.$$.dirty[2]&1024&&Wr(xr,$=hi,$),i.$$.dirty[2]&2048&&Wr(Wi,K=ui,K),i.$$.dirty[2]&4096&&Wr(HA,k=fn,k),i.$$.dirty[2]&131072&&Wr(Di,M=Tn,M),i.$$.dirty[2]&262144&&Wr(an,I=br,I),i.$$.dirty[2]&524288&&Wr(wo,x=H,x),i.$$.dirty[2]&1048576&&Wr(ZA,Q=N,Q),i.$$.dirty[2]&8192&&Wr(mi,F=Sn,F),i.$$.dirty[2]&16384&&Wr(qA,y=Pe,y),i.$$.dirty[2]&32768&&Wr(Ji,_=Ti,_),i.$$.dirty[2]&65536&&Wr(Pi,a=pn,a),i.$$.dirty[2]&16777216&&Wr(ii,p=ge,p),i.$$.dirty[2]&33554432&&Wr(Rn,l=X,l),i.$$.dirty[2]&67108864&&Ec("LayerCake",o)},n(88,o={activeGetters:oA,width:Yi,height:WA,percentRange:oe,aspectRatio:bo,containerWidth:Ce,containerHeight:Je,x:_t,y:ze,z:dt,r:lt,custom:ii,data:Re,xNice:Mr,yNice:se,zNice:mt,rNice:It,xReverse:qr,yReverse:hr,zReverse:Dr,rReverse:zr,xPadding:fr,yPadding:xr,zPadding:Wi,rPadding:HA,padding:Xn,flatData:$e,extents:dn,xDomain:$i,yDomain:vA,zDomain:gn,rDomain:JA,xRange:Bo,yRange:ns,zRange:Wo,rRange:Gs,config:Rn,xScale:is,xGet:su,yScale:qo,yGet:lu,zScale:Fa,zGet:uu,rScale:Ea,rGet:Vs}),[tr,ei,ti,vr,wr,$t,jt,Yt,We,Ar,St,oe,Ce,Je,tt,Re,$e,xt,_t,ze,dt,lt,ht,rr,gt,cr,Mr,se,mt,It,qr,hr,Dr,zr,fr,xr,Wi,HA,Di,an,wo,ZA,mi,qA,Ji,Pi,Rn,ii,Yi,WA,bo,Gt,Kr,Kt,ri,Nr,Mi,Ui,si,Ai,Si,Zr,Qi,Qn,on,In,je,li,Se,Tr,yr,ci,hi,ui,fn,Sn,Pe,Ti,pn,Tn,br,H,N,j,Y,ie,ge,X,o,wt,it,aA,YA]}class Kg extends Ei{constructor(e){super();Fi(this,e,UC,EC,wi,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xReverse:67,yReverse:68,zReverse:69,rReverse:70,xPadding:71,yPadding:72,zPadding:73,rPadding:74,xScale:75,yScale:76,zScale:77,rScale:78,xRange:79,yRange:80,zRange:81,rRange:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const QC=i=>({element:i&1}),I0=i=>({element:i[0]}),IC=i=>({element:i&1}),S0=i=>({element:i[0]});function SC(i){let e,n,o,l,p;const a=i[12].defs,_=Cn(a,i,i[11],S0),y=i[12].default,F=Cn(y,i,i[11],I0);return{c(){e=Cr("svg"),n=Cr("defs"),_&&_.c(),o=Cr("g"),F&&F.c(),this.h()},l(Q){e=Qr(Q,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var x=Et(e);n=Qr(x,"defs",{});var I=Et(n);_&&_.l(I),I.forEach(Be),o=Qr(x,"g",{class:!0,transform:!0});var M=Et(o);F&&F.l(M),M.forEach(Be),x.forEach(Be),this.h()},h(){ce(o,"class","layercake-layout-svg_g"),ce(o,"transform",l="translate("+i[7].left+", "+i[7].top+")"),ce(e,"class","layercake-layout-svg svelte-u84d8d"),ce(e,"viewBox",i[4]),ce(e,"width",i[5]),ce(e,"height",i[6]),gr(e,"z-index",i[2],!1),gr(e,"pointer-events",i[3]===!1?"none":null,!1)},m(Q,x){Ye(Q,e,x),Ot(e,n),_&&_.m(n,null),Ot(e,o),F&&F.m(o,null),i[13](o),i[14](e),p=!0},p(Q,[x]){_&&_.p&&(!p||x&2049)&&En(_,a,Q,Q[11],p?Fn(a,Q[11],x,IC):Un(Q[11]),S0),F&&F.p&&(!p||x&2049)&&En(F,y,Q,Q[11],p?Fn(y,Q[11],x,QC):Un(Q[11]),I0),(!p||x&128&&l!==(l="translate("+Q[7].left+", "+Q[7].top+")"))&&ce(o,"transform",l),(!p||x&16)&&ce(e,"viewBox",Q[4]),(!p||x&32)&&ce(e,"width",Q[5]),(!p||x&64)&&ce(e,"height",Q[6]),x&4&&gr(e,"z-index",Q[2],!1),x&8&&gr(e,"pointer-events",Q[3]===!1?"none":null,!1)},i(Q){p||(Te(_,Q),Te(F,Q),p=!0)},o(Q){Xe(_,Q),Xe(F,Q),p=!1},d(Q){Q&&Be(e),_&&_.d(Q),F&&F.d(Q),i[13](null),i[14](null)}}}function TC(i,e,n){let o,l,p,{$$slots:a={},$$scope:_}=e,{element:y=void 0}=e,{innerElement:F=void 0}=e,{zIndex:Q=void 0}=e,{pointerEvents:x=void 0}=e,{viewBox:I=void 0}=e;const{containerWidth:M,containerHeight:k,padding:K}=UA("LayerCake");At(i,M,V=>n(5,o=V)),At(i,k,V=>n(6,l=V)),At(i,K,V=>n(7,p=V));function $(V){zn[V?"unshift":"push"](()=>{F=V,n(1,F)})}function R(V){zn[V?"unshift":"push"](()=>{y=V,n(0,y)})}return i.$$set=V=>{"element"in V&&n(0,y=V.element),"innerElement"in V&&n(1,F=V.innerElement),"zIndex"in V&&n(2,Q=V.zIndex),"pointerEvents"in V&&n(3,x=V.pointerEvents),"viewBox"in V&&n(4,I=V.viewBox),"$$scope"in V&&n(11,_=V.$$scope)},[y,F,Q,x,I,o,l,p,M,k,K,_,a,$,R]}class Ng extends Ei{constructor(e){super();Fi(this,e,TC,SC,wi,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function Vg(i){return i<.5?4*i*i*i:.5*Math.pow(2*i-2,3)+1}function T0(i){return Object.prototype.toString.call(i)==="[object Date]"}function ig(i,e){if(i===e||i!==i)return()=>i;const n=typeof i;if(n!==typeof e||Array.isArray(i)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(i)){const o=e.map((l,p)=>ig(i[p],l));return l=>o.map(p=>p(l))}if(n==="object"){if(!i||!e)throw new Error("Object cannot be null");if(T0(i)&&T0(e)){i=i.getTime(),e=e.getTime();const p=e-i;return a=>new Date(i+a*p)}const o=Object.keys(e),l={};return o.forEach(p=>{l[p]=ig(i[p],e[p])}),p=>{const a={};return o.forEach(_=>{a[_]=l[_](p)}),a}}if(n==="number"){const o=e-i;return l=>i+l*o}throw new Error(`Cannot interpolate ${n} values`)}function Hs(i,e={}){const n=Rr(i);let o,l=i;function p(a,_){if(i==null)return n.set(i=a),Promise.resolve();l=a;let y=o,F=!1,{delay:Q=0,duration:x=400,easing:I=kb,interpolate:M=ig}=eu(eu({},e),_);if(x===0)return y&&(y.abort(),y=null),n.set(i=l),Promise.resolve();const k=Mb()+Q;let K;return o=Db($=>{if($<k)return!0;F||(K=M(i,a),typeof x=="function"&&(x=x(i,a)),F=!0),y&&(y.abort(),y=null);const R=$-k;return R>x?(n.set(i=a),!1):(n.set(i=K(I(R/x))),!0)}),o.promise}return{set:p,update:(a,_)=>p(a(l,i),_),subscribe:n.subscribe}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ng=function(i,e){return ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},ng(i,e)};function vo(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ng(i,e);function n(){this.constructor=i}i.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ag=function(){return Ag=Object.assign||function(e){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(e[p]=n[p])}return e},Ag.apply(this,arguments)};function FA(i,e,n,o){function l(p){return p instanceof n?p:new n(function(a){a(p)})}return new(n||(n=Promise))(function(p,a){function _(Q){try{F(o.next(Q))}catch(x){a(x)}}function y(Q){try{F(o.throw(Q))}catch(x){a(x)}}function F(Q){Q.done?p(Q.value):l(Q.value).then(_,y)}F((o=o.apply(i,e||[])).next())})}function mA(i,e){var n={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},o,l,p,a;return a={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function _(F){return function(Q){return y([F,Q])}}function y(F){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(p=F[0]&2?l.return:F[0]?l.throw||((p=l.return)&&p.call(l),0):l.next)&&!(p=p.call(l,F[1])).done)return p;switch(l=0,p&&(F=[F[0]&2,p.value]),F[0]){case 0:case 1:p=F;break;case 4:return n.label++,{value:F[1],done:!1};case 5:n.label++,l=F[1],F=[0];continue;case 7:F=n.ops.pop(),n.trys.pop();continue;default:if(p=n.trys,!(p=p.length>0&&p[p.length-1])&&(F[0]===6||F[0]===2)){n=0;continue}if(F[0]===3&&(!p||F[1]>p[0]&&F[1]<p[3])){n.label=F[1];break}if(F[0]===6&&n.label<p[1]){n.label=p[1],p=F;break}if(p&&n.label<p[2]){n.label=p[2],n.ops.push(F);break}p[2]&&n.ops.pop(),n.trys.pop();continue}F=e.call(i,n)}catch(Q){F=[6,Q],l=0}finally{o=p=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}}function hf(i,e,n){if(n||arguments.length===2)for(var o=0,l=e.length,p;o<l;o++)(p||!(o in e))&&(p||(p=Array.prototype.slice.call(e,0,o)),p[o]=e[o]);return i.concat(p||e)}var Ca=function(){function i(e,n,o,l){this.left=e,this.top=n,this.width=o,this.height=l}return i.prototype.add=function(e,n,o,l){return new i(this.left+e,this.top+n,this.width+o,this.height+l)},i.fromClientRect=function(e,n){return new i(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},i.fromDOMRectList=function(e,n){var o=Array.from(n).find(function(l){return l.width!==0});return o?new i(o.left+e.windowBounds.left,o.top+e.windowBounds.top,o.width,o.height):i.EMPTY},i.EMPTY=new i(0,0,0,0),i}(),hp=function(i,e){return Ca.fromClientRect(i,e.getBoundingClientRect())},kC=function(i){var e=i.body,n=i.documentElement;if(!e||!n)throw new Error("Unable to get document size");var o=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),l=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Ca(0,0,o,l)},fp=function(i){for(var e=[],n=0,o=i.length;n<o;){var l=i.charCodeAt(n++);if(l>=55296&&l<=56319&&n<o){var p=i.charCodeAt(n++);(p&64512)===56320?e.push(((l&1023)<<10)+(p&1023)+65536):(e.push(l),n--)}else e.push(l)}return e},xn=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var n=i.length;if(!n)return"";for(var o=[],l=-1,p="";++l<n;){var a=i[l];a<=65535?o.push(a):(a-=65536,o.push((a>>10)+55296,a%1024+56320)),(l+1===n||o.length>16384)&&(p+=String.fromCharCode.apply(String,o),o.length=0)}return p},k0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LC=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var ff=0;ff<k0.length;ff++)LC[k0.charCodeAt(ff)]=ff;var L0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fc=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var pf=0;pf<L0.length;pf++)fc[L0.charCodeAt(pf)]=pf;var MC=function(i){var e=i.length*.75,n=i.length,o,l=0,p,a,_,y;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);var F=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),Q=Array.isArray(F)?F:new Uint8Array(F);for(o=0;o<n;o+=4)p=fc[i.charCodeAt(o)],a=fc[i.charCodeAt(o+1)],_=fc[i.charCodeAt(o+2)],y=fc[i.charCodeAt(o+3)],Q[l++]=p<<2|a>>4,Q[l++]=(a&15)<<4|_>>2,Q[l++]=(_&3)<<6|y&63;return F},DC=function(i){for(var e=i.length,n=[],o=0;o<e;o+=2)n.push(i[o+1]<<8|i[o]);return n},PC=function(i){for(var e=i.length,n=[],o=0;o<e;o+=4)n.push(i[o+3]<<24|i[o+2]<<16|i[o+1]<<8|i[o]);return n},zs=5,Gg=6+5,vd=2,HC=Gg-zs,X1=65536>>zs,zC=1<<zs,wd=zC-1,RC=1024>>zs,OC=X1+RC,KC=OC,NC=32,VC=KC+NC,GC=65536>>Gg,XC=1<<HC,jC=XC-1,M0=function(i,e,n){return i.slice?i.slice(e,n):new Uint16Array(Array.prototype.slice.call(i,e,n))},ZC=function(i,e,n){return i.slice?i.slice(e,n):new Uint32Array(Array.prototype.slice.call(i,e,n))},qC=function(i,e){var n=MC(i),o=Array.isArray(n)?PC(n):new Uint32Array(n),l=Array.isArray(n)?DC(n):new Uint16Array(n),p=24,a=M0(l,p/2,o[4]/2),_=o[5]===2?M0(l,(p+o[4])/2):ZC(o,Math.ceil((p+o[4])/4));return new WC(o[0],o[1],o[2],o[3],a,_)},WC=function(){function i(e,n,o,l,p,a){this.initialValue=e,this.errorValue=n,this.highStart=o,this.highValueIndex=l,this.index=p,this.data=a}return i.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>zs],n=(n<<vd)+(e&wd),this.data[n];if(e<=65535)return n=this.index[X1+(e-55296>>zs)],n=(n<<vd)+(e&wd),this.data[n];if(e<this.highStart)return n=VC-GC+(e>>Gg),n=this.index[n],n+=e>>zs&jC,n=this.index[n],n=(n<<vd)+(e&wd),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),D0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JC=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var df=0;df<D0.length;df++)JC[D0.charCodeAt(df)]=df;var YC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",P0=50,$C=1,j1=2,Z1=3,eF=4,tF=5,H0=7,q1=8,z0=9,Wa=10,og=11,R0=12,ag=13,rF=14,pc=15,sg=16,gf=17,oc=18,iF=19,O0=20,lg=21,ac=22,Bd=23,zl=24,GA=25,dc=26,gc=27,Rl=28,nF=29,Ls=30,AF=31,mf=32,yf=33,ug=34,cg=35,hg=36,Tc=37,fg=38,Of=39,Kf=40,bd=41,W1=42,oF=43,aF=[9001,65288],J1="!",Yr="\xD7",_f="\xF7",pg=qC(YC),va=[Ls,hg],dg=[$C,j1,Z1,tF],Y1=[Wa,q1],K0=[gc,dc],sF=dg.concat(Y1),N0=[fg,Of,Kf,ug,cg],lF=[pc,ag],uF=function(i,e){e===void 0&&(e="strict");var n=[],o=[],l=[];return i.forEach(function(p,a){var _=pg.get(p);if(_>P0?(l.push(!0),_-=P0):l.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(p)!==-1)return o.push(a),n.push(sg);if(_===eF||_===og){if(a===0)return o.push(a),n.push(Ls);var y=n[a-1];return sF.indexOf(y)===-1?(o.push(o[a-1]),n.push(y)):(o.push(a),n.push(Ls))}if(o.push(a),_===AF)return n.push(e==="strict"?lg:Tc);if(_===W1||_===nF)return n.push(Ls);if(_===oF)return p>=131072&&p<=196605||p>=196608&&p<=262141?n.push(Tc):n.push(Ls);n.push(_)}),[o,n,l]},xd=function(i,e,n,o){var l=o[n];if(Array.isArray(i)?i.indexOf(l)!==-1:i===l)for(var p=n;p<=o.length;){p++;var a=o[p];if(a===e)return!0;if(a!==Wa)break}if(l===Wa)for(var p=n;p>0;){p--;var _=o[p];if(Array.isArray(i)?i.indexOf(_)!==-1:i===_)for(var y=n;y<=o.length;){y++;var a=o[y];if(a===e)return!0;if(a!==Wa)break}if(_!==Wa)break}return!1},V0=function(i,e){for(var n=i;n>=0;){var o=e[n];if(o===Wa)n--;else return o}return 0},cF=function(i,e,n,o,l){if(n[o]===0)return Yr;var p=o-1;if(Array.isArray(l)&&l[p]===!0)return Yr;var a=p-1,_=p+1,y=e[p],F=a>=0?e[a]:0,Q=e[_];if(y===j1&&Q===Z1)return Yr;if(dg.indexOf(y)!==-1)return J1;if(dg.indexOf(Q)!==-1||Y1.indexOf(Q)!==-1)return Yr;if(V0(p,e)===q1)return _f;if(pg.get(i[p])===og||(y===mf||y===yf)&&pg.get(i[_])===og||y===H0||Q===H0||y===z0||[Wa,ag,pc].indexOf(y)===-1&&Q===z0||[gf,oc,iF,zl,Rl].indexOf(Q)!==-1||V0(p,e)===ac||xd(Bd,ac,p,e)||xd([gf,oc],lg,p,e)||xd(R0,R0,p,e))return Yr;if(y===Wa)return _f;if(y===Bd||Q===Bd)return Yr;if(Q===sg||y===sg)return _f;if([ag,pc,lg].indexOf(Q)!==-1||y===rF||F===hg&&lF.indexOf(y)!==-1||y===Rl&&Q===hg||Q===O0||va.indexOf(Q)!==-1&&y===GA||va.indexOf(y)!==-1&&Q===GA||y===gc&&[Tc,mf,yf].indexOf(Q)!==-1||[Tc,mf,yf].indexOf(y)!==-1&&Q===dc||va.indexOf(y)!==-1&&K0.indexOf(Q)!==-1||K0.indexOf(y)!==-1&&va.indexOf(Q)!==-1||[gc,dc].indexOf(y)!==-1&&(Q===GA||[ac,pc].indexOf(Q)!==-1&&e[_+1]===GA)||[ac,pc].indexOf(y)!==-1&&Q===GA||y===GA&&[GA,Rl,zl].indexOf(Q)!==-1)return Yr;if([GA,Rl,zl,gf,oc].indexOf(Q)!==-1)for(var x=p;x>=0;){var I=e[x];if(I===GA)return Yr;if([Rl,zl].indexOf(I)!==-1)x--;else break}if([gc,dc].indexOf(Q)!==-1)for(var x=[gf,oc].indexOf(y)!==-1?a:p;x>=0;){var I=e[x];if(I===GA)return Yr;if([Rl,zl].indexOf(I)!==-1)x--;else break}if(fg===y&&[fg,Of,ug,cg].indexOf(Q)!==-1||[Of,ug].indexOf(y)!==-1&&[Of,Kf].indexOf(Q)!==-1||[Kf,cg].indexOf(y)!==-1&&Q===Kf||N0.indexOf(y)!==-1&&[O0,dc].indexOf(Q)!==-1||N0.indexOf(Q)!==-1&&y===gc||va.indexOf(y)!==-1&&va.indexOf(Q)!==-1||y===zl&&va.indexOf(Q)!==-1||va.concat(GA).indexOf(y)!==-1&&Q===ac&&aF.indexOf(i[_])===-1||va.concat(GA).indexOf(Q)!==-1&&y===oc)return Yr;if(y===bd&&Q===bd){for(var M=n[p],k=1;M>0&&(M--,e[M]===bd);)k++;if(k%2!==0)return Yr}return y===mf&&Q===yf?Yr:_f},hF=function(i,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=uF(i,e.lineBreak),o=n[0],l=n[1],p=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(l=l.map(function(_){return[GA,Ls,W1].indexOf(_)!==-1?Tc:_}));var a=e.wordBreak==="keep-all"?p.map(function(_,y){return _&&i[y]>=19968&&i[y]<=40959}):void 0;return[o,l,a]},fF=function(){function i(e,n,o,l){this.codePoints=e,this.required=n===J1,this.start=o,this.end=l}return i.prototype.slice=function(){return xn.apply(void 0,this.codePoints.slice(this.start,this.end))},i}(),pF=function(i,e){var n=fp(i),o=hF(n,e),l=o[0],p=o[1],a=o[2],_=n.length,y=0,F=0;return{next:function(){if(F>=_)return{done:!0,value:null};for(var Q=Yr;F<_&&(Q=cF(n,p,l,++F,a))===Yr;);if(Q!==Yr||F===_){var x=new fF(n,Q,y,F);return y=F,{value:x,done:!1}}return{done:!0,value:null}}}},dF=1<<0,gF=1<<1,Xc=1<<2,G0=1<<3,Jf=10,X0=47,wc=92,mF=9,yF=32,vf=34,sc=61,_F=35,vF=36,wF=37,wf=39,Bf=40,lc=41,BF=95,PA=45,bF=33,xF=60,CF=62,FF=64,EF=91,UF=93,QF=61,IF=123,bf=63,SF=125,j0=124,TF=126,kF=128,Z0=65533,Cd=42,Ds=43,LF=44,MF=58,DF=59,kc=46,PF=0,HF=8,zF=11,RF=14,OF=31,KF=127,No=-1,$1=48,ew=97,tw=101,NF=102,VF=117,GF=122,rw=65,iw=69,nw=70,XF=85,jF=90,yA=function(i){return i>=$1&&i<=57},ZF=function(i){return i>=55296&&i<=57343},Ol=function(i){return yA(i)||i>=rw&&i<=nw||i>=ew&&i<=NF},qF=function(i){return i>=ew&&i<=GF},WF=function(i){return i>=rw&&i<=jF},JF=function(i){return qF(i)||WF(i)},YF=function(i){return i>=kF},xf=function(i){return i===Jf||i===mF||i===yF},Yf=function(i){return JF(i)||YF(i)||i===BF},q0=function(i){return Yf(i)||yA(i)||i===PA},$F=function(i){return i>=PF&&i<=HF||i===zF||i>=RF&&i<=OF||i===KF},qa=function(i,e){return i!==wc?!1:e!==Jf},Cf=function(i,e,n){return i===PA?Yf(e)||qa(e,n):Yf(i)?!0:!!(i===wc&&qa(i,e))},Fd=function(i,e,n){return i===Ds||i===PA?yA(e)?!0:e===kc&&yA(n):yA(i===kc?e:i)},eE=function(i){var e=0,n=1;(i[e]===Ds||i[e]===PA)&&(i[e]===PA&&(n=-1),e++);for(var o=[];yA(i[e]);)o.push(i[e++]);var l=o.length?parseInt(xn.apply(void 0,o),10):0;i[e]===kc&&e++;for(var p=[];yA(i[e]);)p.push(i[e++]);var a=p.length,_=a?parseInt(xn.apply(void 0,p),10):0;(i[e]===iw||i[e]===tw)&&e++;var y=1;(i[e]===Ds||i[e]===PA)&&(i[e]===PA&&(y=-1),e++);for(var F=[];yA(i[e]);)F.push(i[e++]);var Q=F.length?parseInt(xn.apply(void 0,F),10):0;return n*(l+_*Math.pow(10,-a))*Math.pow(10,y*Q)},tE={type:2},rE={type:3},iE={type:4},nE={type:13},AE={type:8},oE={type:21},aE={type:9},sE={type:10},lE={type:11},uE={type:12},cE={type:14},Ff={type:23},hE={type:1},fE={type:25},pE={type:24},dE={type:26},gE={type:27},mE={type:28},yE={type:29},_E={type:31},gg={type:32},Aw=function(){function i(){this._value=[]}return i.prototype.write=function(e){this._value=this._value.concat(fp(e))},i.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==gg;)e.push(n),n=this.consumeToken();return e},i.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case vf:return this.consumeStringToken(vf);case _F:var n=this.peekCodePoint(0),o=this.peekCodePoint(1),l=this.peekCodePoint(2);if(q0(n)||qa(o,l)){var p=Cf(n,o,l)?gF:dF,a=this.consumeName();return{type:5,value:a,flags:p}}break;case vF:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),nE;break;case wf:return this.consumeStringToken(wf);case Bf:return tE;case lc:return rE;case Cd:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),cE;break;case Ds:if(Fd(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case LF:return iE;case PA:var _=e,y=this.peekCodePoint(0),F=this.peekCodePoint(1);if(Fd(_,y,F))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Cf(_,y,F))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(y===PA&&F===CF)return this.consumeCodePoint(),this.consumeCodePoint(),pE;break;case kc:if(Fd(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case X0:if(this.peekCodePoint(0)===Cd)for(this.consumeCodePoint();;){var Q=this.consumeCodePoint();if(Q===Cd&&(Q=this.consumeCodePoint(),Q===X0))return this.consumeToken();if(Q===No)return this.consumeToken()}break;case MF:return dE;case DF:return gE;case xF:if(this.peekCodePoint(0)===bF&&this.peekCodePoint(1)===PA&&this.peekCodePoint(2)===PA)return this.consumeCodePoint(),this.consumeCodePoint(),fE;break;case FF:var x=this.peekCodePoint(0),I=this.peekCodePoint(1),M=this.peekCodePoint(2);if(Cf(x,I,M)){var a=this.consumeName();return{type:7,value:a}}break;case EF:return mE;case wc:if(qa(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case UF:return yE;case QF:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),AE;break;case IF:return lE;case SF:return uE;case VF:case XF:var k=this.peekCodePoint(0),K=this.peekCodePoint(1);return k===Ds&&(Ol(K)||K===bf)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case j0:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),aE;if(this.peekCodePoint(0)===j0)return this.consumeCodePoint(),oE;break;case TF:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),sE;break;case No:return gg}return xf(e)?(this.consumeWhiteSpace(),_E):yA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Yf(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:xn(e)}},i.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e=="undefined"?-1:e},i.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},i.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},i.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Ol(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var o=!1;n===bf&&e.length<6;)e.push(n),n=this.consumeCodePoint(),o=!0;if(o){var l=parseInt(xn.apply(void 0,e.map(function(y){return y===bf?$1:y})),16),p=parseInt(xn.apply(void 0,e.map(function(y){return y===bf?nw:y})),16);return{type:30,start:l,end:p}}var a=parseInt(xn.apply(void 0,e),16);if(this.peekCodePoint(0)===PA&&Ol(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var _=[];Ol(n)&&_.length<6;)_.push(n),n=this.consumeCodePoint();var p=parseInt(xn.apply(void 0,_),16);return{type:30,start:a,end:p}}else return{type:30,start:a,end:a}},i.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Bf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Bf?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},i.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===No)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===wf||n===vf){var o=this.consumeStringToken(this.consumeCodePoint());return o.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===No||this.peekCodePoint(0)===lc)?(this.consumeCodePoint(),{type:22,value:o.value}):(this.consumeBadUrlRemnants(),Ff)}for(;;){var l=this.consumeCodePoint();if(l===No||l===lc)return{type:22,value:xn.apply(void 0,e)};if(xf(l))return this.consumeWhiteSpace(),this.peekCodePoint(0)===No||this.peekCodePoint(0)===lc?(this.consumeCodePoint(),{type:22,value:xn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ff);if(l===vf||l===wf||l===Bf||$F(l))return this.consumeBadUrlRemnants(),Ff;if(l===wc)if(qa(l,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ff;else e.push(l)}},i.prototype.consumeWhiteSpace=function(){for(;xf(this.peekCodePoint(0));)this.consumeCodePoint()},i.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===lc||e===No)return;qa(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},i.prototype.consumeStringSlice=function(e){for(var n=5e4,o="";e>0;){var l=Math.min(n,e);o+=xn.apply(void 0,this._value.splice(0,l)),e-=l}return this._value.shift(),o},i.prototype.consumeStringToken=function(e){var n="",o=0;do{var l=this._value[o];if(l===No||l===void 0||l===e)return n+=this.consumeStringSlice(o),{type:0,value:n};if(l===Jf)return this._value.splice(0,o),hE;if(l===wc){var p=this._value[o+1];p!==No&&p!==void 0&&(p===Jf?(n+=this.consumeStringSlice(o),o=-1,this._value.shift()):qa(l,p)&&(n+=this.consumeStringSlice(o),n+=xn(this.consumeEscapedCodePoint()),o=-1))}o++}while(!0)},i.prototype.consumeNumber=function(){var e=[],n=Xc,o=this.peekCodePoint(0);for((o===Ds||o===PA)&&e.push(this.consumeCodePoint());yA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());o=this.peekCodePoint(0);var l=this.peekCodePoint(1);if(o===kc&&yA(l))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=G0;yA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());o=this.peekCodePoint(0),l=this.peekCodePoint(1);var p=this.peekCodePoint(2);if((o===iw||o===tw)&&((l===Ds||l===PA)&&yA(p)||yA(l)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=G0;yA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[eE(e),n]},i.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],o=e[1],l=this.peekCodePoint(0),p=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Cf(l,p,a)){var _=this.consumeName();return{type:15,number:n,flags:o,unit:_}}return l===wF?(this.consumeCodePoint(),{type:16,number:n,flags:o}):{type:17,number:n,flags:o}},i.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ol(e)){for(var n=xn(e);Ol(this.peekCodePoint(0))&&n.length<6;)n+=xn(this.consumeCodePoint());xf(this.peekCodePoint(0))&&this.consumeCodePoint();var o=parseInt(n,16);return o===0||ZF(o)||o>1114111?Z0:o}return e===No?Z0:e},i.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(q0(n))e+=xn(n);else if(qa(n,this.peekCodePoint(0)))e+=xn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},i}(),ow=function(){function i(e){this._tokens=e}return i.create=function(e){var n=new Aw;return n.write(e),new i(n.read())},i.parseValue=function(e){return i.create(e).parseComponentValue()},i.parseValues=function(e){return i.create(e).parseComponentValues()},i.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},i.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},i.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},i.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},o=this.consumeToken();;){if(o.type===32||wE(o,e))return n;this.reconsumeToken(o),n.values.push(this.consumeComponentValue()),o=this.consumeToken()}},i.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var o=this.consumeToken();if(o.type===32||o.type===3)return n;this.reconsumeToken(o),n.values.push(this.consumeComponentValue())}},i.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e=="undefined"?gg:e},i.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},i}(),jc=function(i){return i.type===15},au=function(i){return i.type===17},Ii=function(i){return i.type===20},vE=function(i){return i.type===0},mg=function(i,e){return Ii(i)&&i.value===e},aw=function(i){return i.type!==31},Au=function(i){return i.type!==31&&i.type!==4},jo=function(i){var e=[],n=[];return i.forEach(function(o){if(o.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}o.type!==31&&n.push(o)}),n.length&&e.push(n),e},wE=function(i,e){return e===11&&i.type===12||e===28&&i.type===29?!0:e===2&&i.type===3},ts=function(i){return i.type===17||i.type===15},Pn=function(i){return i.type===16||ts(i)},sw=function(i){return i.length>1?[i[0],i[1]]:[i[0]]},AA={type:17,number:0,flags:Xc},Xg={type:16,number:50,flags:Xc},Ja={type:16,number:100,flags:Xc},mc=function(i,e,n){var o=i[0],l=i[1];return[Oi(o,e),Oi(typeof l!="undefined"?l:o,n)]},Oi=function(i,e){if(i.type===16)return i.number/100*e;if(jc(i))switch(i.unit){case"rem":case"em":return 16*i.number;case"px":default:return i.number}return i.number},lw="deg",uw="grad",cw="rad",hw="turn",pp={name:"angle",parse:function(i,e){if(e.type===15)switch(e.unit){case lw:return Math.PI*e.number/180;case uw:return Math.PI/200*e.number;case cw:return e.number;case hw:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},fw=function(i){return i.type===15&&(i.unit===lw||i.unit===uw||i.unit===cw||i.unit===hw)},pw=function(i){var e=i.filter(Ii).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[AA,AA];case"to top":case"bottom":return lo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[AA,Ja];case"to right":case"left":return lo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ja,Ja];case"to bottom":case"top":return lo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ja,AA];case"to left":case"right":return lo(270)}return 0},lo=function(i){return Math.PI*i/180},$a={name:"color",parse:function(i,e){if(e.type===18){var n=BE[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(i,e.values)}if(e.type===5){if(e.value.length===3){var o=e.value.substring(0,1),l=e.value.substring(1,2),p=e.value.substring(2,3);return Ya(parseInt(o+o,16),parseInt(l+l,16),parseInt(p+p,16),1)}if(e.value.length===4){var o=e.value.substring(0,1),l=e.value.substring(1,2),p=e.value.substring(2,3),a=e.value.substring(3,4);return Ya(parseInt(o+o,16),parseInt(l+l,16),parseInt(p+p,16),parseInt(a+a,16)/255)}if(e.value.length===6){var o=e.value.substring(0,2),l=e.value.substring(2,4),p=e.value.substring(4,6);return Ya(parseInt(o,16),parseInt(l,16),parseInt(p,16),1)}if(e.value.length===8){var o=e.value.substring(0,2),l=e.value.substring(2,4),p=e.value.substring(4,6),a=e.value.substring(6,8);return Ya(parseInt(o,16),parseInt(l,16),parseInt(p,16),parseInt(a,16)/255)}}if(e.type===20){var _=ba[e.value.toUpperCase()];if(typeof _!="undefined")return _}return ba.TRANSPARENT}},es=function(i){return(255&i)===0},$n=function(i){var e=255&i,n=255&i>>8,o=255&i>>16,l=255&i>>24;return e<255?"rgba("+l+","+o+","+n+","+e/255+")":"rgb("+l+","+o+","+n+")"},Ya=function(i,e,n,o){return(i<<24|e<<16|n<<8|Math.round(o*255)<<0)>>>0},W0=function(i,e){if(i.type===17)return i.number;if(i.type===16){var n=e===3?1:255;return e===3?i.number/100*n:Math.round(i.number/100*n)}return 0},J0=function(i,e){var n=e.filter(Au);if(n.length===3){var o=n.map(W0),l=o[0],p=o[1],a=o[2];return Ya(l,p,a,1)}if(n.length===4){var _=n.map(W0),l=_[0],p=_[1],a=_[2],y=_[3];return Ya(l,p,a,y)}return 0};function Ed(i,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-i)*n*6+i:n<1/2?e:n<2/3?(e-i)*6*(2/3-n)+i:i}var Y0=function(i,e){var n=e.filter(Au),o=n[0],l=n[1],p=n[2],a=n[3],_=(o.type===17?lo(o.number):pp.parse(i,o))/(Math.PI*2),y=Pn(l)?l.number/100:0,F=Pn(p)?p.number/100:0,Q=typeof a!="undefined"&&Pn(a)?Oi(a,1):1;if(y===0)return Ya(F*255,F*255,F*255,1);var x=F<=.5?F*(y+1):F+y-F*y,I=F*2-x,M=Ed(I,x,_+1/3),k=Ed(I,x,_),K=Ed(I,x,_-1/3);return Ya(M*255,k*255,K*255,Q)},BE={hsl:Y0,hsla:Y0,rgb:J0,rgba:J0},Bc=function(i,e){return $a.parse(i,ow.create(e).parseComponentValue())},ba={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},bE={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(n){if(Ii(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xE={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dp=function(i,e){var n=$a.parse(i,e[0]),o=e[1];return o&&Pn(o)?{color:n,stop:o}:{color:n,stop:null}},$0=function(i,e){var n=i[0],o=i[i.length-1];n.stop===null&&(n.stop=AA),o.stop===null&&(o.stop=Ja);for(var l=[],p=0,a=0;a<i.length;a++){var _=i[a].stop;if(_!==null){var y=Oi(_,e);y>p?l.push(y):l.push(p),p=y}else l.push(null)}for(var F=null,a=0;a<l.length;a++){var Q=l[a];if(Q===null)F===null&&(F=a);else if(F!==null){for(var x=a-F,I=l[F-1],M=(Q-I)/(x+1),k=1;k<=x;k++)l[F+k-1]=M*k;F=null}}return i.map(function(K,$){var R=K.color;return{color:R,stop:Math.max(Math.min(1,l[$]/e),0)}})},CE=function(i,e,n){var o=e/2,l=n/2,p=Oi(i[0],e)-o,a=l-Oi(i[1],n);return(Math.atan2(a,p)+Math.PI*2)%(Math.PI*2)},FE=function(i,e,n){var o=typeof i=="number"?i:CE(i,e,n),l=Math.abs(e*Math.sin(o))+Math.abs(n*Math.cos(o)),p=e/2,a=n/2,_=l/2,y=Math.sin(o-Math.PI/2)*_,F=Math.cos(o-Math.PI/2)*_;return[l,p-F,p+F,a-y,a+y]},_o=function(i,e){return Math.sqrt(i*i+e*e)},e_=function(i,e,n,o,l){var p=[[0,0],[0,e],[i,0],[i,e]];return p.reduce(function(a,_){var y=_[0],F=_[1],Q=_o(n-y,o-F);return(l?Q<a.optimumDistance:Q>a.optimumDistance)?{optimumCorner:_,optimumDistance:Q}:a},{optimumDistance:l?1/0:-1/0,optimumCorner:null}).optimumCorner},EE=function(i,e,n,o,l){var p=0,a=0;switch(i.size){case 0:i.shape===0?p=a=Math.min(Math.abs(e),Math.abs(e-o),Math.abs(n),Math.abs(n-l)):i.shape===1&&(p=Math.min(Math.abs(e),Math.abs(e-o)),a=Math.min(Math.abs(n),Math.abs(n-l)));break;case 2:if(i.shape===0)p=a=Math.min(_o(e,n),_o(e,n-l),_o(e-o,n),_o(e-o,n-l));else if(i.shape===1){var _=Math.min(Math.abs(n),Math.abs(n-l))/Math.min(Math.abs(e),Math.abs(e-o)),y=e_(o,l,e,n,!0),F=y[0],Q=y[1];p=_o(F-e,(Q-n)/_),a=_*p}break;case 1:i.shape===0?p=a=Math.max(Math.abs(e),Math.abs(e-o),Math.abs(n),Math.abs(n-l)):i.shape===1&&(p=Math.max(Math.abs(e),Math.abs(e-o)),a=Math.max(Math.abs(n),Math.abs(n-l)));break;case 3:if(i.shape===0)p=a=Math.max(_o(e,n),_o(e,n-l),_o(e-o,n),_o(e-o,n-l));else if(i.shape===1){var _=Math.max(Math.abs(n),Math.abs(n-l))/Math.max(Math.abs(e),Math.abs(e-o)),x=e_(o,l,e,n,!1),F=x[0],Q=x[1];p=_o(F-e,(Q-n)/_),a=_*p}break}return Array.isArray(i.size)&&(p=Oi(i.size[0],o),a=i.size.length===2?Oi(i.size[1],l):p),[p,a]},UE=function(i,e){var n=lo(180),o=[];return jo(e).forEach(function(l,p){if(p===0){var a=l[0];if(a.type===20&&a.value==="to"){n=pw(l);return}else if(fw(a)){n=pp.parse(i,a);return}}var _=dp(i,l);o.push(_)}),{angle:n,stops:o,type:1}},Ef=function(i,e){var n=lo(180),o=[];return jo(e).forEach(function(l,p){if(p===0){var a=l[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=pw(l);return}else if(fw(a)){n=(pp.parse(i,a)+lo(270))%lo(360);return}}var _=dp(i,l);o.push(_)}),{angle:n,stops:o,type:1}},QE=function(i,e){var n=lo(180),o=[],l=1,p=0,a=3,_=[];return jo(e).forEach(function(y,F){var Q=y[0];if(F===0){if(Ii(Q)&&Q.value==="linear"){l=1;return}else if(Ii(Q)&&Q.value==="radial"){l=2;return}}if(Q.type===18){if(Q.name==="from"){var x=$a.parse(i,Q.values[0]);o.push({stop:AA,color:x})}else if(Q.name==="to"){var x=$a.parse(i,Q.values[0]);o.push({stop:Ja,color:x})}else if(Q.name==="color-stop"){var I=Q.values.filter(Au);if(I.length===2){var x=$a.parse(i,I[1]),M=I[0];au(M)&&o.push({stop:{type:16,number:M.number*100,flags:M.flags},color:x})}}}}),l===1?{angle:(n+lo(180))%lo(360),stops:o,type:l}:{size:a,shape:p,stops:o,position:_,type:l}},dw="closest-side",gw="farthest-side",mw="closest-corner",yw="farthest-corner",_w="circle",vw="ellipse",ww="cover",Bw="contain",IE=function(i,e){var n=0,o=3,l=[],p=[];return jo(e).forEach(function(a,_){var y=!0;if(_===0){var F=!1;y=a.reduce(function(x,I){if(F)if(Ii(I))switch(I.value){case"center":return p.push(Xg),x;case"top":case"left":return p.push(AA),x;case"right":case"bottom":return p.push(Ja),x}else(Pn(I)||ts(I))&&p.push(I);else if(Ii(I))switch(I.value){case _w:return n=0,!1;case vw:return n=1,!1;case"at":return F=!0,!1;case dw:return o=0,!1;case ww:case gw:return o=1,!1;case Bw:case mw:return o=2,!1;case yw:return o=3,!1}else if(ts(I)||Pn(I))return Array.isArray(o)||(o=[]),o.push(I),!1;return x},y)}if(y){var Q=dp(i,a);l.push(Q)}}),{size:o,shape:n,stops:l,position:p,type:2}},Uf=function(i,e){var n=0,o=3,l=[],p=[];return jo(e).forEach(function(a,_){var y=!0;if(_===0?y=a.reduce(function(Q,x){if(Ii(x))switch(x.value){case"center":return p.push(Xg),!1;case"top":case"left":return p.push(AA),!1;case"right":case"bottom":return p.push(Ja),!1}else if(Pn(x)||ts(x))return p.push(x),!1;return Q},y):_===1&&(y=a.reduce(function(Q,x){if(Ii(x))switch(x.value){case _w:return n=0,!1;case vw:return n=1,!1;case Bw:case dw:return o=0,!1;case gw:return o=1,!1;case mw:return o=2,!1;case ww:case yw:return o=3,!1}else if(ts(x)||Pn(x))return Array.isArray(o)||(o=[]),o.push(x),!1;return Q},y)),y){var F=dp(i,a);l.push(F)}}),{size:o,shape:n,stops:l,position:p,type:2}},SE=function(i){return i.type===1},TE=function(i){return i.type===2},jg={name:"image",parse:function(i,e){if(e.type===22){var n={url:e.value,type:0};return i.cache.addImage(e.value),n}if(e.type===18){var o=bw[e.name];if(typeof o=="undefined")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return o(i,e.values)}throw new Error("Unsupported image type "+e.type)}};function kE(i){return!(i.type===20&&i.value==="none")&&(i.type!==18||!!bw[i.name])}var bw={"linear-gradient":UE,"-moz-linear-gradient":Ef,"-ms-linear-gradient":Ef,"-o-linear-gradient":Ef,"-webkit-linear-gradient":Ef,"radial-gradient":IE,"-moz-radial-gradient":Uf,"-ms-radial-gradient":Uf,"-o-radial-gradient":Uf,"-webkit-radial-gradient":Uf,"-webkit-gradient":QE},LE={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(o){return Au(o)&&kE(o)}).map(function(o){return jg.parse(i,o)})}},ME={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(n){if(Ii(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},DE={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(i,e){return jo(e).map(function(n){return n.filter(Pn)}).map(sw)}},PE={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(i,e){return jo(e).map(function(n){return n.filter(Ii).map(function(o){return o.value}).join(" ")}).map(HE)}},HE=function(i){switch(i){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},$l;(function(i){i.AUTO="auto",i.CONTAIN="contain",i.COVER="cover"})($l||($l={}));var zE={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(i,e){return jo(e).map(function(n){return n.filter(RE)})}},RE=function(i){return Ii(i)||Pn(i)},gp=function(i){return{name:"border-"+i+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},OE=gp("top"),KE=gp("right"),NE=gp("bottom"),VE=gp("left"),mp=function(i){return{name:"border-radius-"+i,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return sw(n.filter(Pn))}}},GE=mp("top-left"),XE=mp("top-right"),jE=mp("bottom-right"),ZE=mp("bottom-left"),yp=function(i){return{name:"border-"+i+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qE=yp("top"),WE=yp("right"),JE=yp("bottom"),YE=yp("left"),_p=function(i){return{name:"border-"+i+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return jc(n)?n.number:0}}},$E=_p("top"),eU=_p("right"),tU=_p("bottom"),rU=_p("left"),iU={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nU={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(i,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},AU={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(i,e){return e.filter(Ii).reduce(function(n,o){return n|oU(o.value)},0)}},oU=function(i){switch(i){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},aU={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},sU={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(i,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},$f;(function(i){i.NORMAL="normal",i.STRICT="strict"})($f||($f={}));var lU={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"strict":return $f.STRICT;case"normal":default:return $f.NORMAL}}},uU={name:"line-height",initialValue:"normal",prefix:!1,type:4},t_=function(i,e){return Ii(i)&&i.value==="normal"?1.2*e:i.type===17?e*i.number:Pn(i)?Oi(i,e):e},cU={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(i,e){return e.type===20&&e.value==="none"?null:jg.parse(i,e)}},hU={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(i,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},yg={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},vp=function(i){return{name:"margin-"+i,initialValue:"0",prefix:!1,type:4}},fU=vp("top"),pU=vp("right"),dU=vp("bottom"),gU=vp("left"),mU={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(i,e){return e.filter(Ii).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},yU={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},wp=function(i){return{name:"padding-"+i,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_U=wp("top"),vU=wp("right"),wU=wp("bottom"),BU=wp("left"),bU={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(i,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},xU={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(i,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},CU={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&mg(e[0],"none")?[]:jo(e).map(function(n){for(var o={color:ba.TRANSPARENT,offsetX:AA,offsetY:AA,blur:AA},l=0,p=0;p<n.length;p++){var a=n[p];ts(a)?(l===0?o.offsetX=a:l===1?o.offsetY=a:o.blur=a,l++):o.color=$a.parse(i,a)}return o})}},FU={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},EU={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(i,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=IU[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},UU=function(i){var e=i.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},QU=function(i){var e=i.filter(function(y){return y.type===17}).map(function(y){return y.number}),n=e[0],o=e[1];e[2],e[3];var l=e[4],p=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],_=e[13];return e[14],e[15],e.length===16?[n,o,l,p,a,_]:null},IU={matrix:UU,matrix3d:QU},r_={type:16,number:50,flags:Xc},SU=[r_,r_],TU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(i,e){var n=e.filter(Pn);return n.length!==2?SU:[n[0],n[1]]}},kU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},bc;(function(i){i.NORMAL="normal",i.BREAK_ALL="break-all",i.KEEP_ALL="keep-all"})(bc||(bc={}));var LU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"break-all":return bc.BREAK_ALL;case"keep-all":return bc.KEEP_ALL;case"normal":default:return bc.NORMAL}}},MU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(i,e){if(e.type===20)return{auto:!0,order:0};if(au(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},xw={name:"time",parse:function(i,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},DU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(i,e){return au(e)?e.number:1}},PU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},HU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(i,e){return e.filter(Ii).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},zU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(i,e){var n=[],o=[];return e.forEach(function(l){switch(l.type){case 20:case 0:n.push(l.value);break;case 17:n.push(l.number.toString());break;case 4:o.push(n.join(" ")),n.length=0;break}}),n.length&&o.push(n.join(" ")),o.map(function(l){return l.indexOf(" ")===-1?l:"'"+l+"'"})}},RU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},OU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(i,e){if(au(e))return e.number;if(Ii(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},KU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.filter(Ii).map(function(n){return n.value})}},NU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Gn=function(i,e){return(i&e)!==0},VU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},GU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var o=[],l=e.filter(aw),p=0;p<l.length;p++){var a=l[p],_=l[p+1];if(a.type===20){var y=_&&au(_)?_.number:1;o.push({counter:a.value,increment:y})}}return o}},XU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return[];for(var n=[],o=e.filter(aw),l=0;l<o.length;l++){var p=o[l],a=o[l+1];if(Ii(p)&&p.value!=="none"){var _=a&&au(a)?a.number:0;n.push({counter:p.value,reset:_})}}return n}},jU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(i,e){return e.filter(jc).map(function(n){return xw.parse(i,n)})}},ZU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var o=[],l=e.filter(vE);if(l.length%2!==0)return null;for(var p=0;p<l.length;p+=2){var a=l[p].value,_=l[p+1].value;o.push({open:a,close:_})}return o}},i_=function(i,e,n){if(!i)return"";var o=i[Math.min(e,i.length-1)];return o?n?o.open:o.close:""},qU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&mg(e[0],"none")?[]:jo(e).map(function(n){for(var o={color:255,offsetX:AA,offsetY:AA,blur:AA,spread:AA,inset:!1},l=0,p=0;p<n.length;p++){var a=n[p];mg(a,"inset")?o.inset=!0:ts(a)?(l===0?o.offsetX=a:l===1?o.offsetY=a:l===2?o.blur=a:o.spread=a,l++):o.color=$a.parse(i,a)}return o})}},WU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(i,e){var n=[0,1,2],o=[];return e.filter(Ii).forEach(function(l){switch(l.value){case"stroke":o.push(1);break;case"fill":o.push(0);break;case"markers":o.push(2);break}}),n.forEach(function(l){o.indexOf(l)===-1&&o.push(l)}),o}},JU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},YU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(i,e){return jc(e)?e.number:0}},$U=function(){function i(e,n){var o,l;this.animationDuration=Rt(e,jU,n.animationDuration),this.backgroundClip=Rt(e,bE,n.backgroundClip),this.backgroundColor=Rt(e,xE,n.backgroundColor),this.backgroundImage=Rt(e,LE,n.backgroundImage),this.backgroundOrigin=Rt(e,ME,n.backgroundOrigin),this.backgroundPosition=Rt(e,DE,n.backgroundPosition),this.backgroundRepeat=Rt(e,PE,n.backgroundRepeat),this.backgroundSize=Rt(e,zE,n.backgroundSize),this.borderTopColor=Rt(e,OE,n.borderTopColor),this.borderRightColor=Rt(e,KE,n.borderRightColor),this.borderBottomColor=Rt(e,NE,n.borderBottomColor),this.borderLeftColor=Rt(e,VE,n.borderLeftColor),this.borderTopLeftRadius=Rt(e,GE,n.borderTopLeftRadius),this.borderTopRightRadius=Rt(e,XE,n.borderTopRightRadius),this.borderBottomRightRadius=Rt(e,jE,n.borderBottomRightRadius),this.borderBottomLeftRadius=Rt(e,ZE,n.borderBottomLeftRadius),this.borderTopStyle=Rt(e,qE,n.borderTopStyle),this.borderRightStyle=Rt(e,WE,n.borderRightStyle),this.borderBottomStyle=Rt(e,JE,n.borderBottomStyle),this.borderLeftStyle=Rt(e,YE,n.borderLeftStyle),this.borderTopWidth=Rt(e,$E,n.borderTopWidth),this.borderRightWidth=Rt(e,eU,n.borderRightWidth),this.borderBottomWidth=Rt(e,tU,n.borderBottomWidth),this.borderLeftWidth=Rt(e,rU,n.borderLeftWidth),this.boxShadow=Rt(e,qU,n.boxShadow),this.color=Rt(e,iU,n.color),this.direction=Rt(e,nU,n.direction),this.display=Rt(e,AU,n.display),this.float=Rt(e,aU,n.cssFloat),this.fontFamily=Rt(e,zU,n.fontFamily),this.fontSize=Rt(e,RU,n.fontSize),this.fontStyle=Rt(e,NU,n.fontStyle),this.fontVariant=Rt(e,KU,n.fontVariant),this.fontWeight=Rt(e,OU,n.fontWeight),this.letterSpacing=Rt(e,sU,n.letterSpacing),this.lineBreak=Rt(e,lU,n.lineBreak),this.lineHeight=Rt(e,uU,n.lineHeight),this.listStyleImage=Rt(e,cU,n.listStyleImage),this.listStylePosition=Rt(e,hU,n.listStylePosition),this.listStyleType=Rt(e,yg,n.listStyleType),this.marginTop=Rt(e,fU,n.marginTop),this.marginRight=Rt(e,pU,n.marginRight),this.marginBottom=Rt(e,dU,n.marginBottom),this.marginLeft=Rt(e,gU,n.marginLeft),this.opacity=Rt(e,DU,n.opacity);var p=Rt(e,mU,n.overflow);this.overflowX=p[0],this.overflowY=p[p.length>1?1:0],this.overflowWrap=Rt(e,yU,n.overflowWrap),this.paddingTop=Rt(e,_U,n.paddingTop),this.paddingRight=Rt(e,vU,n.paddingRight),this.paddingBottom=Rt(e,wU,n.paddingBottom),this.paddingLeft=Rt(e,BU,n.paddingLeft),this.paintOrder=Rt(e,WU,n.paintOrder),this.position=Rt(e,xU,n.position),this.textAlign=Rt(e,bU,n.textAlign),this.textDecorationColor=Rt(e,PU,(o=n.textDecorationColor)!==null&&o!==void 0?o:n.color),this.textDecorationLine=Rt(e,HU,(l=n.textDecorationLine)!==null&&l!==void 0?l:n.textDecoration),this.textShadow=Rt(e,CU,n.textShadow),this.textTransform=Rt(e,FU,n.textTransform),this.transform=Rt(e,EU,n.transform),this.transformOrigin=Rt(e,TU,n.transformOrigin),this.visibility=Rt(e,kU,n.visibility),this.webkitTextStrokeColor=Rt(e,JU,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Rt(e,YU,n.webkitTextStrokeWidth),this.wordBreak=Rt(e,LU,n.wordBreak),this.zIndex=Rt(e,MU,n.zIndex)}return i.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},i.prototype.isTransparent=function(){return es(this.backgroundColor)},i.prototype.isTransformed=function(){return this.transform!==null},i.prototype.isPositioned=function(){return this.position!==0},i.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},i.prototype.isFloating=function(){return this.float!==0},i.prototype.isInlineLevel=function(){return Gn(this.display,4)||Gn(this.display,33554432)||Gn(this.display,268435456)||Gn(this.display,536870912)||Gn(this.display,67108864)||Gn(this.display,134217728)},i}(),eQ=function(){function i(e,n){this.content=Rt(e,VU,n.content),this.quotes=Rt(e,ZU,n.quotes)}return i}(),n_=function(){function i(e,n){this.counterIncrement=Rt(e,GU,n.counterIncrement),this.counterReset=Rt(e,XU,n.counterReset)}return i}(),Rt=function(i,e,n){var o=new Aw,l=n!==null&&typeof n!="undefined"?n.toString():e.initialValue;o.write(l);var p=new ow(o.read());switch(e.type){case 2:var a=p.parseComponentValue();return e.parse(i,Ii(a)?a.value:e.initialValue);case 0:return e.parse(i,p.parseComponentValue());case 1:return e.parse(i,p.parseComponentValues());case 4:return p.parseComponentValue();case 3:switch(e.format){case"angle":return pp.parse(i,p.parseComponentValue());case"color":return $a.parse(i,p.parseComponentValue());case"image":return jg.parse(i,p.parseComponentValue());case"length":var _=p.parseComponentValue();return ts(_)?_:AA;case"length-percentage":var y=p.parseComponentValue();return Pn(y)?y:AA;case"time":return xw.parse(i,p.parseComponentValue())}break}},tQ="data-html2canvas-debug",rQ=function(i){var e=i.getAttribute(tQ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},_g=function(i,e){var n=rQ(i);return n===1||e===n},Zo=function(){function i(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,_g(n,3))debugger;this.styles=new $U(e,window.getComputedStyle(n,null)),Bg(n)&&(this.styles.animationDuration.some(function(o){return o>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=hp(this.context,n),_g(n,4)&&(this.flags|=16)}return i}(),iQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",A_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yc=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Qf=0;Qf<A_.length;Qf++)yc[A_.charCodeAt(Qf)]=Qf;var nQ=function(i){var e=i.length*.75,n=i.length,o,l=0,p,a,_,y;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);var F=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),Q=Array.isArray(F)?F:new Uint8Array(F);for(o=0;o<n;o+=4)p=yc[i.charCodeAt(o)],a=yc[i.charCodeAt(o+1)],_=yc[i.charCodeAt(o+2)],y=yc[i.charCodeAt(o+3)],Q[l++]=p<<2|a>>4,Q[l++]=(a&15)<<4|_>>2,Q[l++]=(_&3)<<6|y&63;return F},AQ=function(i){for(var e=i.length,n=[],o=0;o<e;o+=2)n.push(i[o+1]<<8|i[o]);return n},oQ=function(i){for(var e=i.length,n=[],o=0;o<e;o+=4)n.push(i[o+3]<<24|i[o+2]<<16|i[o+1]<<8|i[o]);return n},Rs=5,Zg=6+5,Ud=2,aQ=Zg-Rs,Cw=65536>>Rs,sQ=1<<Rs,Qd=sQ-1,lQ=1024>>Rs,uQ=Cw+lQ,cQ=uQ,hQ=32,fQ=cQ+hQ,pQ=65536>>Zg,dQ=1<<aQ,gQ=dQ-1,o_=function(i,e,n){return i.slice?i.slice(e,n):new Uint16Array(Array.prototype.slice.call(i,e,n))},mQ=function(i,e,n){return i.slice?i.slice(e,n):new Uint32Array(Array.prototype.slice.call(i,e,n))},yQ=function(i,e){var n=nQ(i),o=Array.isArray(n)?oQ(n):new Uint32Array(n),l=Array.isArray(n)?AQ(n):new Uint16Array(n),p=24,a=o_(l,p/2,o[4]/2),_=o[5]===2?o_(l,(p+o[4])/2):mQ(o,Math.ceil((p+o[4])/4));return new _Q(o[0],o[1],o[2],o[3],a,_)},_Q=function(){function i(e,n,o,l,p,a){this.initialValue=e,this.errorValue=n,this.highStart=o,this.highValueIndex=l,this.index=p,this.data=a}return i.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Rs],n=(n<<Ud)+(e&Qd),this.data[n];if(e<=65535)return n=this.index[Cw+(e-55296>>Rs)],n=(n<<Ud)+(e&Qd),this.data[n];if(e<this.highStart)return n=fQ-pQ+(e>>Zg),n=this.index[n],n+=e>>Rs&gQ,n=this.index[n],n=(n<<Ud)+(e&Qd),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),a_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vQ=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var If=0;If<a_.length;If++)vQ[a_.charCodeAt(If)]=If;var wQ=1,Id=2,Sd=3,s_=4,l_=5,BQ=7,u_=8,Td=9,kd=10,c_=11,h_=12,f_=13,p_=14,Ld=15,bQ=function(i){for(var e=[],n=0,o=i.length;n<o;){var l=i.charCodeAt(n++);if(l>=55296&&l<=56319&&n<o){var p=i.charCodeAt(n++);(p&64512)===56320?e.push(((l&1023)<<10)+(p&1023)+65536):(e.push(l),n--)}else e.push(l)}return e},xQ=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var n=i.length;if(!n)return"";for(var o=[],l=-1,p="";++l<n;){var a=i[l];a<=65535?o.push(a):(a-=65536,o.push((a>>10)+55296,a%1024+56320)),(l+1===n||o.length>16384)&&(p+=String.fromCharCode.apply(String,o),o.length=0)}return p},CQ=yQ(iQ),oo="\xD7",Md="\xF7",FQ=function(i){return CQ.get(i)},EQ=function(i,e,n){var o=n-2,l=e[o],p=e[n-1],a=e[n];if(p===Id&&a===Sd)return oo;if(p===Id||p===Sd||p===s_||a===Id||a===Sd||a===s_)return Md;if(p===u_&&[u_,Td,c_,h_].indexOf(a)!==-1||(p===c_||p===Td)&&(a===Td||a===kd)||(p===h_||p===kd)&&a===kd||a===f_||a===l_||a===BQ||p===wQ)return oo;if(p===f_&&a===p_){for(;l===l_;)l=e[--o];if(l===p_)return oo}if(p===Ld&&a===Ld){for(var _=0;l===Ld;)_++,l=e[--o];if(_%2===0)return oo}return Md},UQ=function(i){var e=bQ(i),n=e.length,o=0,l=0,p=e.map(FQ);return{next:function(){if(o>=n)return{done:!0,value:null};for(var a=oo;o<n&&(a=EQ(e,p,++o))===oo;);if(a!==oo||o===n){var _=xQ.apply(null,e.slice(l,o));return l=o,{value:_,done:!1}}return{done:!0,value:null}}}},QQ=function(i){for(var e=UQ(i),n=[],o;!(o=e.next()).done;)o.value&&n.push(o.value.slice());return n},IQ=function(i){var e=123;if(i.createRange){var n=i.createRange();if(n.getBoundingClientRect){var o=i.createElement("boundtest");o.style.height=e+"px",o.style.display="block",i.body.appendChild(o),n.selectNode(o);var l=n.getBoundingClientRect(),p=Math.round(l.height);if(i.body.removeChild(o),p===e)return!0}}return!1},SQ=function(i){var e=i.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",i.body.appendChild(e);var n=i.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var o=e.firstChild,l=fp(o.data).map(function(y){return xn(y)}),p=0,a={},_=l.every(function(y,F){n.setStart(o,p),n.setEnd(o,p+y.length);var Q=n.getBoundingClientRect();p+=y.length;var x=Q.x>a.x||Q.y>a.y;return a=Q,F===0?!0:x});return i.body.removeChild(e),_},TQ=function(){return typeof new Image().crossOrigin!="undefined"},kQ=function(){return typeof new XMLHttpRequest().responseType=="string"},LQ=function(i){var e=new Image,n=i.createElement("canvas"),o=n.getContext("2d");if(!o)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{o.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},d_=function(i){return i[0]===0&&i[1]===255&&i[2]===0&&i[3]===255},MQ=function(i){var e=i.createElement("canvas"),n=100;e.width=n,e.height=n;var o=e.getContext("2d");if(!o)return Promise.reject(!1);o.fillStyle="rgb(0, 255, 0)",o.fillRect(0,0,n,n);var l=new Image,p=e.toDataURL();l.src=p;var a=vg(n,n,0,0,l);return o.fillStyle="red",o.fillRect(0,0,n,n),g_(a).then(function(_){o.drawImage(_,0,0);var y=o.getImageData(0,0,n,n).data;o.fillStyle="red",o.fillRect(0,0,n,n);var F=i.createElement("div");return F.style.backgroundImage="url("+p+")",F.style.height=n+"px",d_(y)?g_(vg(n,n,0,0,F)):Promise.reject(!1)}).then(function(_){return o.drawImage(_,0,0),d_(o.getImageData(0,0,n,n).data)}).catch(function(){return!1})},vg=function(i,e,n,o,l){var p="http://www.w3.org/2000/svg",a=document.createElementNS(p,"svg"),_=document.createElementNS(p,"foreignObject");return a.setAttributeNS(null,"width",i.toString()),a.setAttributeNS(null,"height",e.toString()),_.setAttributeNS(null,"width","100%"),_.setAttributeNS(null,"height","100%"),_.setAttributeNS(null,"x",n.toString()),_.setAttributeNS(null,"y",o.toString()),_.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(_),_.appendChild(l),a},g_=function(i){return new Promise(function(e,n){var o=new Image;o.onload=function(){return e(o)},o.onerror=n,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},nA={get SUPPORT_RANGE_BOUNDS(){var i=IQ(document);return Object.defineProperty(nA,"SUPPORT_RANGE_BOUNDS",{value:i}),i},get SUPPORT_WORD_BREAKING(){var i=nA.SUPPORT_RANGE_BOUNDS&&SQ(document);return Object.defineProperty(nA,"SUPPORT_WORD_BREAKING",{value:i}),i},get SUPPORT_SVG_DRAWING(){var i=LQ(document);return Object.defineProperty(nA,"SUPPORT_SVG_DRAWING",{value:i}),i},get SUPPORT_FOREIGNOBJECT_DRAWING(){var i=typeof Array.from=="function"&&typeof window.fetch=="function"?MQ(document):Promise.resolve(!1);return Object.defineProperty(nA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:i}),i},get SUPPORT_CORS_IMAGES(){var i=TQ();return Object.defineProperty(nA,"SUPPORT_CORS_IMAGES",{value:i}),i},get SUPPORT_RESPONSE_TYPE(){var i=kQ();return Object.defineProperty(nA,"SUPPORT_RESPONSE_TYPE",{value:i}),i},get SUPPORT_CORS_XHR(){var i="withCredentials"in new XMLHttpRequest;return Object.defineProperty(nA,"SUPPORT_CORS_XHR",{value:i}),i},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var i=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(nA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:i}),i}},xc=function(){function i(e,n){this.text=e,this.bounds=n}return i}(),DQ=function(i,e,n,o){var l=zQ(e,n),p=[],a=0;return l.forEach(function(_){if(n.textDecorationLine.length||_.trim().length>0)if(nA.SUPPORT_RANGE_BOUNDS){var y=m_(o,a,_.length).getClientRects();if(y.length>1){var F=qg(_),Q=0;F.forEach(function(I){p.push(new xc(I,Ca.fromDOMRectList(i,m_(o,Q+a,I.length).getClientRects()))),Q+=I.length})}else p.push(new xc(_,Ca.fromDOMRectList(i,y)))}else{var x=o.splitText(_.length);p.push(new xc(_,PQ(i,o))),o=x}else nA.SUPPORT_RANGE_BOUNDS||(o=o.splitText(_.length));a+=_.length}),p},PQ=function(i,e){var n=e.ownerDocument;if(n){var o=n.createElement("html2canvaswrapper");o.appendChild(e.cloneNode(!0));var l=e.parentNode;if(l){l.replaceChild(o,e);var p=hp(i,o);return o.firstChild&&l.replaceChild(o.firstChild,o),p}}return Ca.EMPTY},m_=function(i,e,n){var o=i.ownerDocument;if(!o)throw new Error("Node has no owner document");var l=o.createRange();return l.setStart(i,e),l.setEnd(i,e+n),l},qg=function(i){if(nA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(i)).map(function(n){return n.segment})}return QQ(i)},HQ=function(i,e){if(nA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(i)).map(function(o){return o.segment})}return OQ(i,e)},zQ=function(i,e){return e.letterSpacing!==0?qg(i):HQ(i,e)},RQ=[32,160,4961,65792,65793,4153,4241],OQ=function(i,e){for(var n=pF(i,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),o=[],l,p=function(){if(l.value){var a=l.value.slice(),_=fp(a),y="";_.forEach(function(F){RQ.indexOf(F)===-1?y+=xn(F):(y.length&&o.push(y),o.push(xn(F)),y="")}),y.length&&o.push(y)}};!(l=n.next()).done;)p();return o},KQ=function(){function i(e,n,o){this.text=NQ(n.data,o.textTransform),this.textBounds=DQ(e,this.text,o,n)}return i}(),NQ=function(i,e){switch(e){case 1:return i.toLowerCase();case 3:return i.replace(VQ,GQ);case 2:return i.toUpperCase();default:return i}},VQ=/(^|\s|:|-|\(|\))([a-z])/g,GQ=function(i,e,n){return i.length>0?e+n.toUpperCase():i},Fw=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;return l.src=o.currentSrc||o.src,l.intrinsicWidth=o.naturalWidth,l.intrinsicHeight=o.naturalHeight,l.context.cache.addImage(l.src),l}return e}(Zo),Ew=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;return l.canvas=o,l.intrinsicWidth=o.width,l.intrinsicHeight=o.height,l}return e}(Zo),Uw=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this,p=new XMLSerializer,a=hp(n,o);return o.setAttribute("width",a.width+"px"),o.setAttribute("height",a.height+"px"),l.svg="data:image/svg+xml,"+encodeURIComponent(p.serializeToString(o)),l.intrinsicWidth=o.width.baseVal.value,l.intrinsicHeight=o.height.baseVal.value,l.context.cache.addImage(l.svg),l}return e}(Zo),Qw=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;return l.value=o.value,l}return e}(Zo),wg=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;return l.start=o.start,l.reversed=typeof o.reversed=="boolean"&&o.reversed===!0,l}return e}(Zo),XQ=[{type:15,flags:0,unit:"px",number:3}],jQ=[{type:16,flags:0,number:50}],ZQ=function(i){return i.width>i.height?new Ca(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new Ca(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i},qQ=function(i){var e=i.type===WQ?new Array(i.value.length+1).join("\u2022"):i.value;return e.length===0?i.placeholder||"":e},ep="checkbox",tp="radio",WQ="password",y_=707406591,Wg=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;switch(l.type=o.type.toLowerCase(),l.checked=o.checked,l.value=qQ(o),(l.type===ep||l.type===tp)&&(l.styles.backgroundColor=3739148031,l.styles.borderTopColor=l.styles.borderRightColor=l.styles.borderBottomColor=l.styles.borderLeftColor=2779096575,l.styles.borderTopWidth=l.styles.borderRightWidth=l.styles.borderBottomWidth=l.styles.borderLeftWidth=1,l.styles.borderTopStyle=l.styles.borderRightStyle=l.styles.borderBottomStyle=l.styles.borderLeftStyle=1,l.styles.backgroundClip=[0],l.styles.backgroundOrigin=[0],l.bounds=ZQ(l.bounds)),l.type){case ep:l.styles.borderTopRightRadius=l.styles.borderTopLeftRadius=l.styles.borderBottomRightRadius=l.styles.borderBottomLeftRadius=XQ;break;case tp:l.styles.borderTopRightRadius=l.styles.borderTopLeftRadius=l.styles.borderBottomRightRadius=l.styles.borderBottomLeftRadius=jQ;break}return l}return e}(Zo),Iw=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this,p=o.options[o.selectedIndex||0];return l.value=p&&p.text||"",l}return e}(Zo),Sw=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;return l.value=o.value,l}return e}(Zo),Tw=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;l.src=o.src,l.width=parseInt(o.width,10)||0,l.height=parseInt(o.height,10)||0,l.backgroundColor=l.styles.backgroundColor;try{if(o.contentWindow&&o.contentWindow.document&&o.contentWindow.document.documentElement){l.tree=Lw(n,o.contentWindow.document.documentElement);var p=o.contentWindow.document.documentElement?Bc(n,getComputedStyle(o.contentWindow.document.documentElement).backgroundColor):ba.TRANSPARENT,a=o.contentWindow.document.body?Bc(n,getComputedStyle(o.contentWindow.document.body).backgroundColor):ba.TRANSPARENT;l.backgroundColor=es(p)?es(a)?l.styles.backgroundColor:a:p}}catch{}return l}return e}(Zo),JQ=["OL","UL","MENU"],Nf=function(i,e,n,o){for(var l=e.firstChild,p=void 0;l;l=p)if(p=l.nextSibling,Mw(l)&&l.data.trim().length>0)n.textNodes.push(new KQ(i,l,n.styles));else if(ql(l))if(zw(l)&&l.assignedNodes)l.assignedNodes().forEach(function(_){return Nf(i,_,n,o)});else{var a=kw(i,l);a.styles.isVisible()&&(YQ(l,a,o)?a.flags|=4:$Q(a.styles)&&(a.flags|=2),JQ.indexOf(l.tagName)!==-1&&(a.flags|=8),n.elements.push(a),l.slot,l.shadowRoot?Nf(i,l.shadowRoot,a,o):!rp(l)&&!Dw(l)&&!ip(l)&&Nf(i,l,a,o))}},kw=function(i,e){return bg(e)?new Fw(i,e):Pw(e)?new Ew(i,e):Dw(e)?new Uw(i,e):eI(e)?new Qw(i,e):tI(e)?new wg(i,e):rI(e)?new Wg(i,e):ip(e)?new Iw(i,e):rp(e)?new Sw(i,e):Hw(e)?new Tw(i,e):new Zo(i,e)},Lw=function(i,e){var n=kw(i,e);return n.flags|=4,Nf(i,e,n,n),n},YQ=function(i,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Jg(i)&&n.styles.isTransparent()},$Q=function(i){return i.isPositioned()||i.isFloating()},Mw=function(i){return i.nodeType===Node.TEXT_NODE},ql=function(i){return i.nodeType===Node.ELEMENT_NODE},Bg=function(i){return ql(i)&&typeof i.style!="undefined"&&!Vf(i)},Vf=function(i){return typeof i.className=="object"},eI=function(i){return i.tagName==="LI"},tI=function(i){return i.tagName==="OL"},rI=function(i){return i.tagName==="INPUT"},iI=function(i){return i.tagName==="HTML"},Dw=function(i){return i.tagName==="svg"},Jg=function(i){return i.tagName==="BODY"},Pw=function(i){return i.tagName==="CANVAS"},__=function(i){return i.tagName==="VIDEO"},bg=function(i){return i.tagName==="IMG"},Hw=function(i){return i.tagName==="IFRAME"},v_=function(i){return i.tagName==="STYLE"},nI=function(i){return i.tagName==="SCRIPT"},rp=function(i){return i.tagName==="TEXTAREA"},ip=function(i){return i.tagName==="SELECT"},zw=function(i){return i.tagName==="SLOT"},w_=function(i){return i.tagName.indexOf("-")>0},AI=function(){function i(){this.counters={}}return i.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},i.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},i.prototype.pop=function(e){var n=this;e.forEach(function(o){return n.counters[o].pop()})},i.prototype.parse=function(e){var n=this,o=e.counterIncrement,l=e.counterReset,p=!0;o!==null&&o.forEach(function(_){var y=n.counters[_.counter];y&&_.increment!==0&&(p=!1,y.length||y.push(1),y[Math.max(0,y.length-1)]+=_.increment)});var a=[];return p&&l.forEach(function(_){var y=n.counters[_.counter];a.push(_.counter),y||(y=n.counters[_.counter]=[]),y.push(_.reset)}),a},i}(),B_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},b_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},oI={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},aI={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},Kl=function(i,e,n,o,l,p){return i<e||i>n?Lc(i,l,p.length>0):o.integers.reduce(function(a,_,y){for(;i>=_;)i-=_,a+=o.values[y];return a},"")+p},Rw=function(i,e,n,o){var l="";do n||i--,l=o(i)+l,i/=e;while(i*e>=e);return l},bn=function(i,e,n,o,l){var p=n-e+1;return(i<0?"-":"")+(Rw(Math.abs(i),p,o,function(a){return xn(Math.floor(a%p)+e)})+l)},Ts=function(i,e,n){n===void 0&&(n=". ");var o=e.length;return Rw(Math.abs(i),o,!1,function(l){return e[Math.floor(l%o)]})+n},jl=1<<0,ja=1<<1,Za=1<<2,_c=1<<3,wa=function(i,e,n,o,l,p){if(i<-9999||i>9999)return Lc(i,4,l.length>0);var a=Math.abs(i),_=l;if(a===0)return e[0]+_;for(var y=0;a>0&&y<=4;y++){var F=a%10;F===0&&Gn(p,jl)&&_!==""?_=e[F]+_:F>1||F===1&&y===0||F===1&&y===1&&Gn(p,ja)||F===1&&y===1&&Gn(p,Za)&&i>100||F===1&&y>1&&Gn(p,_c)?_=e[F]+(y>0?n[y-1]:"")+_:F===1&&y>0&&(_=n[y-1]+_),a=Math.floor(a/10)}return(i<0?o:"")+_},x_="\u5341\u767E\u5343\u842C",C_="\u62FE\u4F70\u4EDF\u842C",F_="\u30DE\u30A4\u30CA\u30B9",Dd="\uB9C8\uC774\uB108\uC2A4",Lc=function(i,e,n){var o=n?". ":"",l=n?"\u3001":"",p=n?", ":"",a=n?" ":"";switch(e){case 0:return"\u2022"+a;case 1:return"\u25E6"+a;case 2:return"\u25FE"+a;case 5:var _=bn(i,48,57,!0,o);return _.length<4?"0"+_:_;case 4:return Ts(i,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",l);case 6:return Kl(i,1,3999,B_,3,o).toLowerCase();case 7:return Kl(i,1,3999,B_,3,o);case 8:return bn(i,945,969,!1,o);case 9:return bn(i,97,122,!1,o);case 10:return bn(i,65,90,!1,o);case 11:return bn(i,1632,1641,!0,o);case 12:case 49:return Kl(i,1,9999,b_,3,o);case 35:return Kl(i,1,9999,b_,3,o).toLowerCase();case 13:return bn(i,2534,2543,!0,o);case 14:case 30:return bn(i,6112,6121,!0,o);case 15:return Ts(i,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",l);case 16:return Ts(i,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",l);case 17:case 48:return wa(i,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",x_,"\u8CA0",l,ja|Za|_c);case 47:return wa(i,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",C_,"\u8CA0",l,jl|ja|Za|_c);case 42:return wa(i,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",x_,"\u8D1F",l,ja|Za|_c);case 41:return wa(i,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",C_,"\u8D1F",l,jl|ja|Za|_c);case 26:return wa(i,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",F_,l,0);case 25:return wa(i,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",F_,l,jl|ja|Za);case 31:return wa(i,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",Dd,p,jl|ja|Za);case 33:return wa(i,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",Dd,p,0);case 32:return wa(i,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",Dd,p,jl|ja|Za);case 18:return bn(i,2406,2415,!0,o);case 20:return Kl(i,1,19999,aI,3,o);case 21:return bn(i,2790,2799,!0,o);case 22:return bn(i,2662,2671,!0,o);case 22:return Kl(i,1,10999,oI,3,o);case 23:return Ts(i,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Ts(i,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return bn(i,3302,3311,!0,o);case 28:return Ts(i,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",l);case 29:return Ts(i,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",l);case 34:return bn(i,3792,3801,!0,o);case 37:return bn(i,6160,6169,!0,o);case 38:return bn(i,4160,4169,!0,o);case 39:return bn(i,2918,2927,!0,o);case 40:return bn(i,1776,1785,!0,o);case 43:return bn(i,3046,3055,!0,o);case 44:return bn(i,3174,3183,!0,o);case 45:return bn(i,3664,3673,!0,o);case 46:return bn(i,3872,3881,!0,o);case 3:default:return bn(i,48,57,!0,o)}},Ow="data-html2canvas-ignore",E_=function(){function i(e,n,o){if(this.context=e,this.options=o,this.scrolledElements=[],this.referenceElement=n,this.counters=new AI,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return i.prototype.toIFrame=function(e,n){var o=this,l=sI(e,n);if(!l.contentWindow)return Promise.reject("Unable to find iframe window");var p=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,_=l.contentWindow,y=_.document,F=cI(l).then(function(){return FA(o,void 0,void 0,function(){var Q,x;return mA(this,function(I){switch(I.label){case 0:return this.scrolledElements.forEach(dI),_&&(_.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(_.scrollY!==n.top||_.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(_.scrollX-n.left,_.scrollY-n.top,0,0))),Q=this.options.onclone,x=this.clonedReferenceElement,typeof x=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:y.fonts&&y.fonts.ready?[4,y.fonts.ready]:[3,2];case 1:I.sent(),I.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,uI(y)]:[3,4];case 3:I.sent(),I.label=4;case 4:return typeof Q=="function"?[2,Promise.resolve().then(function(){return Q(y,x)}).then(function(){return l})]:[2,l]}})})});return y.open(),y.write(fI(document.doctype)+"<html></html>"),pI(this.referenceElement.ownerDocument,p,a),y.replaceChild(y.adoptNode(this.documentElement),y.documentElement),y.close(),F},i.prototype.createElementClone=function(e){if(_g(e,2))debugger;if(Pw(e))return this.createCanvasClone(e);if(__(e))return this.createVideoClone(e);if(v_(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return bg(n)&&(bg(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),w_(n)?this.createCustomElementClone(n):n},i.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return Pd(e.style,n),n},i.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var o=[].slice.call(n.cssRules,0).reduce(function(p,a){return a&&typeof a.cssText=="string"?p+a.cssText:p},""),l=e.cloneNode(!1);return l.textContent=o,l}}catch(p){if(this.context.logger.error("Unable to access cssRules property",p),p.name!=="SecurityError")throw p}return e.cloneNode(!1)},i.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var o=e.ownerDocument.createElement("img");try{return o.src=e.toDataURL(),o}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var l=e.cloneNode(!1);try{l.width=e.width,l.height=e.height;var p=e.getContext("2d"),a=l.getContext("2d");if(a)if(!this.options.allowTaint&&p)a.putImageData(p.getImageData(0,0,e.width,e.height),0,0);else{var _=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(_){var y=_.getContextAttributes();(y==null?void 0:y.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return l}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return l},i.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var o=n.getContext("2d");try{return o&&(o.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||o.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var l=e.ownerDocument.createElement("canvas");return l.width=e.offsetWidth,l.height=e.offsetHeight,l},i.prototype.appendChildNode=function(e,n,o){(!ql(n)||!nI(n)&&!n.hasAttribute(Ow)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!ql(n)||!v_(n))&&e.appendChild(this.cloneNode(n,o))},i.prototype.cloneChildNodes=function(e,n,o){for(var l=this,p=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;p;p=p.nextSibling)if(ql(p)&&zw(p)&&typeof p.assignedNodes=="function"){var a=p.assignedNodes();a.length&&a.forEach(function(_){return l.appendChildNode(n,_,o)})}else this.appendChildNode(n,p,o)},i.prototype.cloneNode=function(e,n){if(Mw(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var o=e.ownerDocument.defaultView;if(o&&ql(e)&&(Bg(e)||Vf(e))){var l=this.createElementClone(e);l.style.transitionProperty="none";var p=o.getComputedStyle(e),a=o.getComputedStyle(e,":before"),_=o.getComputedStyle(e,":after");this.referenceElement===e&&Bg(l)&&(this.clonedReferenceElement=l),Jg(l)&&yI(l);var y=this.counters.parse(new n_(this.context,p)),F=this.resolvePseudoContent(e,l,a,Cc.BEFORE);w_(e)&&(n=!0),__(e)||this.cloneChildNodes(e,l,n),F&&l.insertBefore(F,l.firstChild);var Q=this.resolvePseudoContent(e,l,_,Cc.AFTER);return Q&&l.appendChild(Q),this.counters.pop(y),(p&&(this.options.copyStyles||Vf(e))&&!Hw(e)||n)&&Pd(p,l),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([l,e.scrollLeft,e.scrollTop]),(rp(e)||ip(e))&&(rp(l)||ip(l))&&(l.value=e.value),l}return e.cloneNode(!1)},i.prototype.resolvePseudoContent=function(e,n,o,l){var p=this;if(!!o){var a=o.content,_=n.ownerDocument;if(!(!_||!a||a==="none"||a==="-moz-alt-content"||o.display==="none")){this.counters.parse(new n_(this.context,o));var y=new eQ(this.context,o),F=_.createElement("html2canvaspseudoelement");Pd(o,F),y.content.forEach(function(x){if(x.type===0)F.appendChild(_.createTextNode(x.value));else if(x.type===22){var I=_.createElement("img");I.src=x.value,I.style.opacity="1",F.appendChild(I)}else if(x.type===18){if(x.name==="attr"){var M=x.values.filter(Ii);M.length&&F.appendChild(_.createTextNode(e.getAttribute(M[0].value)||""))}else if(x.name==="counter"){var k=x.values.filter(Au),K=k[0],$=k[1];if(K&&Ii(K)){var R=p.counters.getCounterValue(K.value),V=$&&Ii($)?yg.parse(p.context,$.value):3;F.appendChild(_.createTextNode(Lc(R,V,!1)))}}else if(x.name==="counters"){var le=x.values.filter(Au),K=le[0],ee=le[1],$=le[2];if(K&&Ii(K)){var me=p.counters.getCounterValues(K.value),we=$&&Ii($)?yg.parse(p.context,$.value):3,Ge=ee&&ee.type===0?ee.value:"",Le=me.map(function(ve){return Lc(ve,we,!1)}).join(Ge);F.appendChild(_.createTextNode(Le))}}}else if(x.type===20)switch(x.value){case"open-quote":F.appendChild(_.createTextNode(i_(y.quotes,p.quoteDepth++,!0)));break;case"close-quote":F.appendChild(_.createTextNode(i_(y.quotes,--p.quoteDepth,!1)));break;default:F.appendChild(_.createTextNode(x.value))}}),F.className=xg+" "+Cg;var Q=l===Cc.BEFORE?" "+xg:" "+Cg;return Vf(n)?n.className.baseValue+=Q:n.className+=Q,F}}},i.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},i}(),Cc;(function(i){i[i.BEFORE=0]="BEFORE",i[i.AFTER=1]="AFTER"})(Cc||(Cc={}));var sI=function(i,e){var n=i.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(Ow,"true"),i.body.appendChild(n),n},lI=function(i){return new Promise(function(e){if(i.complete){e();return}if(!i.src){e();return}i.onload=e,i.onerror=e})},uI=function(i){return Promise.all([].slice.call(i.images,0).map(lI))},cI=function(i){return new Promise(function(e,n){var o=i.contentWindow;if(!o)return n("No window assigned for iframe");var l=o.document;o.onload=i.onload=function(){o.onload=i.onload=null;var p=setInterval(function(){l.body.childNodes.length>0&&l.readyState==="complete"&&(clearInterval(p),e(i))},50)}})},hI=["all","d","content"],Pd=function(i,e){for(var n=i.length-1;n>=0;n--){var o=i.item(n);hI.indexOf(o)===-1&&e.style.setProperty(o,i.getPropertyValue(o))}return e},fI=function(i){var e="";return i&&(e+="<!DOCTYPE ",i.name&&(e+=i.name),i.internalSubset&&(e+=i.internalSubset),i.publicId&&(e+='"'+i.publicId+'"'),i.systemId&&(e+='"'+i.systemId+'"'),e+=">"),e},pI=function(i,e,n){i&&i.defaultView&&(e!==i.defaultView.pageXOffset||n!==i.defaultView.pageYOffset)&&i.defaultView.scrollTo(e,n)},dI=function(i){var e=i[0],n=i[1],o=i[2];e.scrollLeft=n,e.scrollTop=o},gI=":before",mI=":after",xg="___html2canvas___pseudoelement_before",Cg="___html2canvas___pseudoelement_after",U_=`{
    content: "" !important;
    display: none !important;
}`,yI=function(i){_I(i,"."+xg+gI+U_+`
         .`+Cg+mI+U_)},_I=function(i,e){var n=i.ownerDocument;if(n){var o=n.createElement("style");o.textContent=e,i.appendChild(o)}},Kw=function(){function i(){}return i.getOrigin=function(e){var n=i._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},i.isSameOrigin=function(e){return i.getOrigin(e)===i._origin},i.setContext=function(e){i._link=e.document.createElement("a"),i._origin=i.getOrigin(e.location.href)},i._origin="about:blank",i}(),vI=function(){function i(e,n){this.context=e,this._options=n,this._cache={}}return i.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(zd(e)||xI(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},i.prototype.match=function(e){return this._cache[e]},i.prototype.loadImage=function(e){return FA(this,void 0,void 0,function(){var n,o,l,p,a=this;return mA(this,function(_){switch(_.label){case 0:return n=Kw.isSameOrigin(e),o=!Hd(e)&&this._options.useCORS===!0&&nA.SUPPORT_CORS_IMAGES&&!n,l=!Hd(e)&&!n&&!zd(e)&&typeof this._options.proxy=="string"&&nA.SUPPORT_CORS_XHR&&!o,!n&&this._options.allowTaint===!1&&!Hd(e)&&!zd(e)&&!l&&!o?[2]:(p=e,l?[4,this.proxy(p)]:[3,2]);case 1:p=_.sent(),_.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(y,F){var Q=new Image;Q.onload=function(){return y(Q)},Q.onerror=F,(CI(p)||o)&&(Q.crossOrigin="anonymous"),Q.src=p,Q.complete===!0&&setTimeout(function(){return y(Q)},500),a._options.imageTimeout>0&&setTimeout(function(){return F("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,_.sent()]}})})},i.prototype.has=function(e){return typeof this._cache[e]!="undefined"},i.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},i.prototype.proxy=function(e){var n=this,o=this._options.proxy;if(!o)throw new Error("No proxy defined");var l=e.substring(0,256);return new Promise(function(p,a){var _=nA.SUPPORT_RESPONSE_TYPE?"blob":"text",y=new XMLHttpRequest;y.onload=function(){if(y.status===200)if(_==="text")p(y.response);else{var x=new FileReader;x.addEventListener("load",function(){return p(x.result)},!1),x.addEventListener("error",function(I){return a(I)},!1),x.readAsDataURL(y.response)}else a("Failed to proxy resource "+l+" with status code "+y.status)},y.onerror=a;var F=o.indexOf("?")>-1?"&":"?";if(y.open("GET",""+o+F+"url="+encodeURIComponent(e)+"&responseType="+_),_!=="text"&&y instanceof XMLHttpRequest&&(y.responseType=_),n._options.imageTimeout){var Q=n._options.imageTimeout;y.timeout=Q,y.ontimeout=function(){return a("Timed out ("+Q+"ms) proxying "+l)}}y.send()})},i}(),wI=/^data:image\/svg\+xml/i,BI=/^data:image\/.*;base64,/i,bI=/^data:image\/.*/i,xI=function(i){return nA.SUPPORT_SVG_DRAWING||!FI(i)},Hd=function(i){return bI.test(i)},CI=function(i){return BI.test(i)},zd=function(i){return i.substr(0,4)==="blob"},FI=function(i){return i.substr(-3).toLowerCase()==="svg"||wI.test(i)},Lt=function(){function i(e,n){this.type=0,this.x=e,this.y=n}return i.prototype.add=function(e,n){return new i(this.x+e,this.y+n)},i}(),Nl=function(i,e,n){return new Lt(i.x+(e.x-i.x)*n,i.y+(e.y-i.y)*n)},Sf=function(){function i(e,n,o,l){this.type=1,this.start=e,this.startControl=n,this.endControl=o,this.end=l}return i.prototype.subdivide=function(e,n){var o=Nl(this.start,this.startControl,e),l=Nl(this.startControl,this.endControl,e),p=Nl(this.endControl,this.end,e),a=Nl(o,l,e),_=Nl(l,p,e),y=Nl(a,_,e);return n?new i(this.start,o,a,y):new i(y,_,p,this.end)},i.prototype.add=function(e,n){return new i(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},i.prototype.reverse=function(){return new i(this.end,this.endControl,this.startControl,this.start)},i}(),ao=function(i){return i.type===1},EI=function(){function i(e){var n=e.styles,o=e.bounds,l=mc(n.borderTopLeftRadius,o.width,o.height),p=l[0],a=l[1],_=mc(n.borderTopRightRadius,o.width,o.height),y=_[0],F=_[1],Q=mc(n.borderBottomRightRadius,o.width,o.height),x=Q[0],I=Q[1],M=mc(n.borderBottomLeftRadius,o.width,o.height),k=M[0],K=M[1],$=[];$.push((p+y)/o.width),$.push((k+x)/o.width),$.push((a+K)/o.height),$.push((F+I)/o.height);var R=Math.max.apply(Math,$);R>1&&(p/=R,a/=R,y/=R,F/=R,x/=R,I/=R,k/=R,K/=R);var V=o.width-y,le=o.height-I,ee=o.width-x,me=o.height-K,we=n.borderTopWidth,Ge=n.borderRightWidth,Le=n.borderBottomWidth,fe=n.borderLeftWidth,Ee=Oi(n.paddingTop,e.bounds.width),ve=Oi(n.paddingRight,e.bounds.width),De=Oi(n.paddingBottom,e.bounds.width),Qe=Oi(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=p>0||a>0?qi(o.left+fe/3,o.top+we/3,p-fe/3,a-we/3,vi.TOP_LEFT):new Lt(o.left+fe/3,o.top+we/3),this.topRightBorderDoubleOuterBox=p>0||a>0?qi(o.left+V,o.top+we/3,y-Ge/3,F-we/3,vi.TOP_RIGHT):new Lt(o.left+o.width-Ge/3,o.top+we/3),this.bottomRightBorderDoubleOuterBox=x>0||I>0?qi(o.left+ee,o.top+le,x-Ge/3,I-Le/3,vi.BOTTOM_RIGHT):new Lt(o.left+o.width-Ge/3,o.top+o.height-Le/3),this.bottomLeftBorderDoubleOuterBox=k>0||K>0?qi(o.left+fe/3,o.top+me,k-fe/3,K-Le/3,vi.BOTTOM_LEFT):new Lt(o.left+fe/3,o.top+o.height-Le/3),this.topLeftBorderDoubleInnerBox=p>0||a>0?qi(o.left+fe*2/3,o.top+we*2/3,p-fe*2/3,a-we*2/3,vi.TOP_LEFT):new Lt(o.left+fe*2/3,o.top+we*2/3),this.topRightBorderDoubleInnerBox=p>0||a>0?qi(o.left+V,o.top+we*2/3,y-Ge*2/3,F-we*2/3,vi.TOP_RIGHT):new Lt(o.left+o.width-Ge*2/3,o.top+we*2/3),this.bottomRightBorderDoubleInnerBox=x>0||I>0?qi(o.left+ee,o.top+le,x-Ge*2/3,I-Le*2/3,vi.BOTTOM_RIGHT):new Lt(o.left+o.width-Ge*2/3,o.top+o.height-Le*2/3),this.bottomLeftBorderDoubleInnerBox=k>0||K>0?qi(o.left+fe*2/3,o.top+me,k-fe*2/3,K-Le*2/3,vi.BOTTOM_LEFT):new Lt(o.left+fe*2/3,o.top+o.height-Le*2/3),this.topLeftBorderStroke=p>0||a>0?qi(o.left+fe/2,o.top+we/2,p-fe/2,a-we/2,vi.TOP_LEFT):new Lt(o.left+fe/2,o.top+we/2),this.topRightBorderStroke=p>0||a>0?qi(o.left+V,o.top+we/2,y-Ge/2,F-we/2,vi.TOP_RIGHT):new Lt(o.left+o.width-Ge/2,o.top+we/2),this.bottomRightBorderStroke=x>0||I>0?qi(o.left+ee,o.top+le,x-Ge/2,I-Le/2,vi.BOTTOM_RIGHT):new Lt(o.left+o.width-Ge/2,o.top+o.height-Le/2),this.bottomLeftBorderStroke=k>0||K>0?qi(o.left+fe/2,o.top+me,k-fe/2,K-Le/2,vi.BOTTOM_LEFT):new Lt(o.left+fe/2,o.top+o.height-Le/2),this.topLeftBorderBox=p>0||a>0?qi(o.left,o.top,p,a,vi.TOP_LEFT):new Lt(o.left,o.top),this.topRightBorderBox=y>0||F>0?qi(o.left+V,o.top,y,F,vi.TOP_RIGHT):new Lt(o.left+o.width,o.top),this.bottomRightBorderBox=x>0||I>0?qi(o.left+ee,o.top+le,x,I,vi.BOTTOM_RIGHT):new Lt(o.left+o.width,o.top+o.height),this.bottomLeftBorderBox=k>0||K>0?qi(o.left,o.top+me,k,K,vi.BOTTOM_LEFT):new Lt(o.left,o.top+o.height),this.topLeftPaddingBox=p>0||a>0?qi(o.left+fe,o.top+we,Math.max(0,p-fe),Math.max(0,a-we),vi.TOP_LEFT):new Lt(o.left+fe,o.top+we),this.topRightPaddingBox=y>0||F>0?qi(o.left+Math.min(V,o.width-Ge),o.top+we,V>o.width+Ge?0:Math.max(0,y-Ge),Math.max(0,F-we),vi.TOP_RIGHT):new Lt(o.left+o.width-Ge,o.top+we),this.bottomRightPaddingBox=x>0||I>0?qi(o.left+Math.min(ee,o.width-fe),o.top+Math.min(le,o.height-Le),Math.max(0,x-Ge),Math.max(0,I-Le),vi.BOTTOM_RIGHT):new Lt(o.left+o.width-Ge,o.top+o.height-Le),this.bottomLeftPaddingBox=k>0||K>0?qi(o.left+fe,o.top+Math.min(me,o.height-Le),Math.max(0,k-fe),Math.max(0,K-Le),vi.BOTTOM_LEFT):new Lt(o.left+fe,o.top+o.height-Le),this.topLeftContentBox=p>0||a>0?qi(o.left+fe+Qe,o.top+we+Ee,Math.max(0,p-(fe+Qe)),Math.max(0,a-(we+Ee)),vi.TOP_LEFT):new Lt(o.left+fe+Qe,o.top+we+Ee),this.topRightContentBox=y>0||F>0?qi(o.left+Math.min(V,o.width+fe+Qe),o.top+we+Ee,V>o.width+fe+Qe?0:y-fe+Qe,F-(we+Ee),vi.TOP_RIGHT):new Lt(o.left+o.width-(Ge+ve),o.top+we+Ee),this.bottomRightContentBox=x>0||I>0?qi(o.left+Math.min(ee,o.width-(fe+Qe)),o.top+Math.min(le,o.height+we+Ee),Math.max(0,x-(Ge+ve)),I-(Le+De),vi.BOTTOM_RIGHT):new Lt(o.left+o.width-(Ge+ve),o.top+o.height-(Le+De)),this.bottomLeftContentBox=k>0||K>0?qi(o.left+fe+Qe,o.top+me,Math.max(0,k-(fe+Qe)),K-(Le+De),vi.BOTTOM_LEFT):new Lt(o.left+fe+Qe,o.top+o.height-(Le+De))}return i}(),vi;(function(i){i[i.TOP_LEFT=0]="TOP_LEFT",i[i.TOP_RIGHT=1]="TOP_RIGHT",i[i.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",i[i.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(vi||(vi={}));var qi=function(i,e,n,o,l){var p=4*((Math.sqrt(2)-1)/3),a=n*p,_=o*p,y=i+n,F=e+o;switch(l){case vi.TOP_LEFT:return new Sf(new Lt(i,F),new Lt(i,F-_),new Lt(y-a,e),new Lt(y,e));case vi.TOP_RIGHT:return new Sf(new Lt(i,e),new Lt(i+a,e),new Lt(y,F-_),new Lt(y,F));case vi.BOTTOM_RIGHT:return new Sf(new Lt(y,e),new Lt(y,e+_),new Lt(i+a,F),new Lt(i,F));case vi.BOTTOM_LEFT:default:return new Sf(new Lt(y,F),new Lt(y-a,F),new Lt(i,e+_),new Lt(i,e))}},np=function(i){return[i.topLeftBorderBox,i.topRightBorderBox,i.bottomRightBorderBox,i.bottomLeftBorderBox]},UI=function(i){return[i.topLeftContentBox,i.topRightContentBox,i.bottomRightContentBox,i.bottomLeftContentBox]},Ap=function(i){return[i.topLeftPaddingBox,i.topRightPaddingBox,i.bottomRightPaddingBox,i.bottomLeftPaddingBox]},QI=function(){function i(e,n,o){this.offsetX=e,this.offsetY=n,this.matrix=o,this.type=0,this.target=6}return i}(),Tf=function(){function i(e,n){this.path=e,this.target=n,this.type=1}return i}(),II=function(){function i(e){this.opacity=e,this.type=2,this.target=6}return i}(),SI=function(i){return i.type===0},Nw=function(i){return i.type===1},TI=function(i){return i.type===2},Q_=function(i,e){return i.length===e.length?i.some(function(n,o){return n===e[o]}):!1},kI=function(i,e,n,o,l){return i.map(function(p,a){switch(a){case 0:return p.add(e,n);case 1:return p.add(e+o,n);case 2:return p.add(e+o,n+l);case 3:return p.add(e,n+l)}return p})},Vw=function(){function i(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return i}(),Gw=function(){function i(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new EI(this.container),this.container.styles.opacity<1&&this.effects.push(new II(this.container.styles.opacity)),this.container.styles.transform!==null){var o=this.container.bounds.left+this.container.styles.transformOrigin[0].number,l=this.container.bounds.top+this.container.styles.transformOrigin[1].number,p=this.container.styles.transform;this.effects.push(new QI(o,l,p))}if(this.container.styles.overflowX!==0){var a=np(this.curves),_=Ap(this.curves);Q_(a,_)?this.effects.push(new Tf(a,6)):(this.effects.push(new Tf(a,2)),this.effects.push(new Tf(_,4)))}}return i.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,o=this.parent,l=this.effects.slice(0);o;){var p=o.effects.filter(function(y){return!Nw(y)});if(n||o.container.styles.position!==0||!o.parent){if(l.unshift.apply(l,p),n=[2,3].indexOf(o.container.styles.position)===-1,o.container.styles.overflowX!==0){var a=np(o.curves),_=Ap(o.curves);Q_(a,_)||l.unshift(new Tf(_,6))}}else l.unshift.apply(l,p);o=o.parent}return l.filter(function(y){return Gn(y.target,e)})},i}(),Fg=function(i,e,n,o){i.container.elements.forEach(function(l){var p=Gn(l.flags,4),a=Gn(l.flags,2),_=new Gw(l,i);Gn(l.styles.display,2048)&&o.push(_);var y=Gn(l.flags,8)?[]:o;if(p||a){var F=p||l.styles.isPositioned()?n:e,Q=new Vw(_);if(l.styles.isPositioned()||l.styles.opacity<1||l.styles.isTransformed()){var x=l.styles.zIndex.order;if(x<0){var I=0;F.negativeZIndex.some(function(k,K){return x>k.element.container.styles.zIndex.order?(I=K,!1):I>0}),F.negativeZIndex.splice(I,0,Q)}else if(x>0){var M=0;F.positiveZIndex.some(function(k,K){return x>=k.element.container.styles.zIndex.order?(M=K+1,!1):M>0}),F.positiveZIndex.splice(M,0,Q)}else F.zeroOrAutoZIndexOrTransformedOrOpacity.push(Q)}else l.styles.isFloating()?F.nonPositionedFloats.push(Q):F.nonPositionedInlineLevel.push(Q);Fg(_,Q,p?Q:n,y)}else l.styles.isInlineLevel()?e.inlineLevel.push(_):e.nonInlineLevel.push(_),Fg(_,e,n,y);Gn(l.flags,8)&&Xw(l,y)})},Xw=function(i,e){for(var n=i instanceof wg?i.start:1,o=i instanceof wg?i.reversed:!1,l=0;l<e.length;l++){var p=e[l];p.container instanceof Qw&&typeof p.container.value=="number"&&p.container.value!==0&&(n=p.container.value),p.listValue=Lc(n,p.container.styles.listStyleType,!0),n+=o?-1:1}},LI=function(i){var e=new Gw(i,null),n=new Vw(e),o=[];return Fg(e,n,n,o),Xw(e.container,o),n},I_=function(i,e){switch(e){case 0:return uo(i.topLeftBorderBox,i.topLeftPaddingBox,i.topRightBorderBox,i.topRightPaddingBox);case 1:return uo(i.topRightBorderBox,i.topRightPaddingBox,i.bottomRightBorderBox,i.bottomRightPaddingBox);case 2:return uo(i.bottomRightBorderBox,i.bottomRightPaddingBox,i.bottomLeftBorderBox,i.bottomLeftPaddingBox);case 3:default:return uo(i.bottomLeftBorderBox,i.bottomLeftPaddingBox,i.topLeftBorderBox,i.topLeftPaddingBox)}},MI=function(i,e){switch(e){case 0:return uo(i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox,i.topRightBorderBox,i.topRightBorderDoubleOuterBox);case 1:return uo(i.topRightBorderBox,i.topRightBorderDoubleOuterBox,i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox);case 2:return uo(i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox,i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox);case 3:default:return uo(i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox,i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox)}},DI=function(i,e){switch(e){case 0:return uo(i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox,i.topRightBorderDoubleInnerBox,i.topRightPaddingBox);case 1:return uo(i.topRightBorderDoubleInnerBox,i.topRightPaddingBox,i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox);case 2:return uo(i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox,i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox);case 3:default:return uo(i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox,i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox)}},PI=function(i,e){switch(e){case 0:return kf(i.topLeftBorderStroke,i.topRightBorderStroke);case 1:return kf(i.topRightBorderStroke,i.bottomRightBorderStroke);case 2:return kf(i.bottomRightBorderStroke,i.bottomLeftBorderStroke);case 3:default:return kf(i.bottomLeftBorderStroke,i.topLeftBorderStroke)}},kf=function(i,e){var n=[];return ao(i)?n.push(i.subdivide(.5,!1)):n.push(i),ao(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},uo=function(i,e,n,o){var l=[];return ao(i)?l.push(i.subdivide(.5,!1)):l.push(i),ao(n)?l.push(n.subdivide(.5,!0)):l.push(n),ao(o)?l.push(o.subdivide(.5,!0).reverse()):l.push(o),ao(e)?l.push(e.subdivide(.5,!1).reverse()):l.push(e),l},jw=function(i){var e=i.bounds,n=i.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},op=function(i){var e=i.styles,n=i.bounds,o=Oi(e.paddingLeft,n.width),l=Oi(e.paddingRight,n.width),p=Oi(e.paddingTop,n.width),a=Oi(e.paddingBottom,n.width);return n.add(o+e.borderLeftWidth,p+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+o+l),-(e.borderTopWidth+e.borderBottomWidth+p+a))},HI=function(i,e){return i===0?e.bounds:i===2?op(e):jw(e)},zI=function(i,e){return i===0?e.bounds:i===2?op(e):jw(e)},Rd=function(i,e,n){var o=HI(Zl(i.styles.backgroundOrigin,e),i),l=zI(Zl(i.styles.backgroundClip,e),i),p=RI(Zl(i.styles.backgroundSize,e),n,o),a=p[0],_=p[1],y=mc(Zl(i.styles.backgroundPosition,e),o.width-a,o.height-_),F=OI(Zl(i.styles.backgroundRepeat,e),y,p,o,l),Q=Math.round(o.left+y[0]),x=Math.round(o.top+y[1]);return[F,Q,x,a,_]},Vl=function(i){return Ii(i)&&i.value===$l.AUTO},Lf=function(i){return typeof i=="number"},RI=function(i,e,n){var o=e[0],l=e[1],p=e[2],a=i[0],_=i[1];if(!a)return[0,0];if(Pn(a)&&_&&Pn(_))return[Oi(a,n.width),Oi(_,n.height)];var y=Lf(p);if(Ii(a)&&(a.value===$l.CONTAIN||a.value===$l.COVER)){if(Lf(p)){var F=n.width/n.height;return F<p!=(a.value===$l.COVER)?[n.width,n.width/p]:[n.height*p,n.height]}return[n.width,n.height]}var Q=Lf(o),x=Lf(l),I=Q||x;if(Vl(a)&&(!_||Vl(_))){if(Q&&x)return[o,l];if(!y&&!I)return[n.width,n.height];if(I&&y){var M=Q?o:l*p,k=x?l:o/p;return[M,k]}var K=Q?o:n.width,$=x?l:n.height;return[K,$]}if(y){var R=0,V=0;return Pn(a)?R=Oi(a,n.width):Pn(_)&&(V=Oi(_,n.height)),Vl(a)?R=V*p:(!_||Vl(_))&&(V=R/p),[R,V]}var le=null,ee=null;if(Pn(a)?le=Oi(a,n.width):_&&Pn(_)&&(ee=Oi(_,n.height)),le!==null&&(!_||Vl(_))&&(ee=Q&&x?le/o*l:n.height),ee!==null&&Vl(a)&&(le=Q&&x?ee/l*o:n.width),le!==null&&ee!==null)return[le,ee];throw new Error("Unable to calculate background-size for element")},Zl=function(i,e){var n=i[e];return typeof n=="undefined"?i[0]:n},OI=function(i,e,n,o,l){var p=e[0],a=e[1],_=n[0],y=n[1];switch(i){case 2:return[new Lt(Math.round(o.left),Math.round(o.top+a)),new Lt(Math.round(o.left+o.width),Math.round(o.top+a)),new Lt(Math.round(o.left+o.width),Math.round(y+o.top+a)),new Lt(Math.round(o.left),Math.round(y+o.top+a))];case 3:return[new Lt(Math.round(o.left+p),Math.round(o.top)),new Lt(Math.round(o.left+p+_),Math.round(o.top)),new Lt(Math.round(o.left+p+_),Math.round(o.height+o.top)),new Lt(Math.round(o.left+p),Math.round(o.height+o.top))];case 1:return[new Lt(Math.round(o.left+p),Math.round(o.top+a)),new Lt(Math.round(o.left+p+_),Math.round(o.top+a)),new Lt(Math.round(o.left+p+_),Math.round(o.top+a+y)),new Lt(Math.round(o.left+p),Math.round(o.top+a+y))];default:return[new Lt(Math.round(l.left),Math.round(l.top)),new Lt(Math.round(l.left+l.width),Math.round(l.top)),new Lt(Math.round(l.left+l.width),Math.round(l.height+l.top)),new Lt(Math.round(l.left),Math.round(l.height+l.top))]}},KI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",S_="Hidden Text",NI=function(){function i(e){this._data={},this._document=e}return i.prototype.parseMetrics=function(e,n){var o=this._document.createElement("div"),l=this._document.createElement("img"),p=this._document.createElement("span"),a=this._document.body;o.style.visibility="hidden",o.style.fontFamily=e,o.style.fontSize=n,o.style.margin="0",o.style.padding="0",o.style.whiteSpace="nowrap",a.appendChild(o),l.src=KI,l.width=1,l.height=1,l.style.margin="0",l.style.padding="0",l.style.verticalAlign="baseline",p.style.fontFamily=e,p.style.fontSize=n,p.style.margin="0",p.style.padding="0",p.appendChild(this._document.createTextNode(S_)),o.appendChild(p),o.appendChild(l);var _=l.offsetTop-p.offsetTop+2;o.removeChild(p),o.appendChild(this._document.createTextNode(S_)),o.style.lineHeight="normal",l.style.verticalAlign="super";var y=l.offsetTop-o.offsetTop+2;return a.removeChild(o),{baseline:_,middle:y}},i.prototype.getMetrics=function(e,n){var o=e+" "+n;return typeof this._data[o]=="undefined"&&(this._data[o]=this.parseMetrics(e,n)),this._data[o]},i}(),Zw=function(){function i(e,n){this.context=e,this.options=n}return i}(),VI=1e4,GI=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;return l._activeEffects=[],l.canvas=o.canvas?o.canvas:document.createElement("canvas"),l.ctx=l.canvas.getContext("2d"),o.canvas||(l.canvas.width=Math.floor(o.width*o.scale),l.canvas.height=Math.floor(o.height*o.scale),l.canvas.style.width=o.width+"px",l.canvas.style.height=o.height+"px"),l.fontMetrics=new NI(document),l.ctx.scale(l.options.scale,l.options.scale),l.ctx.translate(-o.x,-o.y),l.ctx.textBaseline="bottom",l._activeEffects=[],l.context.logger.debug("Canvas renderer initialized ("+o.width+"x"+o.height+") with scale "+o.scale),l}return e.prototype.applyEffects=function(n){for(var o=this;this._activeEffects.length;)this.popEffect();n.forEach(function(l){return o.applyEffect(l)})},e.prototype.applyEffect=function(n){this.ctx.save(),TI(n)&&(this.ctx.globalAlpha=n.opacity),SI(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Nw(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return FA(this,void 0,void 0,function(){var o;return mA(this,function(l){switch(l.label){case 0:return o=n.element.container.styles,o.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return FA(this,void 0,void 0,function(){return mA(this,function(o){switch(o.label){case 0:if(Gn(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return o.sent(),[4,this.renderNodeContent(n)];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,o,l){var p=this;if(o===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+l);else{var a=qg(n.text);a.reduce(function(_,y){return p.ctx.fillText(y,_,n.bounds.top+l),_+p.ctx.measureText(y).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var o=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),l=WI(n.fontFamily).join(", "),p=jc(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,o,n.fontWeight,p,l].join(" "),l,p]},e.prototype.renderTextNode=function(n,o){return FA(this,void 0,void 0,function(){var l,p,a,_,y,F,Q,x,I=this;return mA(this,function(M){return l=this.createFontStyle(o),p=l[0],a=l[1],_=l[2],this.ctx.font=p,this.ctx.direction=o.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",y=this.fontMetrics.getMetrics(a,_),F=y.baseline,Q=y.middle,x=o.paintOrder,n.textBounds.forEach(function(k){x.forEach(function(K){switch(K){case 0:I.ctx.fillStyle=$n(o.color),I.renderTextWithLetterSpacing(k,o.letterSpacing,F);var $=o.textShadow;$.length&&k.text.trim().length&&($.slice(0).reverse().forEach(function(R){I.ctx.shadowColor=$n(R.color),I.ctx.shadowOffsetX=R.offsetX.number*I.options.scale,I.ctx.shadowOffsetY=R.offsetY.number*I.options.scale,I.ctx.shadowBlur=R.blur.number,I.renderTextWithLetterSpacing(k,o.letterSpacing,F)}),I.ctx.shadowColor="",I.ctx.shadowOffsetX=0,I.ctx.shadowOffsetY=0,I.ctx.shadowBlur=0),o.textDecorationLine.length&&(I.ctx.fillStyle=$n(o.textDecorationColor||o.color),o.textDecorationLine.forEach(function(R){switch(R){case 1:I.ctx.fillRect(k.bounds.left,Math.round(k.bounds.top+F),k.bounds.width,1);break;case 2:I.ctx.fillRect(k.bounds.left,Math.round(k.bounds.top),k.bounds.width,1);break;case 3:I.ctx.fillRect(k.bounds.left,Math.ceil(k.bounds.top+Q),k.bounds.width,1);break}}));break;case 1:o.webkitTextStrokeWidth&&k.text.trim().length&&(I.ctx.strokeStyle=$n(o.webkitTextStrokeColor),I.ctx.lineWidth=o.webkitTextStrokeWidth,I.ctx.lineJoin=window.chrome?"miter":"round",I.ctx.strokeText(k.text,k.bounds.left,k.bounds.top+F)),I.ctx.strokeStyle="",I.ctx.lineWidth=0,I.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,o,l){if(l&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var p=op(n),a=Ap(o);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(l,0,0,n.intrinsicWidth,n.intrinsicHeight,p.left,p.top,p.width,p.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return FA(this,void 0,void 0,function(){var o,l,p,a,_,y,V,V,F,Q,x,I,ee,M,k,me,K,$,R,V,le,ee,me;return mA(this,function(we){switch(we.label){case 0:this.applyEffects(n.getEffects(4)),o=n.container,l=n.curves,p=o.styles,a=0,_=o.textNodes,we.label=1;case 1:return a<_.length?(y=_[a],[4,this.renderTextNode(y,p)]):[3,4];case 2:we.sent(),we.label=3;case 3:return a++,[3,1];case 4:if(!(o instanceof Fw))return[3,8];we.label=5;case 5:return we.trys.push([5,7,,8]),[4,this.context.cache.match(o.src)];case 6:return V=we.sent(),this.renderReplacedElement(o,l,V),[3,8];case 7:return we.sent(),this.context.logger.error("Error loading image "+o.src),[3,8];case 8:if(o instanceof Ew&&this.renderReplacedElement(o,l,o.canvas),!(o instanceof Uw))return[3,12];we.label=9;case 9:return we.trys.push([9,11,,12]),[4,this.context.cache.match(o.svg)];case 10:return V=we.sent(),this.renderReplacedElement(o,l,V),[3,12];case 11:return we.sent(),this.context.logger.error("Error loading svg "+o.svg.substring(0,255)),[3,12];case 12:return o instanceof Tw&&o.tree?(F=new e(this.context,{scale:this.options.scale,backgroundColor:o.backgroundColor,x:0,y:0,width:o.width,height:o.height}),[4,F.render(o.tree)]):[3,14];case 13:Q=we.sent(),o.width&&o.height&&this.ctx.drawImage(Q,0,0,o.width,o.height,o.bounds.left,o.bounds.top,o.bounds.width,o.bounds.height),we.label=14;case 14:if(o instanceof Wg&&(x=Math.min(o.bounds.width,o.bounds.height),o.type===ep?o.checked&&(this.ctx.save(),this.path([new Lt(o.bounds.left+x*.39363,o.bounds.top+x*.79),new Lt(o.bounds.left+x*.16,o.bounds.top+x*.5549),new Lt(o.bounds.left+x*.27347,o.bounds.top+x*.44071),new Lt(o.bounds.left+x*.39694,o.bounds.top+x*.5649),new Lt(o.bounds.left+x*.72983,o.bounds.top+x*.23),new Lt(o.bounds.left+x*.84,o.bounds.top+x*.34085),new Lt(o.bounds.left+x*.39363,o.bounds.top+x*.79)]),this.ctx.fillStyle=$n(y_),this.ctx.fill(),this.ctx.restore()):o.type===tp&&o.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(o.bounds.left+x/2,o.bounds.top+x/2,x/4,0,Math.PI*2,!0),this.ctx.fillStyle=$n(y_),this.ctx.fill(),this.ctx.restore())),XI(o)&&o.value.length){switch(I=this.createFontStyle(p),ee=I[0],M=I[1],k=this.fontMetrics.getMetrics(ee,M).baseline,this.ctx.font=ee,this.ctx.fillStyle=$n(p.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ZI(o.styles.textAlign),me=op(o),K=0,o.styles.textAlign){case 1:K+=me.width/2;break;case 2:K+=me.width;break}$=me.add(K,0,0,-me.height/2+1),this.ctx.save(),this.path([new Lt(me.left,me.top),new Lt(me.left+me.width,me.top),new Lt(me.left+me.width,me.top+me.height),new Lt(me.left,me.top+me.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new xc(o.value,$),p.letterSpacing,k),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gn(o.styles.display,2048))return[3,20];if(o.styles.listStyleImage===null)return[3,19];if(R=o.styles.listStyleImage,R.type!==0)return[3,18];V=void 0,le=R.url,we.label=15;case 15:return we.trys.push([15,17,,18]),[4,this.context.cache.match(le)];case 16:return V=we.sent(),this.ctx.drawImage(V,o.bounds.left-(V.width+10),o.bounds.top),[3,18];case 17:return we.sent(),this.context.logger.error("Error loading list-style-image "+le),[3,18];case 18:return[3,20];case 19:n.listValue&&o.styles.listStyleType!==-1&&(ee=this.createFontStyle(p)[0],this.ctx.font=ee,this.ctx.fillStyle=$n(p.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",me=new Ca(o.bounds.left,o.bounds.top+Oi(o.styles.paddingTop,o.bounds.width),o.bounds.width,t_(p.lineHeight,p.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new xc(n.listValue,me),p.letterSpacing,t_(p.lineHeight,p.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),we.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return FA(this,void 0,void 0,function(){var o,l,R,p,a,R,_,y,R,F,Q,R,x,I,R,M,k,R,K,$,R;return mA(this,function(V){switch(V.label){case 0:if(Gn(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:V.sent(),o=0,l=n.negativeZIndex,V.label=2;case 2:return o<l.length?(R=l[o],[4,this.renderStack(R)]):[3,5];case 3:V.sent(),V.label=4;case 4:return o++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:V.sent(),p=0,a=n.nonInlineLevel,V.label=7;case 7:return p<a.length?(R=a[p],[4,this.renderNode(R)]):[3,10];case 8:V.sent(),V.label=9;case 9:return p++,[3,7];case 10:_=0,y=n.nonPositionedFloats,V.label=11;case 11:return _<y.length?(R=y[_],[4,this.renderStack(R)]):[3,14];case 12:V.sent(),V.label=13;case 13:return _++,[3,11];case 14:F=0,Q=n.nonPositionedInlineLevel,V.label=15;case 15:return F<Q.length?(R=Q[F],[4,this.renderStack(R)]):[3,18];case 16:V.sent(),V.label=17;case 17:return F++,[3,15];case 18:x=0,I=n.inlineLevel,V.label=19;case 19:return x<I.length?(R=I[x],[4,this.renderNode(R)]):[3,22];case 20:V.sent(),V.label=21;case 21:return x++,[3,19];case 22:M=0,k=n.zeroOrAutoZIndexOrTransformedOrOpacity,V.label=23;case 23:return M<k.length?(R=k[M],[4,this.renderStack(R)]):[3,26];case 24:V.sent(),V.label=25;case 25:return M++,[3,23];case 26:K=0,$=n.positiveZIndex,V.label=27;case 27:return K<$.length?(R=$[K],[4,this.renderStack(R)]):[3,30];case 28:V.sent(),V.label=29;case 29:return K++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var o=this;n.forEach(function(l,p){var a=ao(l)?l.start:l;p===0?o.ctx.moveTo(a.x,a.y):o.ctx.lineTo(a.x,a.y),ao(l)&&o.ctx.bezierCurveTo(l.startControl.x,l.startControl.y,l.endControl.x,l.endControl.y,l.end.x,l.end.y)})},e.prototype.renderRepeat=function(n,o,l,p){this.path(n),this.ctx.fillStyle=o,this.ctx.translate(l,p),this.ctx.fill(),this.ctx.translate(-l,-p)},e.prototype.resizeImage=function(n,o,l){var p;if(n.width===o&&n.height===l)return n;var a=(p=this.canvas.ownerDocument)!==null&&p!==void 0?p:document,_=a.createElement("canvas");_.width=Math.max(1,o),_.height=Math.max(1,l);var y=_.getContext("2d");return y.drawImage(n,0,0,n.width,n.height,0,0,o,l),_},e.prototype.renderBackgroundImage=function(n){return FA(this,void 0,void 0,function(){var o,l,p,a,_,y;return mA(this,function(F){switch(F.label){case 0:o=n.styles.backgroundImage.length-1,l=function(Q){var x,I,M,Ee,Fe,rt,Qe,Ze,Le,k,Ee,Fe,rt,Qe,Ze,K,$,R,V,le,ee,me,we,Ge,Le,fe,Ee,ve,De,Qe,Ze,Ne,Fe,rt,ct,Tt,at,ot,jt,Yt,pt,We;return mA(this,function(Ar){switch(Ar.label){case 0:if(Q.type!==0)return[3,5];x=void 0,I=Q.url,Ar.label=1;case 1:return Ar.trys.push([1,3,,4]),[4,p.context.cache.match(I)];case 2:return x=Ar.sent(),[3,4];case 3:return Ar.sent(),p.context.logger.error("Error loading background-image "+I),[3,4];case 4:return x&&(M=Rd(n,o,[x.width,x.height,x.width/x.height]),Ee=M[0],Fe=M[1],rt=M[2],Qe=M[3],Ze=M[4],Le=p.ctx.createPattern(p.resizeImage(x,Qe,Ze),"repeat"),p.renderRepeat(Ee,Le,Fe,rt)),[3,6];case 5:SE(Q)?(k=Rd(n,o,[null,null,null]),Ee=k[0],Fe=k[1],rt=k[2],Qe=k[3],Ze=k[4],K=FE(Q.angle,Qe,Ze),$=K[0],R=K[1],V=K[2],le=K[3],ee=K[4],me=document.createElement("canvas"),me.width=Qe,me.height=Ze,we=me.getContext("2d"),Ge=we.createLinearGradient(R,le,V,ee),$0(Q.stops,$).forEach(function(St){return Ge.addColorStop(St.stop,$n(St.color))}),we.fillStyle=Ge,we.fillRect(0,0,Qe,Ze),Qe>0&&Ze>0&&(Le=p.ctx.createPattern(me,"repeat"),p.renderRepeat(Ee,Le,Fe,rt))):TE(Q)&&(fe=Rd(n,o,[null,null,null]),Ee=fe[0],ve=fe[1],De=fe[2],Qe=fe[3],Ze=fe[4],Ne=Q.position.length===0?[Xg]:Q.position,Fe=Oi(Ne[0],Qe),rt=Oi(Ne[Ne.length-1],Ze),ct=EE(Q,Fe,rt,Qe,Ze),Tt=ct[0],at=ct[1],Tt>0&&at>0&&(ot=p.ctx.createRadialGradient(ve+Fe,De+rt,0,ve+Fe,De+rt,Tt),$0(Q.stops,Tt*2).forEach(function(St){return ot.addColorStop(St.stop,$n(St.color))}),p.path(Ee),p.ctx.fillStyle=ot,Tt!==at?(jt=n.bounds.left+.5*n.bounds.width,Yt=n.bounds.top+.5*n.bounds.height,pt=at/Tt,We=1/pt,p.ctx.save(),p.ctx.translate(jt,Yt),p.ctx.transform(1,0,0,pt,0,0),p.ctx.translate(-jt,-Yt),p.ctx.fillRect(ve,We*(De-Yt)+Yt,Qe,Ze*We),p.ctx.restore()):p.ctx.fill())),Ar.label=6;case 6:return o--,[2]}})},p=this,a=0,_=n.styles.backgroundImage.slice(0).reverse(),F.label=1;case 1:return a<_.length?(y=_[a],[5,l(y)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,o,l){return FA(this,void 0,void 0,function(){return mA(this,function(p){return this.path(I_(l,o)),this.ctx.fillStyle=$n(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,o,l,p){return FA(this,void 0,void 0,function(){var a,_;return mA(this,function(y){switch(y.label){case 0:return o<3?[4,this.renderSolidBorder(n,l,p)]:[3,2];case 1:return y.sent(),[2];case 2:return a=MI(p,l),this.path(a),this.ctx.fillStyle=$n(n),this.ctx.fill(),_=DI(p,l),this.path(_),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return FA(this,void 0,void 0,function(){var o,l,p,a,_,y,F,Q,x=this;return mA(this,function(I){switch(I.label){case 0:return this.applyEffects(n.getEffects(2)),o=n.container.styles,l=!es(o.backgroundColor)||o.backgroundImage.length,p=[{style:o.borderTopStyle,color:o.borderTopColor,width:o.borderTopWidth},{style:o.borderRightStyle,color:o.borderRightColor,width:o.borderRightWidth},{style:o.borderBottomStyle,color:o.borderBottomColor,width:o.borderBottomWidth},{style:o.borderLeftStyle,color:o.borderLeftColor,width:o.borderLeftWidth}],a=jI(Zl(o.backgroundClip,0),n.curves),l||o.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),es(o.backgroundColor)||(this.ctx.fillStyle=$n(o.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:I.sent(),this.ctx.restore(),o.boxShadow.slice(0).reverse().forEach(function(M){x.ctx.save();var k=np(n.curves),K=M.inset?0:VI,$=kI(k,-K+(M.inset?1:-1)*M.spread.number,(M.inset?1:-1)*M.spread.number,M.spread.number*(M.inset?-2:2),M.spread.number*(M.inset?-2:2));M.inset?(x.path(k),x.ctx.clip(),x.mask($)):(x.mask(k),x.ctx.clip(),x.path($)),x.ctx.shadowOffsetX=M.offsetX.number+K,x.ctx.shadowOffsetY=M.offsetY.number,x.ctx.shadowColor=$n(M.color),x.ctx.shadowBlur=M.blur.number,x.ctx.fillStyle=M.inset?$n(M.color):"rgba(0,0,0,1)",x.ctx.fill(),x.ctx.restore()}),I.label=2;case 2:_=0,y=0,F=p,I.label=3;case 3:return y<F.length?(Q=F[y],Q.style!==0&&!es(Q.color)&&Q.width>0?Q.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Q.color,Q.width,_,n.curves,2)]:[3,11]):[3,13];case 4:return I.sent(),[3,11];case 5:return Q.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Q.color,Q.width,_,n.curves,3)];case 6:return I.sent(),[3,11];case 7:return Q.style!==4?[3,9]:[4,this.renderDoubleBorder(Q.color,Q.width,_,n.curves)];case 8:return I.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Q.color,_,n.curves)];case 10:I.sent(),I.label=11;case 11:_++,I.label=12;case 12:return y++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,o,l,p,a){return FA(this,void 0,void 0,function(){var _,y,F,Q,x,I,M,k,K,$,R,V,le,ee,me,we,me,we;return mA(this,function(Ge){return this.ctx.save(),_=PI(p,l),y=I_(p,l),a===2&&(this.path(y),this.ctx.clip()),ao(y[0])?(F=y[0].start.x,Q=y[0].start.y):(F=y[0].x,Q=y[0].y),ao(y[1])?(x=y[1].end.x,I=y[1].end.y):(x=y[1].x,I=y[1].y),l===0||l===2?M=Math.abs(F-x):M=Math.abs(Q-I),this.ctx.beginPath(),a===3?this.formatPath(_):this.formatPath(y.slice(0,2)),k=o<3?o*3:o*2,K=o<3?o*2:o,a===3&&(k=o,K=o),$=!0,M<=k*2?$=!1:M<=k*2+K?(R=M/(2*k+K),k*=R,K*=R):(V=Math.floor((M+K)/(k+K)),le=(M-V*k)/(V-1),ee=(M-(V+1)*k)/V,K=ee<=0||Math.abs(K-le)<Math.abs(K-ee)?le:ee),$&&(a===3?this.ctx.setLineDash([0,k+K]):this.ctx.setLineDash([k,K])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=o):this.ctx.lineWidth=o*2+1.1,this.ctx.strokeStyle=$n(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(ao(y[0])&&(me=y[3],we=y[0],this.ctx.beginPath(),this.formatPath([new Lt(me.end.x,me.end.y),new Lt(we.start.x,we.start.y)]),this.ctx.stroke()),ao(y[1])&&(me=y[1],we=y[2],this.ctx.beginPath(),this.formatPath([new Lt(me.end.x,me.end.y),new Lt(we.start.x,we.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return FA(this,void 0,void 0,function(){var o;return mA(this,function(l){switch(l.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$n(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),o=LI(n),[4,this.renderStack(o)];case 1:return l.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Zw),XI=function(i){return i instanceof Sw||i instanceof Iw?!0:i instanceof Wg&&i.type!==tp&&i.type!==ep},jI=function(i,e){switch(i){case 0:return np(e);case 2:return UI(e);case 1:default:return Ap(e)}},ZI=function(i){switch(i){case 1:return"center";case 2:return"right";case 0:default:return"left"}},qI=["-apple-system","system-ui"],WI=function(i){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?i.filter(function(e){return qI.indexOf(e)===-1}):i},JI=function(i){vo(e,i);function e(n,o){var l=i.call(this,n,o)||this;return l.canvas=o.canvas?o.canvas:document.createElement("canvas"),l.ctx=l.canvas.getContext("2d"),l.options=o,l.canvas.width=Math.floor(o.width*o.scale),l.canvas.height=Math.floor(o.height*o.scale),l.canvas.style.width=o.width+"px",l.canvas.style.height=o.height+"px",l.ctx.scale(l.options.scale,l.options.scale),l.ctx.translate(-o.x,-o.y),l.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+o.width+"x"+o.height+" at "+o.x+","+o.y+") with scale "+o.scale),l}return e.prototype.render=function(n){return FA(this,void 0,void 0,function(){var o,l;return mA(this,function(p){switch(p.label){case 0:return o=vg(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,YI(o)];case 1:return l=p.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$n(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(l,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Zw),YI=function(i){return new Promise(function(e,n){var o=new Image;o.onload=function(){e(o)},o.onerror=n,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},$I=function(){function i(e){var n=e.id,o=e.enabled;this.id=n,this.enabled=o,this.start=Date.now()}return i.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,hf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.getTime=function(){return Date.now()-this.start},i.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,hf([this.id,this.getTime()+"ms"],e))},i.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,hf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,hf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.instances={},i}(),e4=function(){function i(e,n){var o;this.windowBounds=n,this.instanceName="#"+i.instanceCount++,this.logger=new $I({id:this.instanceName,enabled:e.logging}),this.cache=(o=e.cache)!==null&&o!==void 0?o:new vI(this,e)}return i.instanceCount=1,i}(),t4=function(i,e){return e===void 0&&(e={}),r4(i,e)};typeof window!="undefined"&&Kw.setContext(window);var r4=function(i,e){return FA(void 0,void 0,void 0,function(){var n,o,l,p,a,_,y,F,Q,x,I,M,k,K,$,R,V,le,ee,me,Ge,we,Ge,Le,fe,Ee,ve,De,Qe,Ze,Ne,Fe,rt,ct,Tt,at,ot,jt,Yt,pt;return mA(this,function(We){switch(We.label){case 0:if(!i||typeof i!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=i.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(o=n.defaultView,!o)throw new Error("Document is not attached to a Window");return l={allowTaint:(Le=e.allowTaint)!==null&&Le!==void 0?Le:!1,imageTimeout:(fe=e.imageTimeout)!==null&&fe!==void 0?fe:15e3,proxy:e.proxy,useCORS:(Ee=e.useCORS)!==null&&Ee!==void 0?Ee:!1},p=Ag({logging:(ve=e.logging)!==null&&ve!==void 0?ve:!0,cache:e.cache},l),a={windowWidth:(De=e.windowWidth)!==null&&De!==void 0?De:o.innerWidth,windowHeight:(Qe=e.windowHeight)!==null&&Qe!==void 0?Qe:o.innerHeight,scrollX:(Ze=e.scrollX)!==null&&Ze!==void 0?Ze:o.pageXOffset,scrollY:(Ne=e.scrollY)!==null&&Ne!==void 0?Ne:o.pageYOffset},_=new Ca(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),y=new e4(p,_),F=(Fe=e.foreignObjectRendering)!==null&&Fe!==void 0?Fe:!1,Q={allowTaint:(rt=e.allowTaint)!==null&&rt!==void 0?rt:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:F,copyStyles:F},y.logger.debug("Starting document clone with size "+_.width+"x"+_.height+" scrolled to "+-_.left+","+-_.top),x=new E_(y,i,Q),I=x.clonedReferenceElement,I?[4,x.toIFrame(n,_)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return M=We.sent(),k=Jg(I)||iI(I)?kC(I.ownerDocument):hp(y,I),K=k.width,$=k.height,R=k.left,V=k.top,le=i4(y,I,e.backgroundColor),ee={canvas:e.canvas,backgroundColor:le,scale:(Tt=(ct=e.scale)!==null&&ct!==void 0?ct:o.devicePixelRatio)!==null&&Tt!==void 0?Tt:1,x:((at=e.x)!==null&&at!==void 0?at:0)+R,y:((ot=e.y)!==null&&ot!==void 0?ot:0)+V,width:(jt=e.width)!==null&&jt!==void 0?jt:Math.ceil(K),height:(Yt=e.height)!==null&&Yt!==void 0?Yt:Math.ceil($)},F?(y.logger.debug("Document cloned, using foreign object rendering"),Ge=new JI(y,ee),[4,Ge.render(I)]):[3,3];case 2:return me=We.sent(),[3,5];case 3:return y.logger.debug("Document cloned, element located at "+R+","+V+" with size "+K+"x"+$+" using computed rendering"),y.logger.debug("Starting DOM parsing"),we=Lw(y,I),le===we.styles.backgroundColor&&(we.styles.backgroundColor=ba.TRANSPARENT),y.logger.debug("Starting renderer for element at "+ee.x+","+ee.y+" with size "+ee.width+"x"+ee.height),Ge=new GI(y,ee),[4,Ge.render(we)];case 4:me=We.sent(),We.label=5;case 5:return(!((pt=e.removeContainer)!==null&&pt!==void 0)||pt)&&(E_.destroy(M)||y.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),y.logger.debug("Finished rendering"),[2,me]}})})},i4=function(i,e,n){var o=e.ownerDocument,l=o.documentElement?Bc(i,getComputedStyle(o.documentElement).backgroundColor):ba.TRANSPARENT,p=o.body?Bc(i,getComputedStyle(o.body).backgroundColor):ba.TRANSPARENT,a=typeof n=="string"?Bc(i,n):n===null?ba.TRANSPARENT:4294967295;return e===o.documentElement?es(l)?es(p)?a:p:l:a};function qw(i,e,n){let o=[];return n?e.forEach(l=>{o.push(i.filter(p=>p[n]==l))}):o=[i],o}function n4(i,e,n,o){let l=[],p=JSON.parse(JSON.stringify(i.filter(a=>a[o]==e[0])));return p.forEach(a=>a[n]=0),e.forEach(a=>{let _=JSON.parse(JSON.stringify(i.filter(y=>y[o]==a)));_.forEach((y,F)=>{y[n]+=p[F][n],p[F][n]=y[n]}),l.push(_)}),l}function A4(i,e=[],n){let o="",l=[];e.forEach(a=>{a&&!l.includes(a)&&l.push(a)}),o+=l.join(",")+`
`,i.forEach(a=>{o+=l.map(_=>a[_]).join(",")+`
`});let p="data:text/csv;charset=utf-8,"+encodeURI(o);Ww(p,n+".csv")}function o4(i,e){t4(i).then(n=>{let o=n.toDataURL();Ww(o,e+".png")})}function Ww(i,e){var n=document.createElement("a");n.href=i,n.download=e,n.click()}const T_=1,k_=5,a4=2;class s4{constructor(e,n,o,l,p){this.items=e,this.radiusFun=n,this.xFun=o,this.padding=l,this.yOffset=p,this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,T_),this.maxR=Math.max(...e.map(a=>n(a))),this.rng=this._sfc32(1,2,3,T_)}calculateYPositions(){let e=this.items.map((l,p)=>({datum:l,originalIndex:p,x:this.xFun(l),r:this.radiusFun(l)+this.padding,y:null,placed:!1})).sort((l,p)=>l.x-p.x);e.forEach(function(l,p){l.index=p});let n=this.tieBreakFn;e.forEach(function(l){l.tieBreaker=n(l.x)});let o=[...e].sort((l,p)=>{let a=this.radiusFun(l.datum)+l.tieBreaker*k_,_=this.radiusFun(p.datum)+p.tieBreaker*k_;return a!=_?_-a:l.x-p.x});for(let l of o)l.placed=!0,l.y=this._getBestYPosition(l,e);return e.sort((l,p)=>l.originalIndex-p.originalIndex),e.map(l=>({x:l.x,y:l.y+this.yOffset,r:this.radiusFun(l.datum)}))}_sfc32(e,n,o,l){let p=function(){e>>>=0,n>>>=0,o>>>=0,l>>>=0;var a=e+n|0;return e=n^n>>>9,n=o+(o<<3)|0,o=o<<21|o>>>11,l=l+1|0,a=a+l|0,o=o+a|0,(a>>>0)/4294967296};for(let a=0;a<10;a++)p();return p}_getBestYPosition(e,n){let o=[];for(let p of[-1,1]){let a,_=e.r;for(let y=e.index+p;y>=0&&y<n.length&&(a=Math.abs(e.x-n[y].x))<_+this.maxR;y+=p){let F=n[y];if(!F.placed)continue;let Q=_+F.r;if(a>=_+F.r)continue;let x=Math.sqrt(Q*Q-a*a),I=[F.y-x,F.y+x];o.push(I)}}if(o.length==0)return e.r*(this.rng()-.5)*a4;let l=o.flat();l.push(0),l.sort((p,a)=>{let _=Math.abs(p),y=Math.abs(a);return _<y?-1:_>y?1:p-a});for(let p=0;p<l.length;p++){let a=l[p];if(o.every(_=>a<=_[0]||a>=_[1]))return a}}}function l4(i,e,n){let o,l,p,a,_,y,F,Q,x,I,M,k,K,$,R;const{data:V,x:le,y:ee,r:me,xGet:we,yGet:Ge,rGet:Le,xScale:fe,yScale:Ee,yRange:ve,rRange:De,xDomain:Qe,yDomain:Ze,custom:Ne,width:Fe}=UA("LayerCake");At(i,V,ot=>n(20,R=ot)),At(i,le,ot=>n(18,K=ot)),At(i,ee,ot=>n(17,k=ot)),At(i,me,ot=>n(16,M=ot)),At(i,we,ot=>n(25,a=ot)),At(i,Ge,ot=>n(29,Q=ot)),At(i,Le,ot=>n(27,y=ot)),At(i,fe,ot=>n(23,l=ot)),At(i,Ee,ot=>n(22,o=ot)),At(i,ve,ot=>n(24,p=ot)),At(i,De,ot=>n(26,_=ot)),At(i,Qe,ot=>n(30,x=ot)),At(i,Ze,ot=>n(28,F=ot)),At(i,Ne,ot=>n(19,$=ot)),At(i,Fe,ot=>n(15,I=ot));let rt=$.coords,ct=$.type,Tt=I;function at(ot,jt,Yt,pt,We,Ar){let St=jt.mode,it=jt.padding,wt=jt.animation&&Ar==Tt?jt.duration:0;Tt=Ar;let vr;if(ct=="bar"){let wr=[],$t=[];vr=ot.map((Gt,Kr)=>Gt.map((Kt,tr)=>{wr[tr]||(wr[tr]=0),$t[tr]||($t[tr]=0);let ei=St=="default"||St=="grouped"||St=="comparison"&&Kr==0?x[0]:St=="stacked"&&Yt(Kt)>=0?wr[tr]:St=="stacked"?$t[tr]:Yt(Kt),ti=St=="default"||St=="grouped"||St=="comparison"&&Kr==0?Yt(Kt):St=="stacked"&&Yt(Kt)>=0?wr[tr]+Yt(Kt):St=="stacked"?$t[tr]+Yt(Kt):Yt(Kt);Yt(Kt)>=0?wr[tr]+=Yt(Kt):$t[tr]+=Yt(Kt);let ri=St=="grouped"?Q(Kt)+Kr*(o.bandwidth()/ot.length):Q(Kt),Nr=St=="grouped"?ri+o.bandwidth()/ot.length:ri+o.bandwidth();return{x0:ei,x1:ti,y0:ri,y1:Nr}}))}else if(ct=="column"){let wr=[],$t=[];vr=ot.map((Gt,Kr)=>Gt.map((Kt,tr)=>{wr[tr]||(wr[tr]=0),$t[tr]||($t[tr]=0);let ei=St=="grouped"&&l.bandwidth?a(Kt)+Kr*(1/ot.length)*l.bandwidth():St=="grouped"?a(Kt)[0]+Kr*(1/ot.length)*Math.max(0,a(Kt)[1]-a(Kt)[0]):l.bandwidth?a(Kt):a(Kt)[0],ti=St=="grouped"&&l.bandwidth?ei+l.bandwidth()/ot.length:St=="grouped"?ei+Math.max(0,a(Kt)[1]-a(Kt)[0])/ot.length:l.bandwidth?ei+l.bandwidth():ei+Math.max(0,a(Kt)[1]-a(Kt)[0]),ri=St=="default"||St=="grouped"||St=="comparison"&&Kr==0?F[0]:St=="stacked"&&pt(Kt)>=0?wr[tr]:St=="stacked"?$t[tr]:pt(Kt),Nr=St=="default"||St=="grouped"||St=="comparison"&&Kr==0?pt(Kt):St=="stacked"&&pt(Kt)>=0?wr[tr]+pt(Kt):St=="stacked"?$t[tr]+pt(Kt):pt(Kt);return pt(Kt)>=0?wr[tr]+=pt(Kt):$t[tr]+=pt(Kt),{x0:ei,x1:ti,y0:ri,y1:Nr}}))}else if(ct=="scatter"){let wr=$t=>We?y($t):_[0];vr=pt?ot.map($t=>({x:Yt($t),y:pt($t),r:wr($t)})):new s4(ot,$t=>wr($t),$t=>a($t),it,p[0]/2).calculateYPositions().map($t=>({x:l.invert($t.x),y:o.invert($t.y),r:$t.r}))}else vr=ot.map(wr=>wr.map($t=>({x:Yt($t),y:pt($t)})));ct=="dotplot"&&console.log(vr),rt.set(vr,{duration:wt})}return i.$$.update=()=>{i.$$.dirty[0]&2064384&&at(R,$,K,k,M,I)},[V,le,ee,me,we,Ge,Le,fe,Ee,ve,De,Qe,Ze,Ne,Fe,I,M,k,K,$,R]}class Yg extends Ei{constructor(e){super();Fi(this,e,l4,null,wi,{},null,[-1,-1])}}function L_(i,e,n){const o=i.slice();return o[33]=e[n],o[35]=n,o}function M_(i,e,n){const o=i.slice();return o[33]=e[n],o[35]=n,o}function D_(i){let e,n,o=i[5],l=[];for(let a=0;a<o.length;a+=1)l[a]=P_(M_(i,o,a));let p=i[16]&&(i[3]||i[1]||i[4][0])&&H_(i);return{c(){e=Cr("g");for(let a=0;a<l.length;a+=1)l[a].c();n=Mt(),p&&p.c(),this.h()},l(a){e=Qr(a,"g",{class:!0});var _=Et(e);for(let y=0;y<l.length;y+=1)l[y].l(_);n=Mt(),p&&p.l(_),_.forEach(Be),this.h()},h(){ce(e,"class","line-group")},m(a,_){Ye(a,e,_);for(let y=0;y<l.length;y+=1)l[y].m(e,null);Ot(e,n),p&&p.m(e,null)},p(a,_){if(_[0]&7340516){o=a[5];let y;for(y=0;y<o.length;y+=1){const F=M_(a,o,y);l[y]?l[y].p(F,_):(l[y]=P_(F),l[y].c(),l[y].m(e,n))}for(;y<l.length;y+=1)l[y].d(1);l.length=o.length}a[16]&&(a[3]||a[1]||a[4][0])?p?p.p(a,_):(p=H_(a),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(a){a&&Be(e),_A(l,a),p&&p.d()}}}function P_(i){let e,n,o,l,p,a,_;function y(...x){return i[24](i[35],...x)}function F(...x){return i[26](i[35],...x)}function Q(...x){return i[28](i[35],...x)}return{c(){e=Cr("path"),o=Cr("path"),this.h()},l(x){e=Qr(x,"path",{class:!0,d:!0}),Et(e).forEach(Be),o=Qr(x,"path",{class:!0,d:!0,stroke:!0,"stroke-width":!0}),Et(o).forEach(Be),this.h()},h(){ce(e,"class","path-hover svelte-rh3b33"),ce(e,"d",n=i[20](i[33])),ce(o,"class","path-line svelte-rh3b33"),ce(o,"d",l=i[20](i[33])),ce(o,"stroke",p=i[7].z?i[8](i[6][i[35]][0]):i[7].zRange[0]),ce(o,"stroke-width",i[2])},m(x,I){Ye(x,e,I),Ye(x,o,I),a||(_=[jr(e,"mouseover",y),jr(e,"mouseleave",i[25]),jr(e,"focus",F),jr(e,"blur",i[27]),jr(e,"click",Q)],a=!0)},p(x,I){i=x,I[0]&32&&n!==(n=i[20](i[33]))&&ce(e,"d",n),I[0]&32&&l!==(l=i[20](i[33]))&&ce(o,"d",l),I[0]&448&&p!==(p=i[7].z?i[8](i[6][i[35]][0]):i[7].zRange[0])&&ce(o,"stroke",p),I[0]&4&&ce(o,"stroke-width",i[2])},d(x){x&&Be(e),x&&Be(o),a=!1,jA(_)}}}function H_(i){let e,n=i[5],o=[];for(let l=0;l<n.length;l+=1)o[l]=R_(L_(i,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Mt()},l(l){for(let p=0;p<o.length;p+=1)o[p].l(l);e=Mt()},m(l,p){for(let a=0;a<o.length;a+=1)o[a].m(l,p);Ye(l,e,p)},p(l,p){if(p[0]&2031735){n=l[5];let a;for(a=0;a<n.length;a+=1){const _=L_(l,n,a);o[a]?o[a].p(_,p):(o[a]=R_(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){_A(o,l),l&&Be(e)}}}function z_(i){let e,n,o,l;return{c(){e=Cr("path"),this.h()},l(p){e=Qr(p,"path",{class:!0,d:!0,stroke:!0,"stroke-width":!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","path-overlay svelte-rh3b33"),ce(e,"d",n=i[20](i[33])),ce(e,"stroke",o=i[6][i[35]][0][i[16]]==i[0]?i[17]:i[6][i[35]][0][i[16]]==i[1]?i[18]:i[19]),ce(e,"stroke-width",l=i[2]+1.5)},m(p,a){Ye(p,e,a)},p(p,a){a[0]&32&&n!==(n=p[20](p[33]))&&ce(e,"d",n),a[0]&67&&o!==(o=p[6][p[35]][0][p[16]]==p[0]?p[17]:p[6][p[35]][0][p[16]]==p[1]?p[18]:p[19])&&ce(e,"stroke",o),a[0]&4&&l!==(l=p[2]+1.5)&&ce(e,"stroke-width",l)},d(p){p&&Be(e)}}}function R_(i){let e=[i[0],i[1],...i[4]].includes(i[6][i[35]][0][i[16]]),n,o=e&&z_(i);return{c(){o&&o.c(),n=Mt()},l(l){o&&o.l(l),n=Mt()},m(l,p){o&&o.m(l,p),Ye(l,n,p)},p(l,p){p[0]&83&&(e=[l[0],l[1],...l[4]].includes(l[6][l[35]][0][l[16]])),e?o?o.p(l,p):(o=z_(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(l){o&&o.d(l),l&&Be(n)}}}function u4(i){let e,n=i[5]&&D_(i);return{c(){n&&n.c(),e=Mt()},l(o){n&&n.l(o),e=Mt()},m(o,l){n&&n.m(o,l),Ye(o,e,l)},p(o,l){o[5]?n?n.p(o,l):(n=D_(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ir,o:Ir,d(o){n&&n.d(o),o&&Be(e)}}}function c4(i,e,n){let o,l,p,a,_,y,F;const{data:Q,xScale:x,yScale:I,zGet:M,config:k,custom:K}=UA("LayerCake");At(i,Q,at=>n(6,_=at)),At(i,x,at=>n(30,l=at)),At(i,I,at=>n(29,o=at)),At(i,M,at=>n(8,F=at)),At(i,k,at=>n(7,y=at)),At(i,K,at=>n(31,p=at));const $=Ks();let{lineWidth:R=2.5}=e,{hover:V=!1}=e,{hovered:le=null}=e,{select:ee=!1}=e,{selected:me=null}=e,{highlighted:we=[]}=e,Ge=p.coords;At(i,Ge,at=>n(5,a=at));let Le=p.idKey,fe=p.colorHover?p.colorHover:"orange",Ee=p.colorSelect?p.colorSelect:"#206095",ve=p.colorHighlight?p.colorHighlight:"#206095";const De=at=>"M"+at.map(jt=>l(jt.x)+","+o(jt.y)).join("L");function Qe(at,ot){V&&(n(0,le=ot?ot[0][Le]:null),$("hover",{id:le,data:ot,event:at}))}function Ze(at,ot){ee&&(n(1,me=ot?ot[0][Le]:null),$("select",{id:me,data:ot,event:at}))}const Ne=(at,ot)=>Qe(ot,_[at]),Fe=at=>Qe(at,null),rt=(at,ot)=>Qe(ot,_[at]),ct=at=>Qe(at,null),Tt=(at,ot)=>Ze(ot,_[at]);return i.$$set=at=>{"lineWidth"in at&&n(2,R=at.lineWidth),"hover"in at&&n(3,V=at.hover),"hovered"in at&&n(0,le=at.hovered),"select"in at&&n(23,ee=at.select),"selected"in at&&n(1,me=at.selected),"highlighted"in at&&n(4,we=at.highlighted)},[le,me,R,V,we,a,_,y,F,Q,x,I,M,k,K,Ge,Le,fe,Ee,ve,De,Qe,Ze,ee,Ne,Fe,rt,ct,Tt]}class h4 extends Ei{constructor(e){super();Fi(this,e,c4,u4,wi,{lineWidth:2,hover:3,hovered:0,select:23,selected:1,highlighted:4},null,[-1,-1])}}function O_(i,e,n){const o=i.slice();return o[19]=e[n],o[21]=n,o}function K_(i){let e,n=i[1],o=[];for(let l=0;l<n.length;l+=1)o[l]=N_(O_(i,n,l));return{c(){e=Cr("g");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=Qr(l,"g",{class:!0});var p=Et(e);for(let a=0;a<o.length;a+=1)o[a].l(p);p.forEach(Be),this.h()},h(){ce(e,"class","area-group")},m(l,p){Ye(l,e,p);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(l,p){if(p&16447){n=l[1];let a;for(a=0;a<n.length;a+=1){const _=O_(l,n,a);o[a]?o[a].p(_,p):(o[a]=N_(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){l&&Be(e),_A(o,l)}}}function N_(i){let e,n,o;return{c(){e=Cr("path"),this.h()},l(l){e=Qr(l,"path",{class:!0,d:!0,fill:!0,opacity:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","path-area"),ce(e,"d",n=i[14](i[19],i[21])),ce(e,"fill",o=i[2].z?i[3](i[4][i[21]][0]):i[5][0]),ce(e,"opacity",i[0])},m(l,p){Ye(l,e,p)},p(l,p){p&2&&n!==(n=l[14](l[19],l[21]))&&ce(e,"d",n),p&60&&o!==(o=l[2].z?l[3](l[4][l[21]][0]):l[5][0])&&ce(e,"fill",o),p&1&&ce(e,"opacity",l[0])},d(l){l&&Be(e)}}}function f4(i){let e,n=i[1]&&K_(i);return{c(){n&&n.c(),e=Mt()},l(o){n&&n.l(o),e=Mt()},m(o,l){n&&n.m(o,l),Ye(o,e,l)},p(o,[l]){o[1]?n?n.p(o,l):(n=K_(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ir,o:Ir,d(o){n&&n.d(o),o&&Be(e)}}}function p4(i,e,n){let o,l,p,a,_,y,F,Q;const{data:x,xScale:I,yScale:M,zGet:k,zRange:K,config:$,custom:R}=UA("LayerCake");At(i,x,me=>n(4,F=me)),At(i,I,me=>n(16,l=me)),At(i,M,me=>n(15,o=me)),At(i,k,me=>n(3,y=me)),At(i,K,me=>n(5,Q=me)),At(i,$,me=>n(2,_=me)),At(i,R,me=>n(17,a=me));let{opacity:V=1}=e,le=a.coords;At(i,le,me=>n(1,p=me)),a.idKey;const ee=(me,we)=>{let Ge=o.range(),Le="M"+me.map(ve=>l(ve.x)+","+o(ve.y)).join("L"),fe=we==0?"L"+me.map(ve=>l(ve.x)+","+Ge[0]).reverse().join("L"):"L"+[...p[we-1]].reverse().map(ve=>l(ve.x)+","+o(ve.y)).join("L");return Le+fe+"Z"};return i.$$set=me=>{"opacity"in me&&n(0,V=me.opacity)},[V,p,_,y,F,Q,x,I,M,k,K,$,R,le,ee]}class d4 extends Ei{constructor(e){super();Fi(this,e,p4,f4,wi,{opacity:0})}}function V_(i,e,n){const o=i.slice();return o[24]=e[n],o[26]=n,o}function G_(i){let e,n;return{c(){e=Cr("line"),this.h()},l(o){e=Qr(o,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0,style:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","gridline svelte-r9f2bw"),ce(e,"y1",n=i[17]*-1),ce(e,"y2","0"),ce(e,"x1","0"),ce(e,"x2","0"),gr(e,"stroke",i[3]),Dn(e,"dashed",i[1])},m(o,l){Ye(o,e,l)},p(o,l){l&131072&&n!==(n=o[17]*-1)&&ce(e,"y1",n),l&8&&gr(e,"stroke",o[3]),l&2&&Dn(e,"dashed",o[1])},d(o){o&&Be(e)}}}function X_(i){let e,n,o;return{c(){e=Cr("line"),this.h()},l(l){e=Qr(l,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0,style:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","tick-mark svelte-r9f2bw"),ce(e,"y1",0),ce(e,"y2",6),ce(e,"x1",n=i[7]||i[13]?i[14].bandwidth()/2:0),ce(e,"x2",o=i[7]||i[13]?i[14].bandwidth()/2:0),gr(e,"stroke",i[3])},m(l,p){Ye(l,e,p)},p(l,p){p&24704&&n!==(n=l[7]||l[13]?l[14].bandwidth()/2:0)&&ce(e,"x1",n),p&24704&&o!==(o=l[7]||l[13]?l[14].bandwidth()/2:0)&&ce(e,"x2",o),p&8&&gr(e,"stroke",l[3])},d(l){l&&Be(e)}}}function j_(i){let e,n,o,l=(i[26]==i[15].length-1?i[11]+i[5](i[24])+i[12]:i[5](i[24]))+"",p,a,_,y,F,Q=i[0]!==!1&&G_(i),x=i[2]===!0&&X_(i);return{c(){e=Cr("g"),Q&&Q.c(),n=Mt(),x&&x.c(),o=Cr("text"),p=hn(l),this.h()},l(I){e=Qr(I,"g",{class:!0,transform:!0});var M=Et(e);Q&&Q.l(M),n=Mt(),x&&x.l(M),o=Qr(M,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,style:!0,class:!0});var k=Et(o);p=Hn(k,l),k.forEach(Be),M.forEach(Be),this.h()},h(){ce(o,"x",a=i[7]||i[13]?i[14].bandwidth()/2:0),ce(o,"y",i[8]),ce(o,"dx",i[9]),ce(o,"dy",i[10]),ce(o,"text-anchor",_=i[21](i[26])),gr(o,"fill",i[4]),ce(o,"class","svelte-r9f2bw"),ce(e,"class",y="tick tick-"+i[24]+" svelte-r9f2bw"),ce(e,"transform",F="translate("+i[14](i[24])+","+i[16][0]+")")},m(I,M){Ye(I,e,M),Q&&Q.m(e,null),Ot(e,n),x&&x.m(e,null),Ot(e,o),Ot(o,p)},p(I,M){I[0]!==!1?Q?Q.p(I,M):(Q=G_(I),Q.c(),Q.m(e,n)):Q&&(Q.d(1),Q=null),I[2]===!0?x?x.p(I,M):(x=X_(I),x.c(),x.m(e,o)):x&&(x.d(1),x=null),M&38944&&l!==(l=(I[26]==I[15].length-1?I[11]+I[5](I[24])+I[12]:I[5](I[24]))+"")&&EA(p,l),M&24704&&a!==(a=I[7]||I[13]?I[14].bandwidth()/2:0)&&ce(o,"x",a),M&256&&ce(o,"y",I[8]),M&512&&ce(o,"dx",I[9]),M&1024&&ce(o,"dy",I[10]),M&16&&gr(o,"fill",I[4]),M&32768&&y!==(y="tick tick-"+I[24]+" svelte-r9f2bw")&&ce(e,"class",y),M&114688&&F!==(F="translate("+I[14](I[24])+","+I[16][0]+")")&&ce(e,"transform",F)},d(I){I&&Be(e),Q&&Q.d(),x&&x.d()}}}function g4(i){let e,n=i[15],o=[];for(let l=0;l<n.length;l+=1)o[l]=j_(V_(i,n,l));return{c(){e=Cr("g");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=Qr(l,"g",{class:!0});var p=Et(e);for(let a=0;a<o.length;a+=1)o[a].l(p);p.forEach(Be),this.h()},h(){ce(e,"class","axis x-axis svelte-r9f2bw"),Dn(e,"snapTicks",i[6])},m(l,p){Ye(l,e,p);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(l,[p]){if(p&2359231){n=l[15];let a;for(a=0;a<n.length;a+=1){const _=V_(l,n,a);o[a]?o[a].p(_,p):(o[a]=j_(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}p&64&&Dn(e,"snapTicks",l[6])},i:Ir,o:Ir,d(l){l&&Be(e),_A(o,l)}}}function m4(i,e,n){let o,l,p,a,_;const{width:y,height:F,xScale:Q,yRange:x}=UA("LayerCake");At(i,F,ve=>n(17,_=ve)),At(i,Q,ve=>n(14,p=ve)),At(i,x,ve=>n(16,a=ve));let{gridlines:I=!0}=e,{tickDashed:M=!1}=e,{tickMarks:k=!1}=e,{tickColor:K="#bbb"}=e,{textColor:$="#666"}=e,{formatTick:R=ve=>ve}=e,{snapTicks:V=!1}=e,{ticks:le=void 0}=e,{xTick:ee=void 0}=e,{yTick:me=16}=e,{dxTick:we=0}=e,{dyTick:Ge=0}=e,{prefix:Le=""}=e,{suffix:fe=""}=e;function Ee(ve){if(V===!0){if(ve===0)return"start";if(ve===l.length-1)return"end"}return"middle"}return i.$$set=ve=>{"gridlines"in ve&&n(0,I=ve.gridlines),"tickDashed"in ve&&n(1,M=ve.tickDashed),"tickMarks"in ve&&n(2,k=ve.tickMarks),"tickColor"in ve&&n(3,K=ve.tickColor),"textColor"in ve&&n(4,$=ve.textColor),"formatTick"in ve&&n(5,R=ve.formatTick),"snapTicks"in ve&&n(6,V=ve.snapTicks),"ticks"in ve&&n(22,le=ve.ticks),"xTick"in ve&&n(7,ee=ve.xTick),"yTick"in ve&&n(8,me=ve.yTick),"dxTick"in ve&&n(9,we=ve.dxTick),"dyTick"in ve&&n(10,Ge=ve.dyTick),"prefix"in ve&&n(11,Le=ve.prefix),"suffix"in ve&&n(12,fe=ve.suffix)},i.$$.update=()=>{i.$$.dirty&16384&&n(13,o=typeof p.bandwidth=="function"),i.$$.dirty&4218880&&n(15,l=Array.isArray(le)?le:o?p.domain():typeof le=="function"?le(p.ticks()):p.ticks(le))},[I,M,k,K,$,R,V,ee,me,we,Ge,Le,fe,o,p,l,a,_,F,Q,x,Ee,le]}class $g extends Ei{constructor(e){super();Fi(this,e,m4,g4,wi,{gridlines:0,tickDashed:1,tickMarks:2,tickColor:3,textColor:4,formatTick:5,snapTicks:6,ticks:22,xTick:7,yTick:8,dxTick:9,dyTick:10,prefix:11,suffix:12})}}function Z_(i,e,n){const o=i.slice();return o[22]=e[n],o[24]=n,o}function q_(i){let e,n,o;return{c(){e=Cr("line"),this.h()},l(l){e=Qr(l,"line",{class:!0,x2:!0,y1:!0,y2:!0,style:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","gridline svelte-f7wn4m"),ce(e,"x2","100%"),ce(e,"y1",n=i[7]+(i[13]?i[14].bandwidth()/2:0)),ce(e,"y2",o=i[7]+(i[13]?i[14].bandwidth()/2:0)),gr(e,"stroke",i[3]),Dn(e,"dashed",i[2])},m(l,p){Ye(l,e,p)},p(l,p){p&24704&&n!==(n=l[7]+(l[13]?l[14].bandwidth()/2:0))&&ce(e,"y1",n),p&24704&&o!==(o=l[7]+(l[13]?l[14].bandwidth()/2:0))&&ce(e,"y2",o),p&8&&gr(e,"stroke",l[3]),p&4&&Dn(e,"dashed",l[2])},d(l){l&&Be(e)}}}function W_(i){let e,n,o,l;return{c(){e=Cr("line"),this.h()},l(p){e=Qr(p,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0,style:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","tick-mark svelte-f7wn4m"),ce(e,"x1","0"),ce(e,"x2",n=i[13]?-6:6),ce(e,"y1",o=i[7]+(i[13]?i[14].bandwidth()/2:0)),ce(e,"y2",l=i[7]+(i[13]?i[14].bandwidth()/2:0)),gr(e,"stroke",i[3])},m(p,a){Ye(p,e,a)},p(p,a){a&8192&&n!==(n=p[13]?-6:6)&&ce(e,"x2",n),a&24704&&o!==(o=p[7]+(p[13]?p[14].bandwidth()/2:0))&&ce(e,"y1",o),a&24704&&l!==(l=p[7]+(p[13]?p[14].bandwidth()/2:0))&&ce(e,"y2",l),a&8&&gr(e,"stroke",p[3])},d(p){p&&Be(e)}}}function J_(i){let e,n,o,l=(i[24]==i[15].length-1?i[11]+i[5](i[22])+i[12]:i[5](i[22]))+"",p,a,_,y,F,Q,x=i[1]!==!1&&q_(i),I=i[0]===!0&&W_(i);return{c(){e=Cr("g"),x&&x.c(),n=Mt(),I&&I.c(),o=Cr("text"),p=hn(l),this.h()},l(M){e=Qr(M,"g",{class:!0,transform:!0});var k=Et(e);x&&x.l(k),n=Mt(),I&&I.l(k),o=Qr(k,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0});var K=Et(o);p=Hn(K,l),K.forEach(Be),k.forEach(Be),this.h()},h(){ce(o,"x",i[6]),ce(o,"y",a=i[7]+(i[13]?i[14].bandwidth()/2:0)),ce(o,"dx",_=i[13]?-4:i[8]),ce(o,"dy",y=i[13]?4:i[9]),gr(o,"text-anchor",i[13]?"end":i[10]),gr(o,"fill",i[4]),ce(e,"class",F="tick tick-"+i[22]+" svelte-f7wn4m"),ce(e,"transform",Q="translate("+(i[17][0]+(i[13]?i[16].left:0))+", "+i[14](i[22])+")")},m(M,k){Ye(M,e,k),x&&x.m(e,null),Ot(e,n),I&&I.m(e,null),Ot(e,o),Ot(o,p)},p(M,k){M[1]!==!1?x?x.p(M,k):(x=q_(M),x.c(),x.m(e,n)):x&&(x.d(1),x=null),M[0]===!0?I?I.p(M,k):(I=W_(M),I.c(),I.m(e,o)):I&&(I.d(1),I=null),k&38944&&l!==(l=(M[24]==M[15].length-1?M[11]+M[5](M[22])+M[12]:M[5](M[22]))+"")&&EA(p,l),k&64&&ce(o,"x",M[6]),k&24704&&a!==(a=M[7]+(M[13]?M[14].bandwidth()/2:0))&&ce(o,"y",a),k&8448&&_!==(_=M[13]?-4:M[8])&&ce(o,"dx",_),k&8704&&y!==(y=M[13]?4:M[9])&&ce(o,"dy",y),k&9216&&gr(o,"text-anchor",M[13]?"end":M[10]),k&16&&gr(o,"fill",M[4]),k&32768&&F!==(F="tick tick-"+M[22]+" svelte-f7wn4m")&&ce(e,"class",F),k&253952&&Q!==(Q="translate("+(M[17][0]+(M[13]?M[16].left:0))+", "+M[14](M[22])+")")&&ce(e,"transform",Q)},d(M){M&&Be(e),x&&x.d(),I&&I.d()}}}function y4(i){let e,n,o=i[15],l=[];for(let p=0;p<o.length;p+=1)l[p]=J_(Z_(i,o,p));return{c(){e=Cr("g");for(let p=0;p<l.length;p+=1)l[p].c();this.h()},l(p){e=Qr(p,"g",{class:!0,transform:!0});var a=Et(e);for(let _=0;_<l.length;_+=1)l[_].l(a);a.forEach(Be),this.h()},h(){ce(e,"class","axis y-axis"),ce(e,"transform",n="translate("+-i[16].left+", 0)")},m(p,a){Ye(p,e,a);for(let _=0;_<l.length;_+=1)l[_].m(e,null)},p(p,[a]){if(a&262143){o=p[15];let _;for(_=0;_<o.length;_+=1){const y=Z_(p,o,_);l[_]?l[_].p(y,a):(l[_]=J_(y),l[_].c(),l[_].m(e,null))}for(;_<l.length;_+=1)l[_].d(1);l.length=o.length}a&65536&&n!==(n="translate("+-p[16].left+", 0)")&&ce(e,"transform",n)},i:Ir,o:Ir,d(p){p&&Be(e),_A(l,p)}}}function _4(i,e,n){let o,l,p,a,_;const{padding:y,xRange:F,yScale:Q}=UA("LayerCake");At(i,y,fe=>n(16,a=fe)),At(i,F,fe=>n(17,_=fe)),At(i,Q,fe=>n(14,p=fe));let{ticks:x=4}=e,{tickMarks:I=!1}=e,{gridlines:M=!0}=e,{tickDashed:k=!1}=e,{tickColor:K="#bbb"}=e,{textColor:$="#666"}=e,{formatTick:R=fe=>fe}=e,{xTick:V=0}=e,{yTick:le=0}=e,{dxTick:ee=0}=e,{dyTick:me=-4}=e,{textAnchor:we="start"}=e,{prefix:Ge=""}=e,{suffix:Le=""}=e;return i.$$set=fe=>{"ticks"in fe&&n(21,x=fe.ticks),"tickMarks"in fe&&n(0,I=fe.tickMarks),"gridlines"in fe&&n(1,M=fe.gridlines),"tickDashed"in fe&&n(2,k=fe.tickDashed),"tickColor"in fe&&n(3,K=fe.tickColor),"textColor"in fe&&n(4,$=fe.textColor),"formatTick"in fe&&n(5,R=fe.formatTick),"xTick"in fe&&n(6,V=fe.xTick),"yTick"in fe&&n(7,le=fe.yTick),"dxTick"in fe&&n(8,ee=fe.dxTick),"dyTick"in fe&&n(9,me=fe.dyTick),"textAnchor"in fe&&n(10,we=fe.textAnchor),"prefix"in fe&&n(11,Ge=fe.prefix),"suffix"in fe&&n(12,Le=fe.suffix)},i.$$.update=()=>{i.$$.dirty&16384&&n(13,o=typeof p.bandwidth=="function"),i.$$.dirty&2121728&&n(15,l=Array.isArray(x)?x:o?p.domain():typeof x=="function"?x(p.ticks()):p.ticks(x))},[I,M,k,K,$,R,V,le,ee,me,we,Ge,Le,o,p,l,a,_,y,F,Q,x]}class em extends Ei{constructor(e){super();Fi(this,e,_4,y4,wi,{ticks:21,tickMarks:0,gridlines:1,tickDashed:2,tickColor:3,textColor:4,formatTick:5,xTick:6,yTick:7,dxTick:8,dyTick:9,textAnchor:10,prefix:11,suffix:12})}}function Y_(i,e,n){const o=i.slice();return o[8]=e[n],o[10]=n,o}function $_(i){let e,n=i[0],o=[];for(let l=0;l<n.length;l+=1)o[l]=ev(Y_(i,n,l));return{c(){e=Sr("ul");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=Or(l,"UL",{class:!0});var p=Et(e);for(let a=0;a<o.length;a+=1)o[a].l(p);p.forEach(Be),this.h()},h(){ce(e,"class","legend svelte-1w19nmy")},m(l,p){Ye(l,e,p);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(l,p){if(p&255){n=l[0];let a;for(a=0;a<n.length;a+=1){const _=Y_(l,n,a);o[a]?o[a].p(_,p):(o[a]=ev(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){l&&Be(e),_A(o,l)}}}function ev(i){let e,n,o,l=i[8]+"",p,a;return{c(){e=Sr("li"),n=Sr("div"),o=ir(),p=hn(l),a=ir(),this.h()},l(_){e=Or(_,"LI",{class:!0});var y=Et(e);n=Or(y,"DIV",{class:!0,style:!0}),Et(n).forEach(Be),o=nr(y),p=Hn(y,l),a=nr(y),y.forEach(Be),this.h()},h(){ce(n,"class","bullet svelte-1w19nmy"),gr(n,"background-color",i[1][i[10]]),gr(n,"width",(!i[4]&&(i[2]||i[3]&&i[10]!=0)?i[5]:i[6])+"px"),gr(n,"height",(i[4]&&(i[2]||i[3]&&i[10]!=0)?i[5]:i[6])+"px"),Dn(n,"round",i[7]),ce(e,"class","svelte-1w19nmy")},m(_,y){Ye(_,e,y),Ot(e,n),Ot(e,o),Ot(e,p),Ot(e,a)},p(_,y){y&2&&gr(n,"background-color",_[1][_[10]]),y&124&&gr(n,"width",(!_[4]&&(_[2]||_[3]&&_[10]!=0)?_[5]:_[6])+"px"),y&124&&gr(n,"height",(_[4]&&(_[2]||_[3]&&_[10]!=0)?_[5]:_[6])+"px"),y&128&&Dn(n,"round",_[7]),y&1&&l!==(l=_[8]+"")&&EA(p,l)},d(_){_&&Be(e)}}}function v4(i){let e=Array.isArray(i[0])&&Array.isArray(i[1]),n,o=e&&$_(i);return{c(){o&&o.c(),n=Mt()},l(l){o&&o.l(l),n=Mt()},m(l,p){o&&o.m(l,p),Ye(l,n,p)},p(l,[p]){p&3&&(e=Array.isArray(l[0])&&Array.isArray(l[1])),e?o?o.p(l,p):(o=$_(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Ir,o:Ir,d(l){o&&o.d(l),l&&Be(n)}}}function w4(i,e,n){let{domain:o=null}=e,{colors:l=null}=e,{line:p=!1}=e,{comparison:a=!1}=e,{horizontal:_=!0}=e,{markerWidth:y=2.5}=e,{markerLength:F=13}=e,{round:Q=!1}=e;return i.$$set=x=>{"domain"in x&&n(0,o=x.domain),"colors"in x&&n(1,l=x.colors),"line"in x&&n(2,p=x.line),"comparison"in x&&n(3,a=x.comparison),"horizontal"in x&&n(4,_=x.horizontal),"markerWidth"in x&&n(5,y=x.markerWidth),"markerLength"in x&&n(6,F=x.markerLength),"round"in x&&n(7,Q=x.round)},[o,l,p,a,_,y,F,Q]}class tm extends Ei{constructor(e){super();Fi(this,e,w4,v4,wi,{domain:0,colors:1,line:2,comparison:3,horizontal:4,markerWidth:5,markerLength:6,round:7})}}function B4(i){let e,n;const o=i[1].default,l=Cn(o,i,i[0],null);return{c(){e=Sr("div"),l&&l.c(),this.h()},l(p){e=Or(p,"DIV",{class:!0});var a=Et(e);l&&l.l(a),a.forEach(Be),this.h()},h(){ce(e,"class","title svelte-b06b69")},m(p,a){Ye(p,e,a),l&&l.m(e,null),n=!0},p(p,[a]){l&&l.p&&(!n||a&1)&&En(l,o,p,p[0],n?Fn(o,p[0],a,null):Un(p[0]),null)},i(p){n||(Te(l,p),n=!0)},o(p){Xe(l,p),n=!1},d(p){p&&Be(e),l&&l.d(p)}}}function b4(i,e,n){let{$$slots:o={},$$scope:l}=e;return i.$$set=p=>{"$$scope"in p&&n(0,l=p.$$scope)},[l,o]}class rm extends Ei{constructor(e){super();Fi(this,e,b4,B4,wi,{})}}function x4(i){let e,n;const o=i[1].default,l=Cn(o,i,i[0],null);return{c(){e=Sr("div"),l&&l.c(),this.h()},l(p){e=Or(p,"DIV",{class:!0});var a=Et(e);l&&l.l(a),a.forEach(Be),this.h()},h(){ce(e,"class","footer svelte-7jvwfp")},m(p,a){Ye(p,e,a),l&&l.m(e,null),n=!0},p(p,[a]){l&&l.p&&(!n||a&1)&&En(l,o,p,p[0],n?Fn(o,p[0],a,null):Un(p[0]),null)},i(p){n||(Te(l,p),n=!0)},o(p){Xe(l,p),n=!1},d(p){p&&Be(e),l&&l.d(p)}}}function C4(i,e,n){let{$$slots:o={},$$scope:l}=e;return i.$$set=p=>{"$$scope"in p&&n(0,l=p.$$scope)},[l,o]}class im extends Ei{constructor(e){super();Fi(this,e,C4,x4,wi,{})}}function tv(i,e,n){const o=i.slice();return o[15]=e[n],o[17]=n,o}function rv(i,e,n){const o=i.slice();return o[15]=e[n],o[17]=n,o}function iv(i){let e,n,o,l,p,a,_,y;function F(I,M){if(I[3][0]&&I[3][0].x)return E4;if(I[3][0]&&I[3][0][0]&&I[3][0][0].x)return F4}let Q=F(i),x=Q&&Q(i);return{c(){e=Cr("defs"),n=Cr("filter"),o=Cr("feFlood"),l=Cr("feMerge"),p=Cr("feMergeNode"),a=Cr("feMergeNode"),_=ir(),y=Cr("g"),x&&x.c(),this.h()},l(I){e=Qr(I,"defs",{});var M=Et(e);n=Qr(M,"filter",{x:!0,y:!0,width:!0,height:!0,id:!0});var k=Et(n);o=Qr(k,"feFlood",{"flood-color":!0,result:!0}),Et(o).forEach(Be),l=Qr(k,"feMerge",{});var K=Et(l);p=Qr(K,"feMergeNode",{in:!0}),Et(p).forEach(Be),a=Qr(K,"feMergeNode",{in:!0}),Et(a).forEach(Be),K.forEach(Be),k.forEach(Be),M.forEach(Be),_=nr(I),y=Qr(I,"g",{class:!0});var $=Et(y);x&&x.l($),$.forEach(Be),this.h()},h(){ce(o,"flood-color","rgba(255,255,255,0.8)"),ce(o,"result","bg"),ce(p,"in","bg"),ce(a,"in","SourceGraphic"),ce(n,"x","0"),ce(n,"y","0"),ce(n,"width","1"),ce(n,"height","1"),ce(n,"id","bgfill"),ce(y,"class","label-group")},m(I,M){Ye(I,e,M),Ot(e,n),Ot(n,o),Ot(n,l),Ot(l,p),Ot(l,a),Ye(I,_,M),Ye(I,y,M),x&&x.m(y,null)},p(I,M){Q===(Q=F(I))&&x?x.p(I,M):(x&&x.d(1),x=Q&&Q(I),x&&(x.c(),x.m(y,null)))},d(I){I&&Be(e),I&&Be(_),I&&Be(y),x&&x.d()}}}function F4(i){let e,n=i[3],o=[];for(let l=0;l<n.length;l+=1)o[l]=Av(tv(i,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Mt()},l(l){for(let p=0;p<o.length;p+=1)o[p].l(l);e=Mt()},m(l,p){for(let a=0;a<o.length;a+=1)o[a].m(l,p);Ye(l,e,p)},p(l,p){if(p&12415){n=l[3];let a;for(a=0;a<n.length;a+=1){const _=tv(l,n,a);o[a]?o[a].p(_,p):(o[a]=Av(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){_A(o,l),l&&Be(e)}}}function E4(i){let e,n=i[3],o=[];for(let l=0;l<n.length;l+=1)o[l]=av(rv(i,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Mt()},l(l){for(let p=0;p<o.length;p+=1)o[p].l(l);e=Mt()},m(l,p){for(let a=0;a<o.length;a+=1)o[a].m(l,p);Ye(l,e,p)},p(l,p){if(p&12415){n=l[3];let a;for(a=0;a<n.length;a+=1){const _=rv(l,n,a);o[a]?o[a].p(_,p):(o[a]=av(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){_A(o,l),l&&Be(e)}}}function nv(i){let e,n=(i[2]?i[2]:i[4][i[17]][0][i[13]])+"",o,l,p;return{c(){e=Cr("text"),o=hn(n),this.h()},l(a){e=Qr(a,"text",{class:!0,transform:!0,filter:!0,fill:!0,x:!0,y:!0});var _=Et(e);o=Hn(_,n),_.forEach(Be),this.h()},h(){ce(e,"class","label svelte-1ijkebl"),ce(e,"transform","translate(2,3)"),ce(e,"filter","url(#bgfill)"),ce(e,"fill","#333"),ce(e,"x",l=i[5](i[15][i[15].length-1].x)),ce(e,"y",p=i[6](i[15][i[15].length-1].y))},m(a,_){Ye(a,e,_),Ot(e,o)},p(a,_){_&20&&n!==(n=(a[2]?a[2]:a[4][a[17]][0][a[13]])+"")&&EA(o,n),_&40&&l!==(l=a[5](a[15][a[15].length-1].x))&&ce(e,"x",l),_&72&&p!==(p=a[6](a[15][a[15].length-1].y))&&ce(e,"y",p)},d(a){a&&Be(e)}}}function Av(i){let e=[i[0],i[1]].includes(i[4][i[17]][0][i[12]]),n,o=e&&nv(i);return{c(){o&&o.c(),n=Mt()},l(l){o&&o.l(l),n=Mt()},m(l,p){o&&o.m(l,p),Ye(l,n,p)},p(l,p){p&19&&(e=[l[0],l[1]].includes(l[4][l[17]][0][l[12]])),e?o?o.p(l,p):(o=nv(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(l){o&&o.d(l),l&&Be(n)}}}function ov(i){let e,n=(i[2]?i[2]:i[4][i[17]][i[13]])+"",o,l,p;return{c(){e=Cr("text"),o=hn(n),this.h()},l(a){e=Qr(a,"text",{class:!0,transform:!0,filter:!0,fill:!0,x:!0,y:!0});var _=Et(e);o=Hn(_,n),_.forEach(Be),this.h()},h(){ce(e,"class","label svelte-1ijkebl"),ce(e,"transform","translate(5,-5)"),ce(e,"filter","url(#bgfill)"),ce(e,"fill","#333"),ce(e,"x",l=i[5](i[15].x)),ce(e,"y",p=i[6](i[15].y))},m(a,_){Ye(a,e,_),Ot(e,o)},p(a,_){_&20&&n!==(n=(a[2]?a[2]:a[4][a[17]][a[13]])+"")&&EA(o,n),_&40&&l!==(l=a[5](a[15].x))&&ce(e,"x",l),_&72&&p!==(p=a[6](a[15].y))&&ce(e,"y",p)},d(a){a&&Be(e)}}}function av(i){let e=[i[0],i[1]].includes(i[4][i[17]][i[12]]),n,o=e&&ov(i);return{c(){o&&o.c(),n=Mt()},l(l){o&&o.l(l),n=Mt()},m(l,p){o&&o.m(l,p),Ye(l,n,p)},p(l,p){p&19&&(e=[l[0],l[1]].includes(l[4][l[17]][l[12]])),e?o?o.p(l,p):(o=ov(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(l){o&&o.d(l),l&&Be(n)}}}function U4(i){let e,n=i[3]&&iv(i);return{c(){n&&n.c(),e=Mt()},l(o){n&&n.l(o),e=Mt()},m(o,l){n&&n.m(o,l),Ye(o,e,l)},p(o,[l]){o[3]?n?n.p(o,l):(n=iv(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ir,o:Ir,d(o){n&&n.d(o),o&&Be(e)}}}function Q4(i,e,n){let o,l,p,a,_;const{data:y,xScale:F,yScale:Q,custom:x}=UA("LayerCake");At(i,y,V=>n(4,p=V)),At(i,F,V=>n(5,a=V)),At(i,Q,V=>n(6,_=V)),At(i,x,V=>n(14,o=V));let{hovered:I=null}=e,{selected:M=null}=e,{content:k=null}=e,K=o.coords;At(i,K,V=>n(3,l=V));let $=o.idKey,R=o.labelKey;return i.$$set=V=>{"hovered"in V&&n(0,I=V.hovered),"selected"in V&&n(1,M=V.selected),"content"in V&&n(2,k=V.content)},[I,M,k,l,p,a,_,y,F,Q,x,K,$,R]}class Jw extends Ei{constructor(e){super();Fi(this,e,Q4,U4,wi,{hovered:0,selected:1,content:2})}}function sv(i){let e,n,o,l;return{c(){e=Sr("button"),n=hn("CSV"),this.h()},l(p){e=Or(p,"BUTTON",{class:!0});var a=Et(e);n=Hn(a,"CSV"),a.forEach(Be),this.h()},h(){ce(e,"class","svelte-1wgwv12")},m(p,a){Ye(p,e,a),Ot(e,n),o||(l=jr(e,"click",i[5]),o=!0)},p:Ir,d(p){p&&Be(e),o=!1,l()}}}function lv(i){let e,n,o,l;return{c(){e=Sr("button"),n=hn("PNG"),this.h()},l(p){e=Or(p,"BUTTON",{class:!0});var a=Et(e);n=Hn(a,"PNG"),a.forEach(Be),this.h()},h(){ce(e,"class","svelte-1wgwv12")},m(p,a){Ye(p,e,a),Ot(e,n),o||(l=jr(e,"click",i[6]),o=!0)},p:Ir,d(p){p&&Be(e),o=!1,l()}}}function I4(i){let e,n,o,l=i[4].csv&&sv(i),p=i[4].png&&lv(i);return{c(){e=Sr("div"),n=hn(`Export: 
  `),l&&l.c(),o=ir(),p&&p.c(),this.h()},l(a){e=Or(a,"DIV",{class:!0});var _=Et(e);n=Hn(_,`Export: 
  `),l&&l.l(_),o=nr(_),p&&p.l(_),_.forEach(Be),this.h()},h(){ce(e,"class","export svelte-1wgwv12")},m(a,_){Ye(a,e,_),Ot(e,n),l&&l.m(e,null),Ot(e,o),p&&p.m(e,null)},p(a,[_]){a[4].csv?l?l.p(a,_):(l=sv(a),l.c(),l.m(e,o)):l&&(l.d(1),l=null),a[4].png?p?p.p(a,_):(p=lv(a),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:Ir,o:Ir,d(a){a&&Be(e),l&&l.d(),p&&p.d()}}}function S4(i,e,n){let{el:o}=e,{data:l}=e,{keys:p=[]}=e,{title:a=null}=e,{output:_={}}=e;const y=()=>A4(l,p,a||"chart"),F=()=>o4(o,a||"chart");return i.$$set=Q=>{"el"in Q&&n(0,o=Q.el),"data"in Q&&n(1,l=Q.data),"keys"in Q&&n(2,p=Q.keys),"title"in Q&&n(3,a=Q.title),"output"in Q&&n(4,_=Q.output)},[o,l,p,a,_,y,F]}class nm extends Ei{constructor(e){super();Fi(this,e,S4,I4,wi,{el:0,data:1,keys:2,title:3,output:4})}}const T4=i=>({}),uv=i=>({}),k4=i=>({}),cv=i=>({}),L4=i=>({}),hv=i=>({}),M4=i=>({}),fv=i=>({});function pv(i){let e,n;return e=new rm({props:{$$slots:{default:[D4]},$$scope:{ctx:i}}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&1048576|l[1]&268435456&&(p.$$scope={dirty:l,ctx:o}),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function D4(i){let e;return{c(){e=hn(i[20])},l(n){e=Hn(n,i[20])},m(n,o){Ye(n,e,o)},p(n,o){o[0]&1048576&&EA(e,n[20])},d(n){n&&Be(e)}}}function dv(i){let e,n;return e=new $g({props:{ticks:i[18],snapTicks:i[24],prefix:i[33],suffix:i[34]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&262144&&(p.ticks=o[18]),l[0]&16777216&&(p.snapTicks=o[24]),l[1]&4&&(p.prefix=o[33]),l[1]&8&&(p.suffix=o[34]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function gv(i){let e,n;return e=new em({props:{ticks:i[19],formatTick:i[15],prefix:i[35],suffix:i[36]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&524288&&(p.ticks=o[19]),l[0]&32768&&(p.formatTick=o[15]),l[1]&16&&(p.prefix=o[35]),l[1]&32&&(p.suffix=o[36]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function mv(i){let e,n;return e=new d4({props:{mode:i[27],opacity:i[28]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&134217728&&(p.mode=o[27]),l[0]&268435456&&(p.opacity=o[28]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function yv(i){let e,n,o,l;function p(y){i[54](y)}function a(y){i[55](y)}let _={lineWidth:i[31],select:i[39],hover:i[37],highlighted:i[41]};return i[1]!==void 0&&(_.selected=i[1]),i[0]!==void 0&&(_.hovered=i[0]),e=new h4({props:_}),zn.push(()=>iu(e,"selected",p)),zn.push(()=>iu(e,"hovered",a)),e.$on("hover",i[56]),e.$on("select",i[57]),{c(){dr(e.$$.fragment)},l(y){Lr(e.$$.fragment,y)},m(y,F){lr(e,y,F),l=!0},p(y,F){const Q={};F[1]&1&&(Q.lineWidth=y[31]),F[1]&256&&(Q.select=y[39]),F[1]&64&&(Q.hover=y[37]),F[1]&1024&&(Q.highlighted=y[41]),!n&&F[0]&2&&(n=!0,Q.selected=y[1],Uc(()=>n=!1)),!o&&F[0]&1&&(o=!0,Q.hovered=y[0],Uc(()=>o=!1)),e.$set(Q)},i(y){l||(Te(e.$$.fragment,y),l=!0)},o(y){Xe(e.$$.fragment,y),l=!1},d(y){ur(e,y)}}}function _v(i){let e,n;return e=new Jw({props:{hovered:i[0],selected:i[1]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&1&&(p.hovered=o[0]),l[0]&2&&(p.selected=o[1]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function P4(i){let e,n,o,l,p,a,_=i[16]&&dv(i),y=i[17]&&gv(i),F=i[26]&&mv(i),Q=i[25]&&yv(i),x=i[23]&&_v(i);const I=i[53].svg,M=Cn(I,i,i[59],cv);return{c(){_&&_.c(),e=ir(),y&&y.c(),n=ir(),F&&F.c(),o=ir(),Q&&Q.c(),l=ir(),x&&x.c(),p=ir(),M&&M.c()},l(k){_&&_.l(k),e=nr(k),y&&y.l(k),n=nr(k),F&&F.l(k),o=nr(k),Q&&Q.l(k),l=nr(k),x&&x.l(k),p=nr(k),M&&M.l(k)},m(k,K){_&&_.m(k,K),Ye(k,e,K),y&&y.m(k,K),Ye(k,n,K),F&&F.m(k,K),Ye(k,o,K),Q&&Q.m(k,K),Ye(k,l,K),x&&x.m(k,K),Ye(k,p,K),M&&M.m(k,K),a=!0},p(k,K){k[16]?_?(_.p(k,K),K[0]&65536&&Te(_,1)):(_=dv(k),_.c(),Te(_,1),_.m(e.parentNode,e)):_&&(Fr(),Xe(_,1,1,()=>{_=null}),Er()),k[17]?y?(y.p(k,K),K[0]&131072&&Te(y,1)):(y=gv(k),y.c(),Te(y,1),y.m(n.parentNode,n)):y&&(Fr(),Xe(y,1,1,()=>{y=null}),Er()),k[26]?F?(F.p(k,K),K[0]&67108864&&Te(F,1)):(F=mv(k),F.c(),Te(F,1),F.m(o.parentNode,o)):F&&(Fr(),Xe(F,1,1,()=>{F=null}),Er()),k[25]?Q?(Q.p(k,K),K[0]&33554432&&Te(Q,1)):(Q=yv(k),Q.c(),Te(Q,1),Q.m(l.parentNode,l)):Q&&(Fr(),Xe(Q,1,1,()=>{Q=null}),Er()),k[23]?x?(x.p(k,K),K[0]&8388608&&Te(x,1)):(x=_v(k),x.c(),Te(x,1),x.m(p.parentNode,p)):x&&(Fr(),Xe(x,1,1,()=>{x=null}),Er()),M&&M.p&&(!a||K[1]&268435456)&&En(M,I,k,k[59],a?Fn(I,k[59],K,k4):Un(k[59]),cv)},i(k){a||(Te(_),Te(y),Te(F),Te(Q),Te(x),Te(M,k),a=!0)},o(k){Xe(_),Xe(y),Xe(F),Xe(Q),Xe(x),Xe(M,k),a=!1},d(k){_&&_.d(k),k&&Be(e),y&&y.d(k),k&&Be(n),F&&F.d(k),k&&Be(o),Q&&Q.d(k),k&&Be(l),x&&x.d(k),k&&Be(p),M&&M.d(k)}}}function H4(i){let e,n,o,l,p,a;e=new Yg({});const _=i[53].back,y=Cn(_,i,i[59],hv);l=new Ng({props:{pointerEvents:i[32],$$slots:{default:[P4]},$$scope:{ctx:i}}});const F=i[53].front,Q=Cn(F,i,i[59],uv);return{c(){dr(e.$$.fragment),n=ir(),y&&y.c(),o=ir(),dr(l.$$.fragment),p=ir(),Q&&Q.c()},l(x){Lr(e.$$.fragment,x),n=nr(x),y&&y.l(x),o=nr(x),Lr(l.$$.fragment,x),p=nr(x),Q&&Q.l(x)},m(x,I){lr(e,x,I),Ye(x,n,I),y&&y.m(x,I),Ye(x,o,I),lr(l,x,I),Ye(x,p,I),Q&&Q.m(x,I),a=!0},p(x,I){y&&y.p&&(!a||I[1]&268435456)&&En(y,_,x,x[59],a?Fn(_,x[59],I,L4):Un(x[59]),hv);const M={};I[1]&2&&(M.pointerEvents=x[32]),I[0]&529498115|I[1]&268436861&&(M.$$scope={dirty:I,ctx:x}),l.$set(M),Q&&Q.p&&(!a||I[1]&268435456)&&En(Q,F,x,x[59],a?Fn(F,x[59],I,T4):Un(x[59]),uv)},i(x){a||(Te(e.$$.fragment,x),Te(y,x),Te(l.$$.fragment,x),Te(Q,x),a=!0)},o(x){Xe(e.$$.fragment,x),Xe(y,x),Xe(l.$$.fragment,x),Xe(Q,x),a=!1},d(x){ur(e,x),x&&Be(n),y&&y.d(x),x&&Be(o),ur(l,x),x&&Be(p),Q&&Q.d(x)}}}function vv(i){let e,n;return e=new tm({props:{domain:i[44],colors:i[30],line:i[25],markerWidth:i[31]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[1]&8192&&(p.domain=o[44]),l[0]&1073741824&&(p.colors=o[30]),l[0]&33554432&&(p.line=o[25]),l[1]&1&&(p.markerWidth=o[31]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function wv(i){let e,n;return e=new im({props:{$$slots:{default:[z4]},$$scope:{ctx:i}}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&2097152|l[1]&268435456&&(p.$$scope={dirty:l,ctx:o}),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function z4(i){let e;return{c(){e=hn(i[21])},l(n){e=Hn(n,i[21])},m(n,o){Ye(n,e,o)},p(n,o){o[0]&2097152&&EA(e,n[21])},d(n){n&&Be(e)}}}function Bv(i){let e,n;return e=new nm({props:{el:i[45],data:i[2],keys:[i[12],i[9],i[11],i[10]],title:i[20],output:i[43]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[1]&16384&&(p.el=o[45]),l[0]&4&&(p.data=o[2]),l[0]&7680&&(p.keys=[o[12],o[9],o[11],o[10]]),l[0]&1048576&&(p.title=o[20]),l[1]&4096&&(p.output=o[43]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function R4(i){let e,n,o,l,p,a,_,y,F,Q,x=i[20]&&pv(i);const I=i[53].options,M=Cn(I,i,i[59],fv);p=new Kg({props:{padding:i[29],ssr:i[4],height:i[4]?i[6]:null,width:i[4]?i[5]:null,x:i[9],y:i[10],z:i[11],yDomain:i[47],yScale:typeof i[14]=="function"?i[14]():i[14]=="log"?Ba():so(),zScale:Vc(),zDomain:i[44],zRange:i[30],data:i[46],flatData:i[2],custom:{type:"line",mode:i[27],idKey:i[12],labelKey:i[13],coords:i[48],colorSelect:i[40],colorHover:i[38],colorHighlight:i[42],animation:i[7],duration:i[8]},$$slots:{default:[H4]},$$scope:{ctx:i}}});let k=i[22]&&i[44]&&vv(i),K=i[21]&&wv(i),$=i[43]&&Bv(i);return{c(){e=Sr("div"),x&&x.c(),n=ir(),M&&M.c(),o=ir(),l=Sr("div"),dr(p.$$.fragment),a=ir(),k&&k.c(),_=ir(),K&&K.c(),y=ir(),$&&$.c(),F=Mt(),this.h()},l(R){e=Or(R,"DIV",{});var V=Et(e);x&&x.l(V),n=nr(V),M&&M.l(V),o=nr(V),l=Or(V,"DIV",{class:!0,style:!0});var le=Et(l);Lr(p.$$.fragment,le),le.forEach(Be),a=nr(V),k&&k.l(V),_=nr(V),K&&K.l(V),V.forEach(Be),y=nr(R),$&&$.l(R),F=Mt(),this.h()},h(){ce(l,"class","chart-container svelte-1dnlmiu"),gr(l,"height",typeof i[3]=="number"?i[3]+"px":i[3])},m(R,V){Ye(R,e,V),x&&x.m(e,null),Ot(e,n),M&&M.m(e,null),Ot(e,o),Ot(e,l),lr(p,l,null),Ot(e,a),k&&k.m(e,null),Ot(e,_),K&&K.m(e,null),i[58](e),Ye(R,y,V),$&&$.m(R,V),Ye(R,F,V),Q=!0},p(R,V){R[20]?x?(x.p(R,V),V[0]&1048576&&Te(x,1)):(x=pv(R),x.c(),Te(x,1),x.m(e,n)):x&&(Fr(),Xe(x,1,1,()=>{x=null}),Er()),M&&M.p&&(!Q||V[1]&268435456)&&En(M,I,R,R[59],Q?Fn(I,R[59],V,M4):Un(R[59]),fv);const le={};V[0]&536870912&&(le.padding=R[29]),V[0]&16&&(le.ssr=R[4]),V[0]&80&&(le.height=R[4]?R[6]:null),V[0]&48&&(le.width=R[4]?R[5]:null),V[0]&512&&(le.x=R[9]),V[0]&1024&&(le.y=R[10]),V[0]&2048&&(le.z=R[11]),V[1]&65536&&(le.yDomain=R[47]),V[0]&16384&&(le.yScale=typeof R[14]=="function"?R[14]():R[14]=="log"?Ba():so()),V[1]&8192&&(le.zDomain=R[44]),V[0]&1073741824&&(le.zRange=R[30]),V[1]&32768&&(le.data=R[46]),V[0]&4&&(le.flatData=R[2]),V[0]&134230400|V[1]&2688&&(le.custom={type:"line",mode:R[27],idKey:R[12],labelKey:R[13],coords:R[48],colorSelect:R[40],colorHover:R[38],colorHighlight:R[42],animation:R[7],duration:R[8]}),V[0]&529498115|V[1]&268436863&&(le.$$scope={dirty:V,ctx:R}),p.$set(le),(!Q||V[0]&8)&&gr(l,"height",typeof R[3]=="number"?R[3]+"px":R[3]),R[22]&&R[44]?k?(k.p(R,V),V[0]&4194304|V[1]&8192&&Te(k,1)):(k=vv(R),k.c(),Te(k,1),k.m(e,_)):k&&(Fr(),Xe(k,1,1,()=>{k=null}),Er()),R[21]?K?(K.p(R,V),V[0]&2097152&&Te(K,1)):(K=wv(R),K.c(),Te(K,1),K.m(e,null)):K&&(Fr(),Xe(K,1,1,()=>{K=null}),Er()),R[43]?$?($.p(R,V),V[1]&4096&&Te($,1)):($=Bv(R),$.c(),Te($,1),$.m(F.parentNode,F)):$&&(Fr(),Xe($,1,1,()=>{$=null}),Er())},i(R){Q||(Te(x),Te(M,R),Te(p.$$.fragment,R),Te(k),Te(K),Te($),Q=!0)},o(R){Xe(x),Xe(M,R),Xe(p.$$.fragment,R),Xe(k),Xe(K),Xe($),Q=!1},d(R){R&&Be(e),x&&x.d(),M&&M.d(R),ur(p),k&&k.d(),K&&K.d(),i[58](null),R&&Be(y),$&&$.d(R),R&&Be(F)}}}function O4(i,e,n){let o,l,p,{$$slots:a={},$$scope:_}=e,{data:y}=e,{height:F=300}=e,{ssr:Q=!1}=e,{ssrWidth:x=300}=e,{ssrHeight:I=typeof F=="number"?F:300}=e,{animation:M=!0}=e,{duration:k=800}=e,{xKey:K="x"}=e,{yKey:$="y"}=e,{zKey:R=null}=e,{idKey:V=R}=e,{labelKey:le=V}=e,{yScale:ee="linear"}=e,{yFormatTick:me=Se=>Se}=e,{yMax:we=null}=e,{yMin:Ge=0}=e,{xAxis:Le=!0}=e,{yAxis:fe=!0}=e,{xTicks:Ee=4}=e,{yTicks:ve=4}=e,{title:De=null}=e,{footer:Qe=null}=e,{legend:Ze=!1}=e,{labels:Ne=!1}=e,{snapTicks:Fe=!0}=e,{line:rt=!0}=e,{area:ct=!0}=e,{mode:Tt="default"}=e,{areaOpacity:at=1}=e,{padding:ot={top:0,bottom:20,left:35,right:0}}=e,{color:jt=null}=e,{colors:Yt=jt?[jt]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{lineWidth:pt=2.5}=e,{interactive:We=!0}=e,{xPrefix:Ar=""}=e,{xSuffix:St=""}=e,{yPrefix:it=""}=e,{ySuffix:wt=""}=e,{hover:vr=!1}=e,{hovered:wr=null}=e,{colorHover:$t="orange"}=e,{select:Gt=!1}=e,{selected:Kr=null}=e,{colorSelect:Kt="#206095"}=e,{highlighted:tr=[]}=e,{colorHighlight:ei="#206095"}=e,{output:ti=null}=e,ri;const Nr={duration:k,easing:Vg},Mi=Hs(void 0,Nr),Ui=(Se,Tr,yr)=>yr.indexOf(Se)==Tr;function si(Se,Tr){let yr=[];return Tr.forEach(ci=>{let ui=Se.filter(fn=>fn[K]==ci).map(fn=>fn[$]).reduce((fn,Sn)=>fn+Sn);yr.push(ui)}),yr}const Ai=(Se,Tr,yr,ci)=>ci?[Ge,ci]:Tr=="stacked"&&yr?[Ge,Math.max(...si(Se,Se.map(hi=>hi[K]).filter(Ui)))]:[Ge,Math.max(...Se.map(hi=>hi[yr]))];function Si(Se,Tr,yr,ci){let hi=Ai(Se,Tr,yr,ci);(hi[0]!=Zr[0]||hi[1]!=Zr[1])&&(Qi.set(hi,{duration:M?k:0}),Zr=hi)}let Zr=Ai(y,Tt,$,we);const Qi=Hs(Zr,Nr);At(i,Qi,Se=>n(47,p=Se));function Qn(Se){Kr=Se,n(1,Kr)}function on(Se){wr=Se,n(0,wr)}function In(Se){tu.call(this,i,Se)}function je(Se){tu.call(this,i,Se)}function li(Se){zn[Se?"unshift":"push"](()=>{ri=Se,n(45,ri)})}return i.$$set=Se=>{"data"in Se&&n(2,y=Se.data),"height"in Se&&n(3,F=Se.height),"ssr"in Se&&n(4,Q=Se.ssr),"ssrWidth"in Se&&n(5,x=Se.ssrWidth),"ssrHeight"in Se&&n(6,I=Se.ssrHeight),"animation"in Se&&n(7,M=Se.animation),"duration"in Se&&n(8,k=Se.duration),"xKey"in Se&&n(9,K=Se.xKey),"yKey"in Se&&n(10,$=Se.yKey),"zKey"in Se&&n(11,R=Se.zKey),"idKey"in Se&&n(12,V=Se.idKey),"labelKey"in Se&&n(13,le=Se.labelKey),"yScale"in Se&&n(14,ee=Se.yScale),"yFormatTick"in Se&&n(15,me=Se.yFormatTick),"yMax"in Se&&n(50,we=Se.yMax),"yMin"in Se&&n(51,Ge=Se.yMin),"xAxis"in Se&&n(16,Le=Se.xAxis),"yAxis"in Se&&n(17,fe=Se.yAxis),"xTicks"in Se&&n(18,Ee=Se.xTicks),"yTicks"in Se&&n(19,ve=Se.yTicks),"title"in Se&&n(20,De=Se.title),"footer"in Se&&n(21,Qe=Se.footer),"legend"in Se&&n(22,Ze=Se.legend),"labels"in Se&&n(23,Ne=Se.labels),"snapTicks"in Se&&n(24,Fe=Se.snapTicks),"line"in Se&&n(25,rt=Se.line),"area"in Se&&n(26,ct=Se.area),"mode"in Se&&n(27,Tt=Se.mode),"areaOpacity"in Se&&n(28,at=Se.areaOpacity),"padding"in Se&&n(29,ot=Se.padding),"color"in Se&&n(52,jt=Se.color),"colors"in Se&&n(30,Yt=Se.colors),"lineWidth"in Se&&n(31,pt=Se.lineWidth),"interactive"in Se&&n(32,We=Se.interactive),"xPrefix"in Se&&n(33,Ar=Se.xPrefix),"xSuffix"in Se&&n(34,St=Se.xSuffix),"yPrefix"in Se&&n(35,it=Se.yPrefix),"ySuffix"in Se&&n(36,wt=Se.ySuffix),"hover"in Se&&n(37,vr=Se.hover),"hovered"in Se&&n(0,wr=Se.hovered),"colorHover"in Se&&n(38,$t=Se.colorHover),"select"in Se&&n(39,Gt=Se.select),"selected"in Se&&n(1,Kr=Se.selected),"colorSelect"in Se&&n(40,Kt=Se.colorSelect),"highlighted"in Se&&n(41,tr=Se.highlighted),"colorHighlight"in Se&&n(42,ei=Se.colorHighlight),"output"in Se&&n(43,ti=Se.output),"$$scope"in Se&&n(59,_=Se.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&134218756|i.$$.dirty[1]&524288&&Si(y,Tt,$,we),i.$$.dirty[0]&2052&&n(44,o=R?y.map(Se=>Se[R]).filter(Ui).sort((Se,Tr)=>Se.localeCompare(Tr)):null),i.$$.dirty[0]&134220804|i.$$.dirty[1]&8192&&n(46,l=Tt=="stacked"?n4(y,o,$,R):qw(y,o,R))},[wr,Kr,y,F,Q,x,I,M,k,K,$,R,V,le,ee,me,Le,fe,Ee,ve,De,Qe,Ze,Ne,Fe,rt,ct,Tt,at,ot,Yt,pt,We,Ar,St,it,wt,vr,$t,Gt,Kt,tr,ei,ti,o,ri,l,p,Mi,Qi,we,Ge,jt,a,Qn,on,In,je,li,_]}class nT extends Ei{constructor(e){super();Fi(this,e,O4,R4,wi,{data:2,height:3,ssr:4,ssrWidth:5,ssrHeight:6,animation:7,duration:8,xKey:9,yKey:10,zKey:11,idKey:12,labelKey:13,yScale:14,yFormatTick:15,yMax:50,yMin:51,xAxis:16,yAxis:17,xTicks:18,yTicks:19,title:20,footer:21,legend:22,labels:23,snapTicks:24,line:25,area:26,mode:27,areaOpacity:28,padding:29,color:52,colors:30,lineWidth:31,interactive:32,xPrefix:33,xSuffix:34,yPrefix:35,ySuffix:36,hover:37,hovered:0,colorHover:38,select:39,selected:1,colorSelect:40,highlighted:41,colorHighlight:42,output:43},null,[-1,-1,-1])}get data(){return this.$$.ctx[2]}set data(e){this.$$set({data:e}),Ve()}get height(){return this.$$.ctx[3]}set height(e){this.$$set({height:e}),Ve()}get ssr(){return this.$$.ctx[4]}set ssr(e){this.$$set({ssr:e}),Ve()}get ssrWidth(){return this.$$.ctx[5]}set ssrWidth(e){this.$$set({ssrWidth:e}),Ve()}get ssrHeight(){return this.$$.ctx[6]}set ssrHeight(e){this.$$set({ssrHeight:e}),Ve()}get animation(){return this.$$.ctx[7]}set animation(e){this.$$set({animation:e}),Ve()}get duration(){return this.$$.ctx[8]}set duration(e){this.$$set({duration:e}),Ve()}get xKey(){return this.$$.ctx[9]}set xKey(e){this.$$set({xKey:e}),Ve()}get yKey(){return this.$$.ctx[10]}set yKey(e){this.$$set({yKey:e}),Ve()}get zKey(){return this.$$.ctx[11]}set zKey(e){this.$$set({zKey:e}),Ve()}get idKey(){return this.$$.ctx[12]}set idKey(e){this.$$set({idKey:e}),Ve()}get labelKey(){return this.$$.ctx[13]}set labelKey(e){this.$$set({labelKey:e}),Ve()}get yScale(){return this.$$.ctx[14]}set yScale(e){this.$$set({yScale:e}),Ve()}get yFormatTick(){return this.$$.ctx[15]}set yFormatTick(e){this.$$set({yFormatTick:e}),Ve()}get yMax(){return this.$$.ctx[50]}set yMax(e){this.$$set({yMax:e}),Ve()}get yMin(){return this.$$.ctx[51]}set yMin(e){this.$$set({yMin:e}),Ve()}get xAxis(){return this.$$.ctx[16]}set xAxis(e){this.$$set({xAxis:e}),Ve()}get yAxis(){return this.$$.ctx[17]}set yAxis(e){this.$$set({yAxis:e}),Ve()}get xTicks(){return this.$$.ctx[18]}set xTicks(e){this.$$set({xTicks:e}),Ve()}get yTicks(){return this.$$.ctx[19]}set yTicks(e){this.$$set({yTicks:e}),Ve()}get title(){return this.$$.ctx[20]}set title(e){this.$$set({title:e}),Ve()}get footer(){return this.$$.ctx[21]}set footer(e){this.$$set({footer:e}),Ve()}get legend(){return this.$$.ctx[22]}set legend(e){this.$$set({legend:e}),Ve()}get labels(){return this.$$.ctx[23]}set labels(e){this.$$set({labels:e}),Ve()}get snapTicks(){return this.$$.ctx[24]}set snapTicks(e){this.$$set({snapTicks:e}),Ve()}get line(){return this.$$.ctx[25]}set line(e){this.$$set({line:e}),Ve()}get area(){return this.$$.ctx[26]}set area(e){this.$$set({area:e}),Ve()}get mode(){return this.$$.ctx[27]}set mode(e){this.$$set({mode:e}),Ve()}get areaOpacity(){return this.$$.ctx[28]}set areaOpacity(e){this.$$set({areaOpacity:e}),Ve()}get padding(){return this.$$.ctx[29]}set padding(e){this.$$set({padding:e}),Ve()}get color(){return this.$$.ctx[52]}set color(e){this.$$set({color:e}),Ve()}get colors(){return this.$$.ctx[30]}set colors(e){this.$$set({colors:e}),Ve()}get lineWidth(){return this.$$.ctx[31]}set lineWidth(e){this.$$set({lineWidth:e}),Ve()}get interactive(){return this.$$.ctx[32]}set interactive(e){this.$$set({interactive:e}),Ve()}get xPrefix(){return this.$$.ctx[33]}set xPrefix(e){this.$$set({xPrefix:e}),Ve()}get xSuffix(){return this.$$.ctx[34]}set xSuffix(e){this.$$set({xSuffix:e}),Ve()}get yPrefix(){return this.$$.ctx[35]}set yPrefix(e){this.$$set({yPrefix:e}),Ve()}get ySuffix(){return this.$$.ctx[36]}set ySuffix(e){this.$$set({ySuffix:e}),Ve()}get hover(){return this.$$.ctx[37]}set hover(e){this.$$set({hover:e}),Ve()}get hovered(){return this.$$.ctx[0]}set hovered(e){this.$$set({hovered:e}),Ve()}get colorHover(){return this.$$.ctx[38]}set colorHover(e){this.$$set({colorHover:e}),Ve()}get select(){return this.$$.ctx[39]}set select(e){this.$$set({select:e}),Ve()}get selected(){return this.$$.ctx[1]}set selected(e){this.$$set({selected:e}),Ve()}get colorSelect(){return this.$$.ctx[40]}set colorSelect(e){this.$$set({colorSelect:e}),Ve()}get highlighted(){return this.$$.ctx[41]}set highlighted(e){this.$$set({highlighted:e}),Ve()}get colorHighlight(){return this.$$.ctx[42]}set colorHighlight(e){this.$$set({colorHighlight:e}),Ve()}get output(){return this.$$.ctx[43]}set output(e){this.$$set({output:e}),Ve()}}function bv(i,e,n){const o=i.slice();return o[37]=e[n],o[39]=n,o}function xv(i,e,n){const o=i.slice();return o[40]=e[n],o[42]=n,o}function Cv(i){let e,n=i[6],o=[];for(let l=0;l<n.length;l+=1)o[l]=Ev(bv(i,n,l));return{c(){e=Cr("g");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=Qr(l,"g",{class:!0});var p=Et(e);for(let a=0;a<o.length;a+=1)o[a].l(p);p.forEach(Be),this.h()},h(){ce(e,"class","bar-group")},m(l,p){Ye(l,e,p);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(l,p){if(p[0]&133697535){n=l[6];let a;for(a=0;a<n.length;a+=1){const _=bv(l,n,a);o[a]?o[a].p(_,p):(o[a]=Ev(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){l&&Be(e),_A(o,l)}}}function Fv(i){let e,n,o,l,p,a,_,y;function F(...I){return i[30](i[39],i[42],...I)}function Q(...I){return i[32](i[39],i[42],...I)}function x(...I){return i[34](i[39],i[42],...I)}return{c(){e=Cr("polygon"),this.h()},l(I){e=Qr(I,"polygon",{class:!0,"data-id":!0,transform:!0,points:!0,stroke:!0,"stroke-width":!0,fill:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","bar-rect"),ce(e,"data-id",i[42]),ce(e,"transform",n="translate("+(i[5]=="barcode"||i[5]=="comparison"&&i[39]>0?-i[24]/2:0)+" 0)"),ce(e,"points",o=i[4](i[7](i[40].x0),i[7](i[40].x1),i[40].y0,i[40].y1)),ce(e,"stroke",l=i[8][i[39]][i[42]][i[19]]==i[0]?i[20]:i[8][i[39]][i[42]][i[19]]==i[1]?i[21]:i[22]),ce(e,"stroke-width",p=i[8][i[39]][i[42]][i[19]]==i[0]||i[8][i[39]][i[42]][i[19]]==i[1]||i[2].includes(i[8][i[39]][i[42]][i[19]])?i[23]:0),ce(e,"fill",a=i[3]&&i[8][i[39]][i[42]][i[19]]==i[1]?i[21]:i[3]&&i[2].includes(i[8][i[39]][i[42]][i[19]])?i[22]:i[9].z?i[10](i[8][i[39]][i[42]]):i[11][0])},m(I,M){Ye(I,e,M),_||(y=[jr(e,"mouseover",F),jr(e,"mouseleave",i[31]),jr(e,"focus",Q),jr(e,"blur",i[33]),jr(e,"click",x)],_=!0)},p(I,M){i=I,M[0]&32&&n!==(n="translate("+(i[5]=="barcode"||i[5]=="comparison"&&i[39]>0?-i[24]/2:0)+" 0)")&&ce(e,"transform",n),M[0]&208&&o!==(o=i[4](i[7](i[40].x0),i[7](i[40].x1),i[40].y0,i[40].y1))&&ce(e,"points",o),M[0]&259&&l!==(l=i[8][i[39]][i[42]][i[19]]==i[0]?i[20]:i[8][i[39]][i[42]][i[19]]==i[1]?i[21]:i[22])&&ce(e,"stroke",l),M[0]&263&&p!==(p=i[8][i[39]][i[42]][i[19]]==i[0]||i[8][i[39]][i[42]][i[19]]==i[1]||i[2].includes(i[8][i[39]][i[42]][i[19]])?i[23]:0)&&ce(e,"stroke-width",p),M[0]&3854&&a!==(a=i[3]&&i[8][i[39]][i[42]][i[19]]==i[1]?i[21]:i[3]&&i[2].includes(i[8][i[39]][i[42]][i[19]])?i[22]:i[9].z?i[10](i[8][i[39]][i[42]]):i[11][0])&&ce(e,"fill",a)},d(I){I&&Be(e),_=!1,jA(y)}}}function Ev(i){let e,n=i[37],o=[];for(let l=0;l<n.length;l+=1)o[l]=Fv(xv(i,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Mt()},l(l){for(let p=0;p<o.length;p+=1)o[p].l(l);e=Mt()},m(l,p){for(let a=0;a<o.length;a+=1)o[a].m(l,p);Ye(l,e,p)},p(l,p){if(p[0]&133697535){n=l[37];let a;for(a=0;a<n.length;a+=1){const _=xv(l,n,a);o[a]?o[a].p(_,p):(o[a]=Fv(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){_A(o,l),l&&Be(e)}}}function K4(i){let e,n=i[6]&&Cv(i);return{c(){n&&n.c(),e=Mt()},l(o){n&&n.l(o),e=Mt()},m(o,l){n&&n.m(o,l),Ye(o,e,l)},p(o,l){o[6]?n?n.p(o,l):(n=Cv(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ir,o:Ir,d(o){n&&n.d(o),o&&Be(e)}}}function N4(i,e,n){let o,l,p,a,_,y,F,Q,x;const{data:I,xScale:M,zGet:k,xDomain:K,zRange:$,config:R,custom:V}=UA("LayerCake");At(i,I,pt=>n(8,y=pt)),At(i,M,pt=>n(7,_=pt)),At(i,k,pt=>n(10,Q=pt)),At(i,$,pt=>n(11,x=pt)),At(i,R,pt=>n(9,F=pt)),At(i,V,pt=>n(29,p=pt));const le=Ks();let{hover:ee=!1}=e,{hovered:me=null}=e,{select:we=!1}=e,{selected:Ge=null}=e,{highlighted:Le=[]}=e,{overlayFill:fe=!1}=e,Ee=p.coords;At(i,Ee,pt=>n(6,a=pt));let ve=p.idKey,De=p.colorHover?p.colorHover:"orange",Qe=p.colorSelect?p.colorSelect:"black",Ze=p.colorHighlight?p.colorHighlight:"black",Ne=p.lineWidth?p.lineWidth:2,Fe=p.markerWidth?p.markerWidth:2.5;function rt(pt,We){ee&&(n(0,me=We?We[ve]:null),le("hover",{id:me,data:We,event:pt}))}function ct(pt,We){we&&(n(1,Ge=We?We[ve]:null),le("select",{id:Ge,data:We,event:pt}))}const Tt=(pt,We,Ar)=>rt(Ar,y[pt][We]),at=pt=>rt(pt,null),ot=(pt,We,Ar)=>rt(Ar,y[pt][We]),jt=pt=>rt(pt,null),Yt=(pt,We,Ar)=>ct(Ar,y[pt][We]);return i.$$set=pt=>{"hover"in pt&&n(27,ee=pt.hover),"hovered"in pt&&n(0,me=pt.hovered),"select"in pt&&n(28,we=pt.select),"selected"in pt&&n(1,Ge=pt.selected),"highlighted"in pt&&n(2,Le=pt.highlighted),"overlayFill"in pt&&n(3,fe=pt.overlayFill)},i.$$.update=()=>{i.$$.dirty[0]&536870912&&n(5,o=p.mode?p.mode:"default")},n(4,l=(pt,We,Ar,St)=>(We=Math.abs(We-pt)<Fe?pt+Fe:We,`${pt},${Ar} ${pt},${St} ${We},${St} ${We},${Ar}`)),[me,Ge,Le,fe,l,o,a,_,y,F,Q,x,I,M,k,$,R,V,Ee,ve,De,Qe,Ze,Ne,Fe,rt,ct,ee,we,p,Tt,at,ot,jt,Yt]}class V4 extends Ei{constructor(e){super();Fi(this,e,N4,K4,wi,{hover:27,hovered:0,select:28,selected:1,highlighted:2,overlayFill:3},null,[-1,-1])}}const G4=i=>({}),Uv=i=>({}),X4=i=>({}),Qv=i=>({}),j4=i=>({}),Iv=i=>({}),Z4=i=>({}),Sv=i=>({});function Tv(i){let e,n;return e=new rm({props:{$$slots:{default:[q4]},$$scope:{ctx:i}}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&524288|l[1]&67108864&&(p.$$scope={dirty:l,ctx:o}),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function q4(i){let e;return{c(){e=hn(i[19])},l(n){e=Hn(n,i[19])},m(n,o){Ye(n,e,o)},p(n,o){o[0]&524288&&EA(e,n[19])},d(n){n&&Be(e)}}}function kv(i){let e,n;return e=new $g({props:{ticks:i[15],formatTick:i[12],snapTicks:i[22],prefix:i[29],suffix:i[30],textColor:i[16],tickColor:i[17],tickDashed:i[18]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&32768&&(p.ticks=o[15]),l[0]&4096&&(p.formatTick=o[12]),l[0]&4194304&&(p.snapTicks=o[22]),l[0]&536870912&&(p.prefix=o[29]),l[0]&1073741824&&(p.suffix=o[30]),l[0]&65536&&(p.textColor=o[16]),l[0]&131072&&(p.tickColor=o[17]),l[0]&262144&&(p.tickDashed=o[18]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function Lv(i){let e,n;return e=new em({props:{gridlines:!1,prefix:i[31],suffix:i[32],textColor:i[16],tickColor:i[17],tickDashed:i[18]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[1]&1&&(p.prefix=o[31]),l[1]&2&&(p.suffix=o[32]),l[0]&65536&&(p.textColor=o[16]),l[0]&131072&&(p.tickColor=o[17]),l[0]&262144&&(p.tickDashed=o[18]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function W4(i){let e,n,o,l,p,a=i[13]&&kv(i),_=i[14]&&Lv(i);o=new V4({props:{select:i[36],selected:i[37],hover:i[33],hovered:i[34],highlighted:i[39],overlayFill:i[41]}}),o.$on("hover",i[54]),o.$on("select",i[55]);const y=i[53].svg,F=Cn(y,i,i[57],Qv);return{c(){a&&a.c(),e=ir(),_&&_.c(),n=ir(),dr(o.$$.fragment),l=ir(),F&&F.c()},l(Q){a&&a.l(Q),e=nr(Q),_&&_.l(Q),n=nr(Q),Lr(o.$$.fragment,Q),l=nr(Q),F&&F.l(Q)},m(Q,x){a&&a.m(Q,x),Ye(Q,e,x),_&&_.m(Q,x),Ye(Q,n,x),lr(o,Q,x),Ye(Q,l,x),F&&F.m(Q,x),p=!0},p(Q,x){Q[13]?a?(a.p(Q,x),x[0]&8192&&Te(a,1)):(a=kv(Q),a.c(),Te(a,1),a.m(e.parentNode,e)):a&&(Fr(),Xe(a,1,1,()=>{a=null}),Er()),Q[14]?_?(_.p(Q,x),x[0]&16384&&Te(_,1)):(_=Lv(Q),_.c(),Te(_,1),_.m(n.parentNode,n)):_&&(Fr(),Xe(_,1,1,()=>{_=null}),Er());const I={};x[1]&32&&(I.select=Q[36]),x[1]&64&&(I.selected=Q[37]),x[1]&4&&(I.hover=Q[33]),x[1]&8&&(I.hovered=Q[34]),x[1]&256&&(I.highlighted=Q[39]),x[1]&1024&&(I.overlayFill=Q[41]),o.$set(I),F&&F.p&&(!p||x[1]&67108864)&&En(F,y,Q,Q[57],p?Fn(y,Q[57],x,X4):Un(Q[57]),Qv)},i(Q){p||(Te(a),Te(_),Te(o.$$.fragment,Q),Te(F,Q),p=!0)},o(Q){Xe(a),Xe(_),Xe(o.$$.fragment,Q),Xe(F,Q),p=!1},d(Q){a&&a.d(Q),Q&&Be(e),_&&_.d(Q),Q&&Be(n),ur(o,Q),Q&&Be(l),F&&F.d(Q)}}}function J4(i){let e,n,o,l,p,a;e=new Yg({});const _=i[53].back,y=Cn(_,i,i[57],Iv);l=new Ng({props:{pointerEvents:i[28],$$slots:{default:[W4]},$$scope:{ctx:i}}});const F=i[53].front,Q=Cn(F,i,i[57],Uv);return{c(){dr(e.$$.fragment),n=ir(),y&&y.c(),o=ir(),dr(l.$$.fragment),p=ir(),Q&&Q.c()},l(x){Lr(e.$$.fragment,x),n=nr(x),y&&y.l(x),o=nr(x),Lr(l.$$.fragment,x),p=nr(x),Q&&Q.l(x)},m(x,I){lr(e,x,I),Ye(x,n,I),y&&y.m(x,I),Ye(x,o,I),lr(l,x,I),Ye(x,p,I),Q&&Q.m(x,I),a=!0},p(x,I){y&&y.p&&(!a||I[1]&67108864)&&En(y,_,x,x[57],a?Fn(_,x[57],I,j4):Un(x[57]),Iv);const M={};I[0]&268435456&&(M.pointerEvents=x[28]),I[0]&1615327232|I[1]&67110255&&(M.$$scope={dirty:I,ctx:x}),l.$set(M),Q&&Q.p&&(!a||I[1]&67108864)&&En(Q,F,x,x[57],a?Fn(F,x[57],I,G4):Un(x[57]),Uv)},i(x){a||(Te(e.$$.fragment,x),Te(y,x),Te(l.$$.fragment,x),Te(Q,x),a=!0)},o(x){Xe(e.$$.fragment,x),Xe(y,x),Xe(l.$$.fragment,x),Xe(Q,x),a=!1},d(x){ur(e,x),x&&Be(n),y&&y.d(x),x&&Be(o),ur(l,x),x&&Be(p),Q&&Q.d(x)}}}function Mv(i){let e,n;return e=new tm({props:{domain:i[43],colors:i[25],markerWidth:i[26],horizontal:!1,line:i[23]=="barcode",comparison:i[23]=="comparison"}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[1]&4096&&(p.domain=o[43]),l[0]&33554432&&(p.colors=o[25]),l[0]&67108864&&(p.markerWidth=o[26]),l[0]&8388608&&(p.line=o[23]=="barcode"),l[0]&8388608&&(p.comparison=o[23]=="comparison"),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function Dv(i){let e,n;return e=new im({props:{$$slots:{default:[Y4]},$$scope:{ctx:i}}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&1048576|l[1]&67108864&&(p.$$scope={dirty:l,ctx:o}),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function Y4(i){let e;return{c(){e=hn(i[20])},l(n){e=Hn(n,i[20])},m(n,o){Ye(n,e,o)},p(n,o){o[0]&1048576&&EA(e,n[20])},d(n){n&&Be(e)}}}function Pv(i){let e,n;return e=new nm({props:{el:i[44],data:i[0],keys:[i[10],i[8],i[9],i[7]],title:i[19],output:i[42]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[1]&8192&&(p.el=o[44]),l[0]&1&&(p.data=o[0]),l[0]&1920&&(p.keys=[o[10],o[8],o[9],o[7]]),l[0]&524288&&(p.title=o[19]),l[1]&2048&&(p.output=o[42]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function $4(i){let e,n,o,l,p,a,_,y,F,Q,x=i[19]&&Tv(i);const I=i[53].options,M=Cn(I,i,i[57],Sv);p=new Kg({props:{padding:i[24],ssr:i[2],height:i[2]?i[4]:null,width:i[2]?i[3]:null,x:i[7],y:i[8],z:i[9],xDomain:i[47],yDomain:i[46],xScale:typeof i[11]=="function"?i[11]():i[11]=="log"?Ba():so(),yScale:$d().paddingInner([i[27]]).round(!0),zScale:Vc(),zDomain:i[43],zRange:i[25],data:i[45],flatData:i[0],custom:{type:"bar",mode:i[23],idKey:i[10],coords:i[48],markerWidth:i[26],colorSelect:i[38],colorHover:i[35],colorHighlight:i[40],animation:i[5],duration:i[6]},$$slots:{default:[J4]},$$scope:{ctx:i}}});let k=i[21]&&i[43]&&Mv(i),K=i[20]&&Dv(i),$=i[42]&&Pv(i);return{c(){e=Sr("div"),x&&x.c(),n=ir(),M&&M.c(),o=ir(),l=Sr("div"),dr(p.$$.fragment),a=ir(),k&&k.c(),_=ir(),K&&K.c(),y=ir(),$&&$.c(),F=Mt(),this.h()},l(R){e=Or(R,"DIV",{});var V=Et(e);x&&x.l(V),n=nr(V),M&&M.l(V),o=nr(V),l=Or(V,"DIV",{class:!0,style:!0});var le=Et(l);Lr(p.$$.fragment,le),le.forEach(Be),a=nr(V),k&&k.l(V),_=nr(V),K&&K.l(V),V.forEach(Be),y=nr(R),$&&$.l(R),F=Mt(),this.h()},h(){ce(l,"class","chart-container svelte-1dnlmiu"),gr(l,"height",typeof i[1]=="number"?i[1]+"px":i[1])},m(R,V){Ye(R,e,V),x&&x.m(e,null),Ot(e,n),M&&M.m(e,null),Ot(e,o),Ot(e,l),lr(p,l,null),Ot(e,a),k&&k.m(e,null),Ot(e,_),K&&K.m(e,null),i[56](e),Ye(R,y,V),$&&$.m(R,V),Ye(R,F,V),Q=!0},p(R,V){R[19]?x?(x.p(R,V),V[0]&524288&&Te(x,1)):(x=Tv(R),x.c(),Te(x,1),x.m(e,n)):x&&(Fr(),Xe(x,1,1,()=>{x=null}),Er()),M&&M.p&&(!Q||V[1]&67108864)&&En(M,I,R,R[57],Q?Fn(I,R[57],V,Z4):Un(R[57]),Sv);const le={};V[0]&16777216&&(le.padding=R[24]),V[0]&4&&(le.ssr=R[2]),V[0]&20&&(le.height=R[2]?R[4]:null),V[0]&12&&(le.width=R[2]?R[3]:null),V[0]&128&&(le.x=R[7]),V[0]&256&&(le.y=R[8]),V[0]&512&&(le.z=R[9]),V[1]&65536&&(le.xDomain=R[47]),V[1]&32768&&(le.yDomain=R[46]),V[0]&2048&&(le.xScale=typeof R[11]=="function"?R[11]():R[11]=="log"?Ba():so()),V[0]&134217728&&(le.yScale=$d().paddingInner([R[27]]).round(!0)),V[1]&4096&&(le.zDomain=R[43]),V[0]&33554432&&(le.zRange=R[25]),V[1]&16384&&(le.data=R[45]),V[0]&1&&(le.flatData=R[0]),V[0]&75498592|V[1]&656&&(le.custom={type:"bar",mode:R[23],idKey:R[10],coords:R[48],markerWidth:R[26],colorSelect:R[38],colorHover:R[35],colorHighlight:R[40],animation:R[5],duration:R[6]}),V[0]&1883762688|V[1]&67110255&&(le.$$scope={dirty:V,ctx:R}),p.$set(le),(!Q||V[0]&2)&&gr(l,"height",typeof R[1]=="number"?R[1]+"px":R[1]),R[21]&&R[43]?k?(k.p(R,V),V[0]&2097152|V[1]&4096&&Te(k,1)):(k=Mv(R),k.c(),Te(k,1),k.m(e,_)):k&&(Fr(),Xe(k,1,1,()=>{k=null}),Er()),R[20]?K?(K.p(R,V),V[0]&1048576&&Te(K,1)):(K=Dv(R),K.c(),Te(K,1),K.m(e,null)):K&&(Fr(),Xe(K,1,1,()=>{K=null}),Er()),R[42]?$?($.p(R,V),V[1]&2048&&Te($,1)):($=Pv(R),$.c(),Te($,1),$.m(F.parentNode,F)):$&&(Fr(),Xe($,1,1,()=>{$=null}),Er())},i(R){Q||(Te(x),Te(M,R),Te(p.$$.fragment,R),Te(k),Te(K),Te($),Q=!0)},o(R){Xe(x),Xe(M,R),Xe(p.$$.fragment,R),Xe(k),Xe(K),Xe($),Q=!1},d(R){R&&Be(e),x&&x.d(),M&&M.d(R),ur(p),k&&k.d(),K&&K.d(),i[56](null),R&&Be(y),$&&$.d(R),R&&Be(F)}}}function eS(i,e,n){let o,l,p,a,{$$slots:_={},$$scope:y}=e,{data:F}=e,{height:Q=300}=e,{ssr:x=!1}=e,{ssrWidth:I=300}=e,{ssrHeight:M=typeof Q=="number"?Q:300}=e,{animation:k=!0}=e,{duration:K=800}=e,{xKey:$="x"}=e,{yKey:R="y"}=e,{zKey:V=null}=e,{idKey:le=R}=e,{xScale:ee="linear"}=e,{xFormatTick:me=je=>je}=e,{xMax:we=null}=e,{xMin:Ge=null}=e,{xAxis:Le=!0}=e,{yAxis:fe=!0}=e,{xTicks:Ee=4}=e,{textColor:ve="#666"}=e,{tickColor:De="#ccc"}=e,{tickDashed:Qe=!1}=e,{title:Ze=null}=e,{footer:Ne=null}=e,{legend:Fe=!1}=e,{snapTicks:rt=!1}=e,{mode:ct="default"}=e,{padding:Tt={top:0,bottom:20,left:35,right:0}}=e,{color:at=null}=e,{colors:ot=at?[at]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{markerWidth:jt=2.5}=e,{spacing:Yt=.05}=e,{interactive:pt=!0}=e,{xPrefix:We=""}=e,{xSuffix:Ar=""}=e,{yPrefix:St=""}=e,{ySuffix:it=""}=e,{hover:wt=!1}=e,{hovered:vr=null}=e,{colorHover:wr="orange"}=e,{select:$t=!1}=e,{selected:Gt=null}=e,{colorSelect:Kr="black"}=e,{highlighted:Kt=[]}=e,{colorHighlight:tr="black"}=e,{overlayFill:ei=!1}=e,{output:ti=null}=e,ri;const Nr={duration:K,easing:Vg},Mi=Hs(void 0,Nr),Ui=(je,li,Se)=>Se.indexOf(je)==li;function si(je,li){let Se=[];return li.forEach(Tr=>{let yr=0,ci=0;je.filter(ui=>ui[R]==Tr).map(ui=>ui[$]).forEach(ui=>{ui>=0?yr+=ui:ci+=ui}),yr!=0&&Se.push(yr),ci!=0&&Se.push(ci)}),Se}function Ai(je,li,Se,Tr){let yr=li=="stacked"&&V?si(je,je.map(ui=>ui[R]).filter(Ui)):je.map(ui=>ui[Se]),ci=Ge||(Math.min(...yr)>0?0:Math.min(...yr)),hi=Tr||(Math.max(...yr)<0?0:Math.max(...yr));return[ci,hi]}function Si(je,li,Se,Tr){let yr=Ai(je,li,Se,Tr);(yr[0]!=Zr[0]||yr[1]!=Zr[1])&&(Qi.set(yr,{duration:k?K:0}),Zr=yr)}let Zr=Ai(F,ct,$,we);const Qi=Hs(Zr,Nr);At(i,Qi,je=>n(47,a=je));function Qn(je){tu.call(this,i,je)}function on(je){tu.call(this,i,je)}function In(je){zn[je?"unshift":"push"](()=>{ri=je,n(44,ri)})}return i.$$set=je=>{"data"in je&&n(0,F=je.data),"height"in je&&n(1,Q=je.height),"ssr"in je&&n(2,x=je.ssr),"ssrWidth"in je&&n(3,I=je.ssrWidth),"ssrHeight"in je&&n(4,M=je.ssrHeight),"animation"in je&&n(5,k=je.animation),"duration"in je&&n(6,K=je.duration),"xKey"in je&&n(7,$=je.xKey),"yKey"in je&&n(8,R=je.yKey),"zKey"in je&&n(9,V=je.zKey),"idKey"in je&&n(10,le=je.idKey),"xScale"in je&&n(11,ee=je.xScale),"xFormatTick"in je&&n(12,me=je.xFormatTick),"xMax"in je&&n(50,we=je.xMax),"xMin"in je&&n(51,Ge=je.xMin),"xAxis"in je&&n(13,Le=je.xAxis),"yAxis"in je&&n(14,fe=je.yAxis),"xTicks"in je&&n(15,Ee=je.xTicks),"textColor"in je&&n(16,ve=je.textColor),"tickColor"in je&&n(17,De=je.tickColor),"tickDashed"in je&&n(18,Qe=je.tickDashed),"title"in je&&n(19,Ze=je.title),"footer"in je&&n(20,Ne=je.footer),"legend"in je&&n(21,Fe=je.legend),"snapTicks"in je&&n(22,rt=je.snapTicks),"mode"in je&&n(23,ct=je.mode),"padding"in je&&n(24,Tt=je.padding),"color"in je&&n(52,at=je.color),"colors"in je&&n(25,ot=je.colors),"markerWidth"in je&&n(26,jt=je.markerWidth),"spacing"in je&&n(27,Yt=je.spacing),"interactive"in je&&n(28,pt=je.interactive),"xPrefix"in je&&n(29,We=je.xPrefix),"xSuffix"in je&&n(30,Ar=je.xSuffix),"yPrefix"in je&&n(31,St=je.yPrefix),"ySuffix"in je&&n(32,it=je.ySuffix),"hover"in je&&n(33,wt=je.hover),"hovered"in je&&n(34,vr=je.hovered),"colorHover"in je&&n(35,wr=je.colorHover),"select"in je&&n(36,$t=je.select),"selected"in je&&n(37,Gt=je.selected),"colorSelect"in je&&n(38,Kr=je.colorSelect),"highlighted"in je&&n(39,Kt=je.highlighted),"colorHighlight"in je&&n(40,tr=je.colorHighlight),"overlayFill"in je&&n(41,ei=je.overlayFill),"output"in je&&n(42,ti=je.output),"$$scope"in je&&n(57,y=je.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&8388737|i.$$.dirty[1]&524288&&Si(F,ct,$,we),i.$$.dirty[0]&257&&n(46,o=F.map(je=>je[R]).filter(Ui)),i.$$.dirty[0]&513&&n(43,l=V?F.map(je=>je[V]).filter(Ui).sort((je,li)=>je.localeCompare(li)):null),i.$$.dirty[0]&513|i.$$.dirty[1]&4096&&n(45,p=qw(F,l,V))},[F,Q,x,I,M,k,K,$,R,V,le,ee,me,Le,fe,Ee,ve,De,Qe,Ze,Ne,Fe,rt,ct,Tt,ot,jt,Yt,pt,We,Ar,St,it,wt,vr,wr,$t,Gt,Kr,Kt,tr,ei,ti,l,ri,p,o,a,Mi,Qi,we,Ge,at,_,Qn,on,In,y]}class AT extends Ei{constructor(e){super();Fi(this,e,eS,$4,wi,{data:0,height:1,ssr:2,ssrWidth:3,ssrHeight:4,animation:5,duration:6,xKey:7,yKey:8,zKey:9,idKey:10,xScale:11,xFormatTick:12,xMax:50,xMin:51,xAxis:13,yAxis:14,xTicks:15,textColor:16,tickColor:17,tickDashed:18,title:19,footer:20,legend:21,snapTicks:22,mode:23,padding:24,color:52,colors:25,markerWidth:26,spacing:27,interactive:28,xPrefix:29,xSuffix:30,yPrefix:31,ySuffix:32,hover:33,hovered:34,colorHover:35,select:36,selected:37,colorSelect:38,highlighted:39,colorHighlight:40,overlayFill:41,output:42},null,[-1,-1,-1])}get data(){return this.$$.ctx[0]}set data(e){this.$$set({data:e}),Ve()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),Ve()}get ssr(){return this.$$.ctx[2]}set ssr(e){this.$$set({ssr:e}),Ve()}get ssrWidth(){return this.$$.ctx[3]}set ssrWidth(e){this.$$set({ssrWidth:e}),Ve()}get ssrHeight(){return this.$$.ctx[4]}set ssrHeight(e){this.$$set({ssrHeight:e}),Ve()}get animation(){return this.$$.ctx[5]}set animation(e){this.$$set({animation:e}),Ve()}get duration(){return this.$$.ctx[6]}set duration(e){this.$$set({duration:e}),Ve()}get xKey(){return this.$$.ctx[7]}set xKey(e){this.$$set({xKey:e}),Ve()}get yKey(){return this.$$.ctx[8]}set yKey(e){this.$$set({yKey:e}),Ve()}get zKey(){return this.$$.ctx[9]}set zKey(e){this.$$set({zKey:e}),Ve()}get idKey(){return this.$$.ctx[10]}set idKey(e){this.$$set({idKey:e}),Ve()}get xScale(){return this.$$.ctx[11]}set xScale(e){this.$$set({xScale:e}),Ve()}get xFormatTick(){return this.$$.ctx[12]}set xFormatTick(e){this.$$set({xFormatTick:e}),Ve()}get xMax(){return this.$$.ctx[50]}set xMax(e){this.$$set({xMax:e}),Ve()}get xMin(){return this.$$.ctx[51]}set xMin(e){this.$$set({xMin:e}),Ve()}get xAxis(){return this.$$.ctx[13]}set xAxis(e){this.$$set({xAxis:e}),Ve()}get yAxis(){return this.$$.ctx[14]}set yAxis(e){this.$$set({yAxis:e}),Ve()}get xTicks(){return this.$$.ctx[15]}set xTicks(e){this.$$set({xTicks:e}),Ve()}get textColor(){return this.$$.ctx[16]}set textColor(e){this.$$set({textColor:e}),Ve()}get tickColor(){return this.$$.ctx[17]}set tickColor(e){this.$$set({tickColor:e}),Ve()}get tickDashed(){return this.$$.ctx[18]}set tickDashed(e){this.$$set({tickDashed:e}),Ve()}get title(){return this.$$.ctx[19]}set title(e){this.$$set({title:e}),Ve()}get footer(){return this.$$.ctx[20]}set footer(e){this.$$set({footer:e}),Ve()}get legend(){return this.$$.ctx[21]}set legend(e){this.$$set({legend:e}),Ve()}get snapTicks(){return this.$$.ctx[22]}set snapTicks(e){this.$$set({snapTicks:e}),Ve()}get mode(){return this.$$.ctx[23]}set mode(e){this.$$set({mode:e}),Ve()}get padding(){return this.$$.ctx[24]}set padding(e){this.$$set({padding:e}),Ve()}get color(){return this.$$.ctx[52]}set color(e){this.$$set({color:e}),Ve()}get colors(){return this.$$.ctx[25]}set colors(e){this.$$set({colors:e}),Ve()}get markerWidth(){return this.$$.ctx[26]}set markerWidth(e){this.$$set({markerWidth:e}),Ve()}get spacing(){return this.$$.ctx[27]}set spacing(e){this.$$set({spacing:e}),Ve()}get interactive(){return this.$$.ctx[28]}set interactive(e){this.$$set({interactive:e}),Ve()}get xPrefix(){return this.$$.ctx[29]}set xPrefix(e){this.$$set({xPrefix:e}),Ve()}get xSuffix(){return this.$$.ctx[30]}set xSuffix(e){this.$$set({xSuffix:e}),Ve()}get yPrefix(){return this.$$.ctx[31]}set yPrefix(e){this.$$set({yPrefix:e}),Ve()}get ySuffix(){return this.$$.ctx[32]}set ySuffix(e){this.$$set({ySuffix:e}),Ve()}get hover(){return this.$$.ctx[33]}set hover(e){this.$$set({hover:e}),Ve()}get hovered(){return this.$$.ctx[34]}set hovered(e){this.$$set({hovered:e}),Ve()}get colorHover(){return this.$$.ctx[35]}set colorHover(e){this.$$set({colorHover:e}),Ve()}get select(){return this.$$.ctx[36]}set select(e){this.$$set({select:e}),Ve()}get selected(){return this.$$.ctx[37]}set selected(e){this.$$set({selected:e}),Ve()}get colorSelect(){return this.$$.ctx[38]}set colorSelect(e){this.$$set({colorSelect:e}),Ve()}get highlighted(){return this.$$.ctx[39]}set highlighted(e){this.$$set({highlighted:e}),Ve()}get colorHighlight(){return this.$$.ctx[40]}set colorHighlight(e){this.$$set({colorHighlight:e}),Ve()}get overlayFill(){return this.$$.ctx[41]}set overlayFill(e){this.$$set({overlayFill:e}),Ve()}get output(){return this.$$.ctx[42]}set output(e){this.$$set({output:e}),Ve()}}function Hv(i,e,n){const o=i.slice();return o[25]=e[n],o[27]=n,o}function zv(i,e,n){const o=i.slice();return o[25]=e[n],o[27]=n,o}function Rv(i){let e,n,o=i[4],l=[];for(let a=0;a<o.length;a+=1)l[a]=Ov(zv(i,o,a));let p=i[19]&&(i[0]||i[1]||i[2][0])&&Kv(i);return{c(){e=Cr("g");for(let a=0;a<l.length;a+=1)l[a].c();n=Mt(),p&&p.c(),this.h()},l(a){e=Qr(a,"g",{class:!0});var _=Et(e);for(let y=0;y<l.length;y+=1)l[y].l(_);n=Mt(),p&&p.l(_),_.forEach(Be),this.h()},h(){ce(e,"class","scatter-group")},m(a,_){Ye(a,e,_);for(let y=0;y<l.length;y+=1)l[y].m(e,null);Ot(e,n),p&&p.m(e,null)},p(a,_){if(_&2032){o=a[4];let y;for(y=0;y<o.length;y+=1){const F=zv(a,o,y);l[y]?l[y].p(F,_):(l[y]=Ov(F),l[y].c(),l[y].m(e,n))}for(;y<l.length;y+=1)l[y].d(1);l.length=o.length}a[19]&&(a[0]||a[1]||a[2][0])?p?p.p(a,_):(p=Kv(a),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(a){a&&Be(e),_A(l,a),p&&p.d()}}}function Ov(i){let e,n,o,l,p;return{c(){e=Cr("circle"),this.h()},l(a){e=Qr(a,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class",""),ce(e,"cx",n=i[5](i[25].x)),ce(e,"cy",o=i[6](i[25].y)),ce(e,"r",l=i[25].r),ce(e,"fill",p=i[7]?i[8](i[9][i[27]]):i[10][0])},m(a,_){Ye(a,e,_)},p(a,_){_&48&&n!==(n=a[5](a[25].x))&&ce(e,"cx",n),_&80&&o!==(o=a[6](a[25].y))&&ce(e,"cy",o),_&16&&l!==(l=a[25].r)&&ce(e,"r",l),_&1920&&p!==(p=a[7]?a[8](a[9][a[27]]):a[10][0])&&ce(e,"fill",p)},d(a){a&&Be(e)}}}function Kv(i){let e,n=i[4],o=[];for(let l=0;l<n.length;l+=1)o[l]=Vv(Hv(i,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Mt()},l(l){for(let p=0;p<o.length;p+=1)o[p].l(l);e=Mt()},m(l,p){for(let a=0;a<o.length;a+=1)o[a].m(l,p);Ye(l,e,p)},p(l,p){if(p&16253567){n=l[4];let a;for(a=0;a<n.length;a+=1){const _=Hv(l,n,a);o[a]?o[a].p(_,p):(o[a]=Vv(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){_A(o,l),l&&Be(e)}}}function Nv(i){let e,n,o,l,p,a,_;return{c(){e=Cr("circle"),this.h()},l(y){e=Qr(y,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class",""),ce(e,"cx",n=i[5](i[25].x)),ce(e,"cy",o=i[6](i[25].y)),ce(e,"r",l=i[25].r),ce(e,"fill",p=i[3]&&i[9][i[27]][i[19]]==i[1]?i[21]:i[3]&i[2].includes(i[9][i[27]][i[19]])?i[22]:"none"),ce(e,"stroke",a=i[9][i[27]][i[19]]==i[0]?i[20]:i[9][i[27]][i[19]]==i[1]?i[21]:i[22]),ce(e,"stroke-width",_=i[9][i[27]][i[19]]==i[0]||i[9][i[27]][i[19]]==i[1]||i[2].includes(i[9][i[27]][i[19]])?i[23]:0)},m(y,F){Ye(y,e,F)},p(y,F){F&48&&n!==(n=y[5](y[25].x))&&ce(e,"cx",n),F&80&&o!==(o=y[6](y[25].y))&&ce(e,"cy",o),F&16&&l!==(l=y[25].r)&&ce(e,"r",l),F&526&&p!==(p=y[3]&&y[9][y[27]][y[19]]==y[1]?y[21]:y[3]&y[2].includes(y[9][y[27]][y[19]])?y[22]:"none")&&ce(e,"fill",p),F&515&&a!==(a=y[9][y[27]][y[19]]==y[0]?y[20]:y[9][y[27]][y[19]]==y[1]?y[21]:y[22])&&ce(e,"stroke",a),F&519&&_!==(_=y[9][y[27]][y[19]]==y[0]||y[9][y[27]][y[19]]==y[1]||y[2].includes(y[9][y[27]][y[19]])?y[23]:0)&&ce(e,"stroke-width",_)},d(y){y&&Be(e)}}}function Vv(i){let e=[...i[2],i[1],i[0]].includes(i[9][i[27]][i[19]]),n,o=e&&Nv(i);return{c(){o&&o.c(),n=Mt()},l(l){o&&o.l(l),n=Mt()},m(l,p){o&&o.m(l,p),Ye(l,n,p)},p(l,p){p&519&&(e=[...l[2],l[1],l[0]].includes(l[9][l[27]][l[19]])),e?o?o.p(l,p):(o=Nv(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(l){o&&o.d(l),l&&Be(n)}}}function tS(i){let e,n=i[4]&&Rv(i);return{c(){n&&n.c(),e=Mt()},l(o){n&&n.l(o),e=Mt()},m(o,l){n&&n.m(o,l),Ye(o,e,l)},p(o,[l]){o[4]?n?n.p(o,l):(n=Rv(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ir,o:Ir,d(o){n&&n.d(o),o&&Be(e)}}}function rS(i,e,n){let o,l,p,a,_,y,F,Q;const{data:x,z:I,xScale:M,yScale:k,zGet:K,zRange:$,custom:R}=UA("LayerCake");At(i,x,De=>n(9,F=De)),At(i,I,De=>n(7,_=De)),At(i,M,De=>n(5,p=De)),At(i,k,De=>n(6,a=De)),At(i,K,De=>n(8,y=De)),At(i,$,De=>n(10,Q=De)),At(i,R,De=>n(24,o=De));let{hovered:V=null}=e,{selected:le=null}=e,{highlighted:ee=[]}=e,{overlayFill:me=!1}=e,we=o.coords;At(i,we,De=>n(4,l=De));let Ge=o.idKey,Le=o.colorHover?o.colorHover:"orange",fe=o.colorSelect?o.colorSelect:"black",Ee=o.colorHighlight?o.colorHighlight:"black",ve=o.lineWidth?o.lineWidth:2;return i.$$set=De=>{"hovered"in De&&n(0,V=De.hovered),"selected"in De&&n(1,le=De.selected),"highlighted"in De&&n(2,ee=De.highlighted),"overlayFill"in De&&n(3,me=De.overlayFill)},[V,le,ee,me,l,p,a,_,y,F,Q,x,I,M,k,K,$,R,we,Ge,Le,fe,Ee,ve]}class iS extends Ei{constructor(e){super();Fi(this,e,rS,tS,wi,{hovered:0,selected:1,highlighted:2,overlayFill:3})}}const xa=11102230246251565e-32,gA=134217729,nS=(3+8*xa)*xa;function Od(i,e,n,o,l){let p,a,_,y,F=e[0],Q=o[0],x=0,I=0;Q>F==Q>-F?(p=F,F=e[++x]):(p=Q,Q=o[++I]);let M=0;if(x<i&&I<n)for(Q>F==Q>-F?(a=F+p,_=p-(a-F),F=e[++x]):(a=Q+p,_=p-(a-Q),Q=o[++I]),p=a,_!==0&&(l[M++]=_);x<i&&I<n;)Q>F==Q>-F?(a=p+F,y=a-p,_=p-(a-y)+(F-y),F=e[++x]):(a=p+Q,y=a-p,_=p-(a-y)+(Q-y),Q=o[++I]),p=a,_!==0&&(l[M++]=_);for(;x<i;)a=p+F,y=a-p,_=p-(a-y)+(F-y),F=e[++x],p=a,_!==0&&(l[M++]=_);for(;I<n;)a=p+Q,y=a-p,_=p-(a-y)+(Q-y),Q=o[++I],p=a,_!==0&&(l[M++]=_);return(p!==0||M===0)&&(l[M++]=p),M}function AS(i,e){let n=e[0];for(let o=1;o<i;o++)n+=e[o];return n}function Zc(i){return new Float64Array(i)}const oS=(3+16*xa)*xa,aS=(2+12*xa)*xa,sS=(9+64*xa)*xa*xa,Gl=Zc(4),Gv=Zc(8),Xv=Zc(12),jv=Zc(16),CA=Zc(4);function lS(i,e,n,o,l,p,a){let _,y,F,Q,x,I,M,k,K,$,R,V,le,ee,me,we,Ge,Le;const fe=i-l,Ee=n-l,ve=e-p,De=o-p;ee=fe*De,I=gA*fe,M=I-(I-fe),k=fe-M,I=gA*De,K=I-(I-De),$=De-K,me=k*$-(ee-M*K-k*K-M*$),we=ve*Ee,I=gA*ve,M=I-(I-ve),k=ve-M,I=gA*Ee,K=I-(I-Ee),$=Ee-K,Ge=k*$-(we-M*K-k*K-M*$),R=me-Ge,x=me-R,Gl[0]=me-(R+x)+(x-Ge),V=ee+R,x=V-ee,le=ee-(V-x)+(R-x),R=le-we,x=le-R,Gl[1]=le-(R+x)+(x-we),Le=V+R,x=Le-V,Gl[2]=V-(Le-x)+(R-x),Gl[3]=Le;let Qe=AS(4,Gl),Ze=aS*a;if(Qe>=Ze||-Qe>=Ze||(x=i-fe,_=i-(fe+x)+(x-l),x=n-Ee,F=n-(Ee+x)+(x-l),x=e-ve,y=e-(ve+x)+(x-p),x=o-De,Q=o-(De+x)+(x-p),_===0&&y===0&&F===0&&Q===0)||(Ze=sS*a+nS*Math.abs(Qe),Qe+=fe*Q+De*_-(ve*F+Ee*y),Qe>=Ze||-Qe>=Ze))return Qe;ee=_*De,I=gA*_,M=I-(I-_),k=_-M,I=gA*De,K=I-(I-De),$=De-K,me=k*$-(ee-M*K-k*K-M*$),we=y*Ee,I=gA*y,M=I-(I-y),k=y-M,I=gA*Ee,K=I-(I-Ee),$=Ee-K,Ge=k*$-(we-M*K-k*K-M*$),R=me-Ge,x=me-R,CA[0]=me-(R+x)+(x-Ge),V=ee+R,x=V-ee,le=ee-(V-x)+(R-x),R=le-we,x=le-R,CA[1]=le-(R+x)+(x-we),Le=V+R,x=Le-V,CA[2]=V-(Le-x)+(R-x),CA[3]=Le;const Ne=Od(4,Gl,4,CA,Gv);ee=fe*Q,I=gA*fe,M=I-(I-fe),k=fe-M,I=gA*Q,K=I-(I-Q),$=Q-K,me=k*$-(ee-M*K-k*K-M*$),we=ve*F,I=gA*ve,M=I-(I-ve),k=ve-M,I=gA*F,K=I-(I-F),$=F-K,Ge=k*$-(we-M*K-k*K-M*$),R=me-Ge,x=me-R,CA[0]=me-(R+x)+(x-Ge),V=ee+R,x=V-ee,le=ee-(V-x)+(R-x),R=le-we,x=le-R,CA[1]=le-(R+x)+(x-we),Le=V+R,x=Le-V,CA[2]=V-(Le-x)+(R-x),CA[3]=Le;const Fe=Od(Ne,Gv,4,CA,Xv);ee=_*Q,I=gA*_,M=I-(I-_),k=_-M,I=gA*Q,K=I-(I-Q),$=Q-K,me=k*$-(ee-M*K-k*K-M*$),we=y*F,I=gA*y,M=I-(I-y),k=y-M,I=gA*F,K=I-(I-F),$=F-K,Ge=k*$-(we-M*K-k*K-M*$),R=me-Ge,x=me-R,CA[0]=me-(R+x)+(x-Ge),V=ee+R,x=V-ee,le=ee-(V-x)+(R-x),R=le-we,x=le-R,CA[1]=le-(R+x)+(x-we),Le=V+R,x=Le-V,CA[2]=V-(Le-x)+(R-x),CA[3]=Le;const rt=Od(Fe,Xv,4,CA,jv);return jv[rt-1]}function Mf(i,e,n,o,l,p){const a=(e-p)*(n-l),_=(i-l)*(o-p),y=a-_;if(a===0||_===0||a>0!=_>0)return y;const F=Math.abs(a+_);return Math.abs(y)>=oS*F?y:-lS(i,e,n,o,l,p,F)}const Zv=Math.pow(2,-52),Df=new Uint32Array(512);class ap{static from(e,n=pS,o=dS){const l=e.length,p=new Float64Array(l*2);for(let a=0;a<l;a++){const _=e[a];p[2*a]=n(_),p[2*a+1]=o(_)}return new ap(p)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const o=Math.max(2*n-5,0);this._triangles=new Uint32Array(o*3),this._halfedges=new Int32Array(o*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:o,_hullTri:l,_hullHash:p}=this,a=e.length>>1;let _=1/0,y=1/0,F=-1/0,Q=-1/0;for(let Ee=0;Ee<a;Ee++){const ve=e[2*Ee],De=e[2*Ee+1];ve<_&&(_=ve),De<y&&(y=De),ve>F&&(F=ve),De>Q&&(Q=De),this._ids[Ee]=Ee}const x=(_+F)/2,I=(y+Q)/2;let M=1/0,k,K,$;for(let Ee=0;Ee<a;Ee++){const ve=Kd(x,I,e[2*Ee],e[2*Ee+1]);ve<M&&(k=Ee,M=ve)}const R=e[2*k],V=e[2*k+1];M=1/0;for(let Ee=0;Ee<a;Ee++){if(Ee===k)continue;const ve=Kd(R,V,e[2*Ee],e[2*Ee+1]);ve<M&&ve>0&&(K=Ee,M=ve)}let le=e[2*K],ee=e[2*K+1],me=1/0;for(let Ee=0;Ee<a;Ee++){if(Ee===k||Ee===K)continue;const ve=hS(R,V,le,ee,e[2*Ee],e[2*Ee+1]);ve<me&&($=Ee,me=ve)}let we=e[2*$],Ge=e[2*$+1];if(me===1/0){for(let De=0;De<a;De++)this._dists[De]=e[2*De]-e[0]||e[2*De+1]-e[1];Wl(this._ids,this._dists,0,a-1);const Ee=new Uint32Array(a);let ve=0;for(let De=0,Qe=-1/0;De<a;De++){const Ze=this._ids[De];this._dists[Ze]>Qe&&(Ee[ve++]=Ze,Qe=this._dists[Ze])}this.hull=Ee.subarray(0,ve),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Mf(R,V,le,ee,we,Ge)<0){const Ee=K,ve=le,De=ee;K=$,le=we,ee=Ge,$=Ee,we=ve,Ge=De}const Le=fS(R,V,le,ee,we,Ge);this._cx=Le.x,this._cy=Le.y;for(let Ee=0;Ee<a;Ee++)this._dists[Ee]=Kd(e[2*Ee],e[2*Ee+1],Le.x,Le.y);Wl(this._ids,this._dists,0,a-1),this._hullStart=k;let fe=3;o[k]=n[$]=K,o[K]=n[k]=$,o[$]=n[K]=k,l[k]=0,l[K]=1,l[$]=2,p.fill(-1),p[this._hashKey(R,V)]=k,p[this._hashKey(le,ee)]=K,p[this._hashKey(we,Ge)]=$,this.trianglesLen=0,this._addTriangle(k,K,$,-1,-1,-1);for(let Ee=0,ve,De;Ee<this._ids.length;Ee++){const Qe=this._ids[Ee],Ze=e[2*Qe],Ne=e[2*Qe+1];if(Ee>0&&Math.abs(Ze-ve)<=Zv&&Math.abs(Ne-De)<=Zv||(ve=Ze,De=Ne,Qe===k||Qe===K||Qe===$))continue;let Fe=0;for(let ot=0,jt=this._hashKey(Ze,Ne);ot<this._hashSize&&(Fe=p[(jt+ot)%this._hashSize],!(Fe!==-1&&Fe!==o[Fe]));ot++);Fe=n[Fe];let rt=Fe,ct;for(;ct=o[rt],Mf(Ze,Ne,e[2*rt],e[2*rt+1],e[2*ct],e[2*ct+1])>=0;)if(rt=ct,rt===Fe){rt=-1;break}if(rt===-1)continue;let Tt=this._addTriangle(rt,Qe,o[rt],-1,-1,l[rt]);l[Qe]=this._legalize(Tt+2),l[rt]=Tt,fe++;let at=o[rt];for(;ct=o[at],Mf(Ze,Ne,e[2*at],e[2*at+1],e[2*ct],e[2*ct+1])<0;)Tt=this._addTriangle(at,Qe,ct,l[Qe],-1,l[at]),l[Qe]=this._legalize(Tt+2),o[at]=at,fe--,at=ct;if(rt===Fe)for(;ct=n[rt],Mf(Ze,Ne,e[2*ct],e[2*ct+1],e[2*rt],e[2*rt+1])<0;)Tt=this._addTriangle(ct,Qe,rt,-1,l[rt],l[ct]),this._legalize(Tt+2),l[ct]=Tt,o[rt]=rt,fe--,rt=ct;this._hullStart=n[Qe]=rt,o[rt]=n[at]=Qe,o[Qe]=at,p[this._hashKey(Ze,Ne)]=Qe,p[this._hashKey(e[2*rt],e[2*rt+1])]=rt}this.hull=new Uint32Array(fe);for(let Ee=0,ve=this._hullStart;Ee<fe;Ee++)this.hull[Ee]=ve,ve=o[ve];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(uS(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:o,coords:l}=this;let p=0,a=0;for(;;){const _=o[e],y=e-e%3;if(a=y+(e+2)%3,_===-1){if(p===0)break;e=Df[--p];continue}const F=_-_%3,Q=y+(e+1)%3,x=F+(_+2)%3,I=n[a],M=n[e],k=n[Q],K=n[x];if(cS(l[2*I],l[2*I+1],l[2*M],l[2*M+1],l[2*k],l[2*k+1],l[2*K],l[2*K+1])){n[e]=K,n[_]=I;const R=o[x];if(R===-1){let le=this._hullStart;do{if(this._hullTri[le]===x){this._hullTri[le]=e;break}le=this._hullPrev[le]}while(le!==this._hullStart)}this._link(e,R),this._link(_,o[a]),this._link(a,x);const V=F+(_+1)%3;p<Df.length&&(Df[p++]=V)}else{if(p===0)break;e=Df[--p]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,o,l,p,a){const _=this.trianglesLen;return this._triangles[_]=e,this._triangles[_+1]=n,this._triangles[_+2]=o,this._link(_,l),this._link(_+1,p),this._link(_+2,a),this.trianglesLen+=3,_}}function uS(i,e){const n=i/(Math.abs(i)+Math.abs(e));return(e>0?3-n:1+n)/4}function Kd(i,e,n,o){const l=i-n,p=e-o;return l*l+p*p}function cS(i,e,n,o,l,p,a,_){const y=i-a,F=e-_,Q=n-a,x=o-_,I=l-a,M=p-_,k=y*y+F*F,K=Q*Q+x*x,$=I*I+M*M;return y*(x*$-K*M)-F*(Q*$-K*I)+k*(Q*M-x*I)<0}function hS(i,e,n,o,l,p){const a=n-i,_=o-e,y=l-i,F=p-e,Q=a*a+_*_,x=y*y+F*F,I=.5/(a*F-_*y),M=(F*Q-_*x)*I,k=(a*x-y*Q)*I;return M*M+k*k}function fS(i,e,n,o,l,p){const a=n-i,_=o-e,y=l-i,F=p-e,Q=a*a+_*_,x=y*y+F*F,I=.5/(a*F-_*y),M=i+(F*Q-_*x)*I,k=e+(a*x-y*Q)*I;return{x:M,y:k}}function Wl(i,e,n,o){if(o-n<=20)for(let l=n+1;l<=o;l++){const p=i[l],a=e[p];let _=l-1;for(;_>=n&&e[i[_]]>a;)i[_+1]=i[_--];i[_+1]=p}else{const l=n+o>>1;let p=n+1,a=o;uc(i,l,p),e[i[n]]>e[i[o]]&&uc(i,n,o),e[i[p]]>e[i[o]]&&uc(i,p,o),e[i[n]]>e[i[p]]&&uc(i,n,p);const _=i[p],y=e[_];for(;;){do p++;while(e[i[p]]<y);do a--;while(e[i[a]]>y);if(a<p)break;uc(i,p,a)}i[n+1]=i[a],i[a]=_,o-p+1>=a-n?(Wl(i,e,p,o),Wl(i,e,n,a-1)):(Wl(i,e,n,a-1),Wl(i,e,p,o))}}function uc(i,e,n){const o=i[e];i[e]=i[n],i[n]=o}function pS(i){return i[0]}function dS(i){return i[1]}const qv=1e-6;class Ps{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,o){e=+e,n=+n,o=+o;const l=e+o,p=n;if(o<0)throw new Error("negative radius");this._x1===null?this._+=`M${l},${p}`:(Math.abs(this._x1-l)>qv||Math.abs(this._y1-p)>qv)&&(this._+="L"+l+","+p),o&&(this._+=`A${o},${o},0,1,1,${e-o},${n}A${o},${o},0,1,1,${this._x1=l},${this._y1=p}`)}rect(e,n,o,l){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+o}v${+l}h${-o}Z`}value(){return this._||null}}class Eg{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class gS{constructor(e,[n,o,l,p]=[0,0,960,500]){if(!((l=+l)>=(n=+n))||!((p=+p)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=l,this.xmin=n,this.ymax=p,this.ymin=o,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:o},vectors:l}=this,p=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2);for(let M=0,k=0,K=o.length,$,R;M<K;M+=3,k+=2){const V=o[M]*2,le=o[M+1]*2,ee=o[M+2]*2,me=e[V],we=e[V+1],Ge=e[le],Le=e[le+1],fe=e[ee],Ee=e[ee+1],ve=Ge-me,De=Le-we,Qe=fe-me,Ze=Ee-we,Ne=(ve*Ze-De*Qe)*2;if(Math.abs(Ne)<1e-9){let Fe=1e9;const rt=o[0]*2;Fe*=Math.sign((e[rt]-me)*Ze-(e[rt+1]-we)*Qe),$=(me+fe)/2-Fe*Ze,R=(we+Ee)/2+Fe*Qe}else{const Fe=1/Ne,rt=ve*ve+De*De,ct=Qe*Qe+Ze*Ze;$=me+(Ze*rt-De*ct)*Fe,R=we+(ve*ct-Qe*rt)*Fe}p[k]=$,p[k+1]=R}let a=n[n.length-1],_,y=a*4,F,Q=e[2*a],x,I=e[2*a+1];l.fill(0);for(let M=0;M<n.length;++M)a=n[M],_=y,F=Q,x=I,y=a*4,Q=e[2*a],I=e[2*a+1],l[_+2]=l[y]=x-I,l[_+3]=l[y+1]=Q-F}render(e){const n=e==null?e=new Ps:void 0,{delaunay:{halfedges:o,inedges:l,hull:p},circumcenters:a,vectors:_}=this;if(p.length<=1)return null;for(let Q=0,x=o.length;Q<x;++Q){const I=o[Q];if(I<Q)continue;const M=Math.floor(Q/3)*2,k=Math.floor(I/3)*2,K=a[M],$=a[M+1],R=a[k],V=a[k+1];this._renderSegment(K,$,R,V,e)}let y,F=p[p.length-1];for(let Q=0;Q<p.length;++Q){y=F,F=p[Q];const x=Math.floor(l[F]/3)*2,I=a[x],M=a[x+1],k=y*4,K=this._project(I,M,_[k+2],_[k+3]);K&&this._renderSegment(I,M,K[0],K[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new Ps:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const o=n==null?n=new Ps:void 0,l=this._clip(e);if(l===null||!l.length)return;n.moveTo(l[0],l[1]);let p=l.length;for(;l[0]===l[p-2]&&l[1]===l[p-1]&&p>1;)p-=2;for(let a=2;a<p;a+=2)(l[a]!==l[a-2]||l[a+1]!==l[a-1])&&n.lineTo(l[a],l[a+1]);return n.closePath(),o&&o.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,o=e.length/2;n<o;++n){const l=this.cellPolygon(n);l&&(l.index=n,yield l)}}cellPolygon(e){const n=new Eg;return this.renderCell(e,n),n.value()}_renderSegment(e,n,o,l,p){let a;const _=this._regioncode(e,n),y=this._regioncode(o,l);_===0&&y===0?(p.moveTo(e,n),p.lineTo(o,l)):(a=this._clipSegment(e,n,o,l,_,y))&&(p.moveTo(a[0],a[1]),p.lineTo(a[2],a[3]))}contains(e,n,o){return n=+n,n!==n||(o=+o,o!==o)?!1:this.delaunay._step(e,n,o)===e}*neighbors(e){const n=this._clip(e);if(n)for(const o of this.delaunay.neighbors(e)){const l=this._clip(o);if(l)e:for(let p=0,a=n.length;p<a;p+=2)for(let _=0,y=l.length;_<y;_+=2)if(n[p]==l[_]&&n[p+1]==l[_+1]&&n[(p+2)%a]==l[(_+y-2)%y]&&n[(p+3)%a]==l[(_+y-1)%y]){yield o;break e}}}_cell(e){const{circumcenters:n,delaunay:{inedges:o,halfedges:l,triangles:p}}=this,a=o[e];if(a===-1)return null;const _=[];let y=a;do{const F=Math.floor(y/3);if(_.push(n[F*2],n[F*2+1]),y=y%3===2?y-2:y+1,p[y]!==e)break;y=l[y]}while(y!==a&&y!==-1);return _}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:o}=this,l=e*4;return o[l]||o[l+1]?this._clipInfinite(e,n,o[l],o[l+1],o[l+2],o[l+3]):this._clipFinite(e,n)}_clipFinite(e,n){const o=n.length;let l=null,p,a,_=n[o-2],y=n[o-1],F,Q=this._regioncode(_,y),x,I=0;for(let M=0;M<o;M+=2)if(p=_,a=y,_=n[M],y=n[M+1],F=Q,Q=this._regioncode(_,y),F===0&&Q===0)x=I,I=0,l?l.push(_,y):l=[_,y];else{let k,K,$,R,V;if(F===0){if((k=this._clipSegment(p,a,_,y,F,Q))===null)continue;[K,$,R,V]=k}else{if((k=this._clipSegment(_,y,p,a,Q,F))===null)continue;[R,V,K,$]=k,x=I,I=this._edgecode(K,$),x&&I&&this._edge(e,x,I,l,l.length),l?l.push(K,$):l=[K,$]}x=I,I=this._edgecode(R,V),x&&I&&this._edge(e,x,I,l,l.length),l?l.push(R,V):l=[R,V]}if(l)x=I,I=this._edgecode(l[0],l[1]),x&&I&&this._edge(e,x,I,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(e,n,o,l,p,a){for(;;){if(p===0&&a===0)return[e,n,o,l];if(p&a)return null;let _,y,F=p||a;F&8?(_=e+(o-e)*(this.ymax-n)/(l-n),y=this.ymax):F&4?(_=e+(o-e)*(this.ymin-n)/(l-n),y=this.ymin):F&2?(y=n+(l-n)*(this.xmax-e)/(o-e),_=this.xmax):(y=n+(l-n)*(this.xmin-e)/(o-e),_=this.xmin),p?(e=_,n=y,p=this._regioncode(e,n)):(o=_,l=y,a=this._regioncode(o,l))}}_clipInfinite(e,n,o,l,p,a){let _=Array.from(n),y;if((y=this._project(_[0],_[1],o,l))&&_.unshift(y[0],y[1]),(y=this._project(_[_.length-2],_[_.length-1],p,a))&&_.push(y[0],y[1]),_=this._clipFinite(e,_))for(let F=0,Q=_.length,x,I=this._edgecode(_[Q-2],_[Q-1]);F<Q;F+=2)x=I,I=this._edgecode(_[F],_[F+1]),x&&I&&(F=this._edge(e,x,I,_,F),Q=_.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(_=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return _}_edge(e,n,o,l,p){for(;n!==o;){let a,_;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,_=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,_=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,_=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,_=this.ymin;break}(l[p]!==a||l[p+1]!==_)&&this.contains(e,a,_)&&(l.splice(p,0,a,_),p+=2)}if(l.length>4)for(let a=0;a<l.length;a+=2){const _=(a+2)%l.length,y=(a+4)%l.length;(l[a]===l[_]&&l[_]===l[y]||l[a+1]===l[_+1]&&l[_+1]===l[y+1])&&(l.splice(_,2),a-=2)}return p}_project(e,n,o,l){let p=1/0,a,_,y;if(l<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/l)<p&&(y=this.ymin,_=e+(p=a)*o)}else if(l>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/l)<p&&(y=this.ymax,_=e+(p=a)*o)}if(o>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/o)<p&&(_=this.xmax,y=n+(p=a)*l)}else if(o<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/o)<p&&(_=this.xmin,y=n+(p=a)*l)}return[_,y]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const mS=2*Math.PI,Xl=Math.pow;function yS(i){return i[0]}function _S(i){return i[1]}function vS(i){const{triangles:e,coords:n}=i;for(let o=0;o<e.length;o+=3){const l=2*e[o],p=2*e[o+1],a=2*e[o+2];if((n[a]-n[l])*(n[p+1]-n[l+1])-(n[p]-n[l])*(n[a+1]-n[l+1])>1e-10)return!1}return!0}function wS(i,e,n){return[i+Math.sin(i+e)*n,e+Math.cos(i-e)*n]}class Am{static from(e,n=yS,o=_S,l){return new Am("length"in e?BS(e,n,o,l):Float64Array.from(bS(e,n,o,l)))}constructor(e){this._delaunator=new ap(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&vS(e)){this.collinear=Int32Array.from({length:n.length/2},(I,M)=>M).sort((I,M)=>n[2*I]-n[2*M]||n[2*I+1]-n[2*M+1]);const y=this.collinear[0],F=this.collinear[this.collinear.length-1],Q=[n[2*y],n[2*y+1],n[2*F],n[2*F+1]],x=1e-8*Math.hypot(Q[3]-Q[1],Q[2]-Q[0]);for(let I=0,M=n.length/2;I<M;++I){const k=wS(n[2*I],n[2*I+1],x);n[2*I]=k[0],n[2*I+1]=k[1]}this._delaunator=new ap(n)}else delete this.collinear;const o=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,p=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),_=this._hullIndex.fill(-1);for(let y=0,F=o.length;y<F;++y){const Q=p[y%3===2?y-2:y+1];(o[y]===-1||a[Q]===-1)&&(a[Q]=y)}for(let y=0,F=l.length;y<F;++y)_[l[y]]=y;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],a[l[0]]=1,l.length===2&&(a[l[1]]=0,this.triangles[1]=l[1],this.triangles[2]=l[1]))}voronoi(e){return new gS(this,e)}*neighbors(e){const{inedges:n,hull:o,_hullIndex:l,halfedges:p,triangles:a,collinear:_}=this;if(_){const x=_.indexOf(e);x>0&&(yield _[x-1]),x<_.length-1&&(yield _[x+1]);return}const y=n[e];if(y===-1)return;let F=y,Q=-1;do{if(yield Q=a[F],F=F%3===2?F-2:F+1,a[F]!==e)return;if(F=p[F],F===-1){const x=o[(l[e]+1)%o.length];x!==Q&&(yield x);return}}while(F!==y)}find(e,n,o=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const l=o;let p;for(;(p=this._step(o,e,n))>=0&&p!==o&&p!==l;)o=p;return p}_step(e,n,o){const{inedges:l,hull:p,_hullIndex:a,halfedges:_,triangles:y,points:F}=this;if(l[e]===-1||!F.length)return(e+1)%(F.length>>1);let Q=e,x=Xl(n-F[e*2],2)+Xl(o-F[e*2+1],2);const I=l[e];let M=I;do{let k=y[M];const K=Xl(n-F[k*2],2)+Xl(o-F[k*2+1],2);if(K<x&&(x=K,Q=k),M=M%3===2?M-2:M+1,y[M]!==e)break;if(M=_[M],M===-1){if(M=p[(a[e]+1)%p.length],M!==k&&Xl(n-F[M*2],2)+Xl(o-F[M*2+1],2)<x)return M;break}}while(M!==I);return Q}render(e){const n=e==null?e=new Ps:void 0,{points:o,halfedges:l,triangles:p}=this;for(let a=0,_=l.length;a<_;++a){const y=l[a];if(y<a)continue;const F=p[a]*2,Q=p[y]*2;e.moveTo(o[F],o[F+1]),e.lineTo(o[Q],o[Q+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const o=e==null?e=new Ps:void 0,{points:l}=this;for(let p=0,a=l.length;p<a;p+=2){const _=l[p],y=l[p+1];e.moveTo(_+n,y),e.arc(_,y,n,0,mS)}return o&&o.value()}renderHull(e){const n=e==null?e=new Ps:void 0,{hull:o,points:l}=this,p=o[0]*2,a=o.length;e.moveTo(l[p],l[p+1]);for(let _=1;_<a;++_){const y=2*o[_];e.lineTo(l[y],l[y+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new Eg;return this.renderHull(e),e.value()}renderTriangle(e,n){const o=n==null?n=new Ps:void 0,{points:l,triangles:p}=this,a=p[e*=3]*2,_=p[e+1]*2,y=p[e+2]*2;return n.moveTo(l[a],l[a+1]),n.lineTo(l[_],l[_+1]),n.lineTo(l[y],l[y+1]),n.closePath(),o&&o.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,o=e.length/3;n<o;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new Eg;return this.renderTriangle(e,n),n.value()}}function BS(i,e,n,o){const l=i.length,p=new Float64Array(l*2);for(let a=0;a<l;++a){const _=i[a];p[a*2]=e.call(o,_,a,i),p[a*2+1]=n.call(o,_,a,i)}return p}function*bS(i,e,n,o){let l=0;for(const p of i)yield e.call(o,p,l,i),yield n.call(o,p,l,i),++l}function Wv(i,e,n){const o=i.slice();return o[29]=e[n],o[31]=n,o}function Jv(i){let e,n=i[1],o=[];for(let l=0;l<n.length;l+=1)o[l]=Yv(Wv(i,n,l));return{c(){e=Cr("g");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=Qr(l,"g",{class:!0});var p=Et(e);for(let a=0;a<o.length;a+=1)o[a].l(p);p.forEach(Be),this.h()},h(){ce(e,"class","voronoi-group")},m(l,p){Ye(l,e,p);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(l,p){if(p[0]&1539){n=l[1];let a;for(a=0;a<n.length;a+=1){const _=Wv(l,n,a);o[a]?o[a].p(_,p):(o[a]=Yv(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(l){l&&Be(e),_A(o,l)}}}function Yv(i){let e,n,o,l;function p(...y){return i[21](i[31],...y)}function a(...y){return i[23](i[31],...y)}function _(...y){return i[25](i[31],...y)}return{c(){e=Cr("path"),this.h()},l(y){e=Qr(y,"path",{class:!0,d:!0}),Et(e).forEach(Be),this.h()},h(){ce(e,"class","voronoi-cell svelte-169satm"),ce(e,"d",n=i[0].renderCell(i[31]))},m(y,F){Ye(y,e,F),o||(l=[jr(e,"mouseover",p),jr(e,"mouseleave",i[22]),jr(e,"focus",a),jr(e,"blur",i[24]),jr(e,"click",_)],o=!0)},p(y,F){i=y,F[0]&1&&n!==(n=i[0].renderCell(i[31]))&&ce(e,"d",n)},d(y){y&&Be(e),o=!1,jA(l)}}}function xS(i){let e,n=i[0]&&Jv(i);return{c(){n&&n.c(),e=Mt()},l(o){n&&n.l(o),e=Mt()},m(o,l){n&&n.m(o,l),Ye(o,e,l)},p(o,l){o[0]?n?n.p(o,l):(n=Jv(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ir,o:Ir,d(o){n&&n.d(o),o&&Be(e)}}}function CS(i,e,n){let o,l,p,a,_,y,F,Q,x;const{data:I,width:M,height:k,custom:K,xScale:$,yScale:R}=UA("LayerCake");At(i,I,Fe=>n(1,x=Fe)),At(i,M,Fe=>n(17,a=Fe)),At(i,k,Fe=>n(16,p=Fe)),At(i,K,Fe=>n(26,Q=Fe)),At(i,$,Fe=>n(19,y=Fe)),At(i,R,Fe=>n(18,_=Fe));const V=Ks();let{hover:le=!1}=e,{hovered:ee=null}=e,{select:me=!1}=e,{selected:we=null}=e,Ge=Q.coords;At(i,Ge,Fe=>n(20,F=Fe));let Le=Q.idKey;function fe(Fe,rt){le&&(n(11,ee=rt?rt[Le]:null),V("hover",{id:ee,data:rt,event:Fe}))}function Ee(Fe,rt){me&&(n(12,we=rt?rt[Le]:null),V("select",{id:we,data:rt,event:Fe}))}const ve=(Fe,rt)=>fe(rt,x[Fe]),De=Fe=>fe(Fe,null),Qe=(Fe,rt)=>fe(rt,x[Fe]),Ze=Fe=>fe(Fe,null),Ne=(Fe,rt)=>Ee(rt,x[Fe]);return i.$$set=Fe=>{"hover"in Fe&&n(13,le=Fe.hover),"hovered"in Fe&&n(11,ee=Fe.hovered),"select"in Fe&&n(14,me=Fe.select),"selected"in Fe&&n(12,we=Fe.selected)},i.$$.update=()=>{i.$$.dirty[0]&1835008&&n(15,o=Array.isArray(F)?F.map(Fe=>[y(Fe.x),_(Fe.y)]):[]),i.$$.dirty[0]&229376&&n(0,l=Am.from(o).voronoi([0,0,a,p]))},[l,x,I,M,k,K,$,R,Ge,fe,Ee,ee,we,le,me,o,p,a,_,y,F,ve,De,Qe,Ze,Ne]}class FS extends Ei{constructor(e){super();Fi(this,e,CS,xS,wi,{hover:13,hovered:11,select:14,selected:12},null,[-1,-1])}}const ES=i=>({}),$v=i=>({}),US=i=>({}),e1=i=>({}),QS=i=>({}),t1=i=>({}),IS=i=>({}),r1=i=>({});function i1(i){let e,n;return e=new rm({props:{$$slots:{default:[SS]},$$scope:{ctx:i}}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&67108864|l[2]&32&&(p.$$scope={dirty:l,ctx:o}),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function SS(i){let e;return{c(){e=hn(i[26])},l(n){e=Hn(n,i[26])},m(n,o){Ye(n,e,o)},p(n,o){o[0]&67108864&&EA(e,n[26])},d(n){n&&Be(e)}}}function n1(i){let e,n;return e=new $g({props:{ticks:i[21],formatTick:i[17],snapTicks:i[31],prefix:i[37],suffix:i[38],textColor:i[23],tickColor:i[24],tickDashed:i[25]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&2097152&&(p.ticks=o[21]),l[0]&131072&&(p.formatTick=o[17]),l[1]&1&&(p.snapTicks=o[31]),l[1]&64&&(p.prefix=o[37]),l[1]&128&&(p.suffix=o[38]),l[0]&8388608&&(p.textColor=o[23]),l[0]&16777216&&(p.tickColor=o[24]),l[0]&33554432&&(p.tickDashed=o[25]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function A1(i){let e,n;return e=new em({props:{ticks:i[22],formatTick:i[18],prefix:i[39],suffix:i[40],textColor:i[23],tickColor:i[24],tickDashed:i[25]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&4194304&&(p.ticks=o[22]),l[0]&262144&&(p.formatTick=o[18]),l[1]&256&&(p.prefix=o[39]),l[1]&512&&(p.suffix=o[40]),l[0]&8388608&&(p.textColor=o[23]),l[0]&16777216&&(p.tickColor=o[24]),l[0]&33554432&&(p.tickDashed=o[25]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function o1(i){let e,n,o,l;function p(y){i[62](y)}function a(y){i[63](y)}let _={select:i[43],hover:i[41],highlighted:i[45]};return i[1]!==void 0&&(_.selected=i[1]),i[0]!==void 0&&(_.hovered=i[0]),e=new FS({props:_}),zn.push(()=>iu(e,"selected",p)),zn.push(()=>iu(e,"hovered",a)),e.$on("hover",i[64]),e.$on("select",i[65]),{c(){dr(e.$$.fragment)},l(y){Lr(e.$$.fragment,y)},m(y,F){lr(e,y,F),l=!0},p(y,F){const Q={};F[1]&4096&&(Q.select=y[43]),F[1]&1024&&(Q.hover=y[41]),F[1]&16384&&(Q.highlighted=y[45]),!n&&F[0]&2&&(n=!0,Q.selected=y[1],Uc(()=>n=!1)),!o&&F[0]&1&&(o=!0,Q.hovered=y[0],Uc(()=>o=!1)),e.$set(Q)},i(y){l||(Te(e.$$.fragment,y),l=!0)},o(y){Xe(e.$$.fragment,y),l=!1},d(y){ur(e,y)}}}function a1(i){let e,n;return e=new Jw({props:{hovered:i[0],selected:i[1],content:i[30]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&1&&(p.hovered=o[0]),l[0]&2&&(p.selected=o[1]),l[0]&1073741824&&(p.content=o[30]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function TS(i){let e,n,o,l,p,a,_,y=i[19]&&n1(i),F=i[20]&&i[10]&&A1(i);o=new iS({props:{selected:i[1],hovered:i[0],highlighted:i[45],overlayFill:i[47]}});let Q=(i[43]||i[41])&&o1(i),x=i[29]&&a1(i);const I=i[61].svg,M=Cn(I,i,i[67],e1);return{c(){y&&y.c(),e=ir(),F&&F.c(),n=ir(),dr(o.$$.fragment),l=ir(),Q&&Q.c(),p=ir(),x&&x.c(),a=ir(),M&&M.c()},l(k){y&&y.l(k),e=nr(k),F&&F.l(k),n=nr(k),Lr(o.$$.fragment,k),l=nr(k),Q&&Q.l(k),p=nr(k),x&&x.l(k),a=nr(k),M&&M.l(k)},m(k,K){y&&y.m(k,K),Ye(k,e,K),F&&F.m(k,K),Ye(k,n,K),lr(o,k,K),Ye(k,l,K),Q&&Q.m(k,K),Ye(k,p,K),x&&x.m(k,K),Ye(k,a,K),M&&M.m(k,K),_=!0},p(k,K){k[19]?y?(y.p(k,K),K[0]&524288&&Te(y,1)):(y=n1(k),y.c(),Te(y,1),y.m(e.parentNode,e)):y&&(Fr(),Xe(y,1,1,()=>{y=null}),Er()),k[20]&&k[10]?F?(F.p(k,K),K[0]&1049600&&Te(F,1)):(F=A1(k),F.c(),Te(F,1),F.m(n.parentNode,n)):F&&(Fr(),Xe(F,1,1,()=>{F=null}),Er());const $={};K[0]&2&&($.selected=k[1]),K[0]&1&&($.hovered=k[0]),K[1]&16384&&($.highlighted=k[45]),K[1]&65536&&($.overlayFill=k[47]),o.$set($),k[43]||k[41]?Q?(Q.p(k,K),K[1]&5120&&Te(Q,1)):(Q=o1(k),Q.c(),Te(Q,1),Q.m(p.parentNode,p)):Q&&(Fr(),Xe(Q,1,1,()=>{Q=null}),Er()),k[29]?x?(x.p(k,K),K[0]&536870912&&Te(x,1)):(x=a1(k),x.c(),Te(x,1),x.m(a.parentNode,a)):x&&(Fr(),Xe(x,1,1,()=>{x=null}),Er()),M&&M.p&&(!_||K[2]&32)&&En(M,I,k,k[67],_?Fn(I,k[67],K,US):Un(k[67]),e1)},i(k){_||(Te(y),Te(F),Te(o.$$.fragment,k),Te(Q),Te(x),Te(M,k),_=!0)},o(k){Xe(y),Xe(F),Xe(o.$$.fragment,k),Xe(Q),Xe(x),Xe(M,k),_=!1},d(k){y&&y.d(k),k&&Be(e),F&&F.d(k),k&&Be(n),ur(o,k),k&&Be(l),Q&&Q.d(k),k&&Be(p),x&&x.d(k),k&&Be(a),M&&M.d(k)}}}function kS(i){let e,n,o,l,p,a;e=new Yg({});const _=i[61].back,y=Cn(_,i,i[67],t1);l=new Ng({props:{pointerEvents:i[36],$$slots:{default:[TS]},$$scope:{ctx:i}}});const F=i[61].front,Q=Cn(F,i,i[67],$v);return{c(){dr(e.$$.fragment),n=ir(),y&&y.c(),o=ir(),dr(l.$$.fragment),p=ir(),Q&&Q.c()},l(x){Lr(e.$$.fragment,x),n=nr(x),y&&y.l(x),o=nr(x),Lr(l.$$.fragment,x),p=nr(x),Q&&Q.l(x)},m(x,I){lr(e,x,I),Ye(x,n,I),y&&y.m(x,I),Ye(x,o,I),lr(l,x,I),Ye(x,p,I),Q&&Q.m(x,I),a=!0},p(x,I){y&&y.p&&(!a||I[2]&32)&&En(y,_,x,x[67],a?Fn(_,x[67],I,QS):Un(x[67]),t1);const M={};I[1]&32&&(M.pointerEvents=x[36]),I[0]&1677591555|I[1]&88001|I[2]&32&&(M.$$scope={dirty:I,ctx:x}),l.$set(M),Q&&Q.p&&(!a||I[2]&32)&&En(Q,F,x,x[67],a?Fn(F,x[67],I,ES):Un(x[67]),$v)},i(x){a||(Te(e.$$.fragment,x),Te(y,x),Te(l.$$.fragment,x),Te(Q,x),a=!0)},o(x){Xe(e.$$.fragment,x),Xe(y,x),Xe(l.$$.fragment,x),Xe(Q,x),a=!1},d(x){ur(e,x),x&&Be(n),y&&y.d(x),x&&Be(o),ur(l,x),x&&Be(p),Q&&Q.d(x)}}}function s1(i){let e,n;return e=new tm({props:{domain:i[50],colors:i[34],markerLength:Array.isArray(i[35])?i[35][0]*2:i[35]*2,round:!0}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[1]&524288&&(p.domain=o[50]),l[1]&8&&(p.colors=o[34]),l[1]&16&&(p.markerLength=Array.isArray(o[35])?o[35][0]*2:o[35]*2),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function l1(i){let e,n;return e=new im({props:{$$slots:{default:[LS]},$$scope:{ctx:i}}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[0]&134217728|l[2]&32&&(p.$$scope={dirty:l,ctx:o}),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function LS(i){let e;return{c(){e=hn(i[27])},l(n){e=Hn(n,i[27])},m(n,o){Ye(n,e,o)},p(n,o){o[0]&134217728&&EA(e,n[27])},d(n){n&&Be(e)}}}function u1(i){let e,n;return e=new nm({props:{el:i[49],data:i[2],keys:[i[13],i[9],i[11],i[10]],title:i[26],output:i[48]}}),{c(){dr(e.$$.fragment)},l(o){Lr(e.$$.fragment,o)},m(o,l){lr(e,o,l),n=!0},p(o,l){const p={};l[1]&262144&&(p.el=o[49]),l[0]&4&&(p.data=o[2]),l[0]&11776&&(p.keys=[o[13],o[9],o[11],o[10]]),l[0]&67108864&&(p.title=o[26]),l[1]&131072&&(p.output=o[48]),e.$set(p)},i(o){n||(Te(e.$$.fragment,o),n=!0)},o(o){Xe(e.$$.fragment,o),n=!1},d(o){ur(e,o)}}}function MS(i){let e,n,o,l,p,a,_,y,F,Q,x=i[26]&&i1(i);const I=i[61].options,M=Cn(I,i,i[67],r1);p=new Kg({props:{padding:i[32],ssr:i[4],height:i[4]?i[6]:null,width:i[4]?i[5]:null,x:i[9],y:i[10],z:i[11],r:i[12],xScale:typeof i[15]=="function"?i[15]():i[15]=="log"?Ba():so(),yScale:typeof i[16]=="function"?i[16]():i[16]=="log"?Ba():so(),zScale:Vc(),xDomain:i[51],yDomain:i[52],zDomain:i[50],zRange:i[34],rRange:Array.isArray(i[35])?i[35]:[i[35],i[35]],data:i[2],xPadding:[i[33],i[33]],yPadding:i[10]?[i[33],i[33]]:null,custom:{type:"scatter",idKey:i[13],labelKey:i[14],coords:i[53],colorSelect:i[44],colorHover:i[42],colorHighlight:i[46],padding:1,animation:i[7],duration:i[8]},$$slots:{default:[kS]},$$scope:{ctx:i}}});let k=i[28]&&i[50]&&s1(i),K=i[27]&&l1(i),$=i[48]&&u1(i);return{c(){e=Sr("div"),x&&x.c(),n=ir(),M&&M.c(),o=ir(),l=Sr("div"),dr(p.$$.fragment),a=ir(),k&&k.c(),_=ir(),K&&K.c(),y=ir(),$&&$.c(),F=Mt(),this.h()},l(R){e=Or(R,"DIV",{});var V=Et(e);x&&x.l(V),n=nr(V),M&&M.l(V),o=nr(V),l=Or(V,"DIV",{class:!0,style:!0});var le=Et(l);Lr(p.$$.fragment,le),le.forEach(Be),a=nr(V),k&&k.l(V),_=nr(V),K&&K.l(V),V.forEach(Be),y=nr(R),$&&$.l(R),F=Mt(),this.h()},h(){ce(l,"class","chart-container svelte-1dnlmiu"),gr(l,"height",typeof i[3]=="number"?i[3]+"px":i[3])},m(R,V){Ye(R,e,V),x&&x.m(e,null),Ot(e,n),M&&M.m(e,null),Ot(e,o),Ot(e,l),lr(p,l,null),Ot(e,a),k&&k.m(e,null),Ot(e,_),K&&K.m(e,null),i[66](e),Ye(R,y,V),$&&$.m(R,V),Ye(R,F,V),Q=!0},p(R,V){R[26]?x?(x.p(R,V),V[0]&67108864&&Te(x,1)):(x=i1(R),x.c(),Te(x,1),x.m(e,n)):x&&(Fr(),Xe(x,1,1,()=>{x=null}),Er()),M&&M.p&&(!Q||V[2]&32)&&En(M,I,R,R[67],Q?Fn(I,R[67],V,IS):Un(R[67]),r1);const le={};V[1]&2&&(le.padding=R[32]),V[0]&16&&(le.ssr=R[4]),V[0]&80&&(le.height=R[4]?R[6]:null),V[0]&48&&(le.width=R[4]?R[5]:null),V[0]&512&&(le.x=R[9]),V[0]&1024&&(le.y=R[10]),V[0]&2048&&(le.z=R[11]),V[0]&4096&&(le.r=R[12]),V[0]&32768&&(le.xScale=typeof R[15]=="function"?R[15]():R[15]=="log"?Ba():so()),V[0]&65536&&(le.yScale=typeof R[16]=="function"?R[16]():R[16]=="log"?Ba():so()),V[1]&1048576&&(le.xDomain=R[51]),V[1]&2097152&&(le.yDomain=R[52]),V[1]&524288&&(le.zDomain=R[50]),V[1]&8&&(le.zRange=R[34]),V[1]&16&&(le.rRange=Array.isArray(R[35])?R[35]:[R[35],R[35]]),V[0]&4&&(le.data=R[2]),V[1]&4&&(le.xPadding=[R[33],R[33]]),V[0]&1024|V[1]&4&&(le.yPadding=R[10]?[R[33],R[33]]:null),V[0]&24960|V[1]&43008&&(le.custom={type:"scatter",idKey:R[13],labelKey:R[14],coords:R[53],colorSelect:R[44],colorHover:R[42],colorHighlight:R[46],padding:1,animation:R[7],duration:R[8]}),V[0]&1677591555|V[1]&88033|V[2]&32&&(le.$$scope={dirty:V,ctx:R}),p.$set(le),(!Q||V[0]&8)&&gr(l,"height",typeof R[3]=="number"?R[3]+"px":R[3]),R[28]&&R[50]?k?(k.p(R,V),V[0]&268435456|V[1]&524288&&Te(k,1)):(k=s1(R),k.c(),Te(k,1),k.m(e,_)):k&&(Fr(),Xe(k,1,1,()=>{k=null}),Er()),R[27]?K?(K.p(R,V),V[0]&134217728&&Te(K,1)):(K=l1(R),K.c(),Te(K,1),K.m(e,null)):K&&(Fr(),Xe(K,1,1,()=>{K=null}),Er()),R[48]?$?($.p(R,V),V[1]&131072&&Te($,1)):($=u1(R),$.c(),Te($,1),$.m(F.parentNode,F)):$&&(Fr(),Xe($,1,1,()=>{$=null}),Er())},i(R){Q||(Te(x),Te(M,R),Te(p.$$.fragment,R),Te(k),Te(K),Te($),Q=!0)},o(R){Xe(x),Xe(M,R),Xe(p.$$.fragment,R),Xe(k),Xe(K),Xe($),Q=!1},d(R){R&&Be(e),x&&x.d(),M&&M.d(R),ur(p),k&&k.d(),K&&K.d(),i[66](null),R&&Be(y),$&&$.d(R),R&&Be(F)}}}function Pf(i,e,n,o){let l=i.map(p=>p[e]);return[n||(l[0]?Math.min(...l):-1),o||(l[0]?Math.max(...l):1)]}function DS(i,e,n){let o,l,p,{$$slots:a={},$$scope:_}=e,{data:y}=e,{height:F=300}=e,{ssr:Q=!1}=e,{ssrWidth:x=300}=e,{ssrHeight:I=typeof F=="number"?F:300}=e,{animation:M=!0}=e,{duration:k=800}=e,{xKey:K="x"}=e,{yKey:$=null}=e,{zKey:R=null}=e,{rKey:V=null}=e,{idKey:le=K}=e,{labelKey:ee=le}=e,{xScale:me="linear"}=e,{yScale:we="linear"}=e,{xFormatTick:Ge=Pe=>Pe}=e,{yFormatTick:Le=Pe=>Pe}=e,{xMax:fe=null}=e,{xMin:Ee=null}=e,{yMax:ve=null}=e,{yMin:De=null}=e,{xAxis:Qe=!0}=e,{yAxis:Ze=!0}=e,{xTicks:Ne=4}=e,{yTicks:Fe=4}=e,{textColor:rt="#666"}=e,{tickColor:ct="#ccc"}=e,{tickDashed:Tt=!1}=e,{title:at=null}=e,{footer:ot=null}=e,{legend:jt=!1}=e,{labels:Yt=!1}=e,{labelContent:pt=null}=e,{snapTicks:We=!1}=e,{padding:Ar={top:0,bottom:20,left:35,right:0}}=e,{buffer:St=5}=e,{color:it=null}=e,{colors:wt=it?[it]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{r:vr=4}=e,{interactive:wr=!0}=e,{xPrefix:$t=""}=e,{xSuffix:Gt=""}=e,{yPrefix:Kr=""}=e,{ySuffix:Kt=""}=e,{hover:tr=!1}=e,{hovered:ei=null}=e,{colorHover:ti="orange"}=e,{select:ri=!1}=e,{selected:Nr=null}=e,{colorSelect:Mi="black"}=e,{highlighted:Ui=[]}=e,{colorHighlight:si="black"}=e,{overlayFill:Ai=!1}=e,{output:Si=null}=e,Zr;const Qi={duration:k,easing:Vg},Qn=Hs(void 0,Qi),on=(Pe,Ti,pn)=>pn.indexOf(Pe)==Ti;function In(Pe,Ti,pn,Tn){let br=Pf(Pe,Ti,pn,Tn);(br[0]!=li[0]||br[1]!=li[1])&&(Se.set(br),li=br)}function je(Pe,Ti,pn,Tn){let br=Ti?Pf(Pe,Ti,pn,Tn):Tr;(br[0]!=Tr[0]||br[1]!=Tr[1])&&(yr.set(br,{duration:M?k:0}),Tr=br)}let li=Pf(y,K,Ee,fe);const Se=Hs(li,Qi);At(i,Se,Pe=>n(51,l=Pe));let Tr=Pf(y,$,De,ve);const yr=Hs(Tr,Qi);At(i,yr,Pe=>n(52,p=Pe));function ci(Pe){Nr=Pe,n(1,Nr)}function hi(Pe){ei=Pe,n(0,ei)}function ui(Pe){tu.call(this,i,Pe)}function fn(Pe){tu.call(this,i,Pe)}function Sn(Pe){zn[Pe?"unshift":"push"](()=>{Zr=Pe,n(49,Zr)})}return i.$$set=Pe=>{"data"in Pe&&n(2,y=Pe.data),"height"in Pe&&n(3,F=Pe.height),"ssr"in Pe&&n(4,Q=Pe.ssr),"ssrWidth"in Pe&&n(5,x=Pe.ssrWidth),"ssrHeight"in Pe&&n(6,I=Pe.ssrHeight),"animation"in Pe&&n(7,M=Pe.animation),"duration"in Pe&&n(8,k=Pe.duration),"xKey"in Pe&&n(9,K=Pe.xKey),"yKey"in Pe&&n(10,$=Pe.yKey),"zKey"in Pe&&n(11,R=Pe.zKey),"rKey"in Pe&&n(12,V=Pe.rKey),"idKey"in Pe&&n(13,le=Pe.idKey),"labelKey"in Pe&&n(14,ee=Pe.labelKey),"xScale"in Pe&&n(15,me=Pe.xScale),"yScale"in Pe&&n(16,we=Pe.yScale),"xFormatTick"in Pe&&n(17,Ge=Pe.xFormatTick),"yFormatTick"in Pe&&n(18,Le=Pe.yFormatTick),"xMax"in Pe&&n(56,fe=Pe.xMax),"xMin"in Pe&&n(57,Ee=Pe.xMin),"yMax"in Pe&&n(58,ve=Pe.yMax),"yMin"in Pe&&n(59,De=Pe.yMin),"xAxis"in Pe&&n(19,Qe=Pe.xAxis),"yAxis"in Pe&&n(20,Ze=Pe.yAxis),"xTicks"in Pe&&n(21,Ne=Pe.xTicks),"yTicks"in Pe&&n(22,Fe=Pe.yTicks),"textColor"in Pe&&n(23,rt=Pe.textColor),"tickColor"in Pe&&n(24,ct=Pe.tickColor),"tickDashed"in Pe&&n(25,Tt=Pe.tickDashed),"title"in Pe&&n(26,at=Pe.title),"footer"in Pe&&n(27,ot=Pe.footer),"legend"in Pe&&n(28,jt=Pe.legend),"labels"in Pe&&n(29,Yt=Pe.labels),"labelContent"in Pe&&n(30,pt=Pe.labelContent),"snapTicks"in Pe&&n(31,We=Pe.snapTicks),"padding"in Pe&&n(32,Ar=Pe.padding),"buffer"in Pe&&n(33,St=Pe.buffer),"color"in Pe&&n(60,it=Pe.color),"colors"in Pe&&n(34,wt=Pe.colors),"r"in Pe&&n(35,vr=Pe.r),"interactive"in Pe&&n(36,wr=Pe.interactive),"xPrefix"in Pe&&n(37,$t=Pe.xPrefix),"xSuffix"in Pe&&n(38,Gt=Pe.xSuffix),"yPrefix"in Pe&&n(39,Kr=Pe.yPrefix),"ySuffix"in Pe&&n(40,Kt=Pe.ySuffix),"hover"in Pe&&n(41,tr=Pe.hover),"hovered"in Pe&&n(0,ei=Pe.hovered),"colorHover"in Pe&&n(42,ti=Pe.colorHover),"select"in Pe&&n(43,ri=Pe.select),"selected"in Pe&&n(1,Nr=Pe.selected),"colorSelect"in Pe&&n(44,Mi=Pe.colorSelect),"highlighted"in Pe&&n(45,Ui=Pe.highlighted),"colorHighlight"in Pe&&n(46,si=Pe.colorHighlight),"overlayFill"in Pe&&n(47,Ai=Pe.overlayFill),"output"in Pe&&n(48,Si=Pe.output),"$$scope"in Pe&&n(67,_=Pe.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&516|i.$$.dirty[1]&100663296&&In(y,K,Ee,fe),i.$$.dirty[0]&1028|i.$$.dirty[1]&402653184&&je(y,$,De,ve),i.$$.dirty[0]&2052&&n(50,o=R?y.map(Pe=>Pe[R]).filter(on).sort((Pe,Ti)=>Pe.localeCompare(Ti)):null)},[ei,Nr,y,F,Q,x,I,M,k,K,$,R,V,le,ee,me,we,Ge,Le,Qe,Ze,Ne,Fe,rt,ct,Tt,at,ot,jt,Yt,pt,We,Ar,St,wt,vr,wr,$t,Gt,Kr,Kt,tr,ti,ri,Mi,Ui,si,Ai,Si,Zr,o,l,p,Qn,Se,yr,fe,Ee,ve,De,it,a,ci,hi,ui,fn,Sn,_]}class oT extends Ei{constructor(e){super();Fi(this,e,DS,MS,wi,{data:2,height:3,ssr:4,ssrWidth:5,ssrHeight:6,animation:7,duration:8,xKey:9,yKey:10,zKey:11,rKey:12,idKey:13,labelKey:14,xScale:15,yScale:16,xFormatTick:17,yFormatTick:18,xMax:56,xMin:57,yMax:58,yMin:59,xAxis:19,yAxis:20,xTicks:21,yTicks:22,textColor:23,tickColor:24,tickDashed:25,title:26,footer:27,legend:28,labels:29,labelContent:30,snapTicks:31,padding:32,buffer:33,color:60,colors:34,r:35,interactive:36,xPrefix:37,xSuffix:38,yPrefix:39,ySuffix:40,hover:41,hovered:0,colorHover:42,select:43,selected:1,colorSelect:44,highlighted:45,colorHighlight:46,overlayFill:47,output:48},null,[-1,-1,-1])}get data(){return this.$$.ctx[2]}set data(e){this.$$set({data:e}),Ve()}get height(){return this.$$.ctx[3]}set height(e){this.$$set({height:e}),Ve()}get ssr(){return this.$$.ctx[4]}set ssr(e){this.$$set({ssr:e}),Ve()}get ssrWidth(){return this.$$.ctx[5]}set ssrWidth(e){this.$$set({ssrWidth:e}),Ve()}get ssrHeight(){return this.$$.ctx[6]}set ssrHeight(e){this.$$set({ssrHeight:e}),Ve()}get animation(){return this.$$.ctx[7]}set animation(e){this.$$set({animation:e}),Ve()}get duration(){return this.$$.ctx[8]}set duration(e){this.$$set({duration:e}),Ve()}get xKey(){return this.$$.ctx[9]}set xKey(e){this.$$set({xKey:e}),Ve()}get yKey(){return this.$$.ctx[10]}set yKey(e){this.$$set({yKey:e}),Ve()}get zKey(){return this.$$.ctx[11]}set zKey(e){this.$$set({zKey:e}),Ve()}get rKey(){return this.$$.ctx[12]}set rKey(e){this.$$set({rKey:e}),Ve()}get idKey(){return this.$$.ctx[13]}set idKey(e){this.$$set({idKey:e}),Ve()}get labelKey(){return this.$$.ctx[14]}set labelKey(e){this.$$set({labelKey:e}),Ve()}get xScale(){return this.$$.ctx[15]}set xScale(e){this.$$set({xScale:e}),Ve()}get yScale(){return this.$$.ctx[16]}set yScale(e){this.$$set({yScale:e}),Ve()}get xFormatTick(){return this.$$.ctx[17]}set xFormatTick(e){this.$$set({xFormatTick:e}),Ve()}get yFormatTick(){return this.$$.ctx[18]}set yFormatTick(e){this.$$set({yFormatTick:e}),Ve()}get xMax(){return this.$$.ctx[56]}set xMax(e){this.$$set({xMax:e}),Ve()}get xMin(){return this.$$.ctx[57]}set xMin(e){this.$$set({xMin:e}),Ve()}get yMax(){return this.$$.ctx[58]}set yMax(e){this.$$set({yMax:e}),Ve()}get yMin(){return this.$$.ctx[59]}set yMin(e){this.$$set({yMin:e}),Ve()}get xAxis(){return this.$$.ctx[19]}set xAxis(e){this.$$set({xAxis:e}),Ve()}get yAxis(){return this.$$.ctx[20]}set yAxis(e){this.$$set({yAxis:e}),Ve()}get xTicks(){return this.$$.ctx[21]}set xTicks(e){this.$$set({xTicks:e}),Ve()}get yTicks(){return this.$$.ctx[22]}set yTicks(e){this.$$set({yTicks:e}),Ve()}get textColor(){return this.$$.ctx[23]}set textColor(e){this.$$set({textColor:e}),Ve()}get tickColor(){return this.$$.ctx[24]}set tickColor(e){this.$$set({tickColor:e}),Ve()}get tickDashed(){return this.$$.ctx[25]}set tickDashed(e){this.$$set({tickDashed:e}),Ve()}get title(){return this.$$.ctx[26]}set title(e){this.$$set({title:e}),Ve()}get footer(){return this.$$.ctx[27]}set footer(e){this.$$set({footer:e}),Ve()}get legend(){return this.$$.ctx[28]}set legend(e){this.$$set({legend:e}),Ve()}get labels(){return this.$$.ctx[29]}set labels(e){this.$$set({labels:e}),Ve()}get labelContent(){return this.$$.ctx[30]}set labelContent(e){this.$$set({labelContent:e}),Ve()}get snapTicks(){return this.$$.ctx[31]}set snapTicks(e){this.$$set({snapTicks:e}),Ve()}get padding(){return this.$$.ctx[32]}set padding(e){this.$$set({padding:e}),Ve()}get buffer(){return this.$$.ctx[33]}set buffer(e){this.$$set({buffer:e}),Ve()}get color(){return this.$$.ctx[60]}set color(e){this.$$set({color:e}),Ve()}get colors(){return this.$$.ctx[34]}set colors(e){this.$$set({colors:e}),Ve()}get r(){return this.$$.ctx[35]}set r(e){this.$$set({r:e}),Ve()}get interactive(){return this.$$.ctx[36]}set interactive(e){this.$$set({interactive:e}),Ve()}get xPrefix(){return this.$$.ctx[37]}set xPrefix(e){this.$$set({xPrefix:e}),Ve()}get xSuffix(){return this.$$.ctx[38]}set xSuffix(e){this.$$set({xSuffix:e}),Ve()}get yPrefix(){return this.$$.ctx[39]}set yPrefix(e){this.$$set({yPrefix:e}),Ve()}get ySuffix(){return this.$$.ctx[40]}set ySuffix(e){this.$$set({ySuffix:e}),Ve()}get hover(){return this.$$.ctx[41]}set hover(e){this.$$set({hover:e}),Ve()}get hovered(){return this.$$.ctx[0]}set hovered(e){this.$$set({hovered:e}),Ve()}get colorHover(){return this.$$.ctx[42]}set colorHover(e){this.$$set({colorHover:e}),Ve()}get select(){return this.$$.ctx[43]}set select(e){this.$$set({select:e}),Ve()}get selected(){return this.$$.ctx[1]}set selected(e){this.$$set({selected:e}),Ve()}get colorSelect(){return this.$$.ctx[44]}set colorSelect(e){this.$$set({colorSelect:e}),Ve()}get highlighted(){return this.$$.ctx[45]}set highlighted(e){this.$$set({highlighted:e}),Ve()}get colorHighlight(){return this.$$.ctx[46]}set colorHighlight(e){this.$$set({colorHighlight:e}),Ve()}get overlayFill(){return this.$$.ctx[47]}set overlayFill(e){this.$$set({overlayFill:e}),Ve()}get output(){return this.$$.ctx[48]}set output(e){this.$$set({output:e}),Ve()}}var PS=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function HS(i,e,n){return n={path:e,exports:{},require:function(o,l){return zS(o,l!=null?l:n.path)}},i(n,n.exports),n.exports}function zS(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var gi=HS(function(i,e){(function(n,o){i.exports=o()})(PS,function(){var n,o,l;function p(a,_){if(!n)n=_;else if(!o)o=_;else{var y="var sharedChunk = {}; ("+n+")(sharedChunk); ("+o+")(sharedChunk);",F={};n(F),l=_(F),typeof window!="undefined"&&(l.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"})))}}return p(["exports"],function(a){function _(t,A){return t(A={exports:{}},A.exports),A.exports}var y=F;function F(t,A,s,f){this.cx=3*t,this.bx=3*(s-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*A,this.by=3*(f-A)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=f,this.p2x=s,this.p2y=f}F.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},F.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},F.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},F.prototype.solveCurveX=function(t,A){var s,f,m,v,B;for(A===void 0&&(A=1e-6),m=t,B=0;B<8;B++){if(v=this.sampleCurveX(m)-t,Math.abs(v)<A)return m;var U=this.sampleCurveDerivativeX(m);if(Math.abs(U)<1e-6)break;m-=v/U}if((m=t)<(s=0))return s;if(m>(f=1))return f;for(;s<f;){if(v=this.sampleCurveX(m),Math.abs(v-t)<A)return m;t>v?s=m:f=m,m=.5*(f-s)+s}return m},F.prototype.solve=function(t,A){return this.sampleCurveY(this.solveCurveX(t,A))};var Q=x;function x(t,A){this.x=t,this.y=A}x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,A){return this.clone()._rotateAround(t,A)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var A=t.x-this.x,s=t.y-this.y;return A*A+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,A){return Math.atan2(this.x*A-this.y*t,this.x*t+this.y*A)},_matMult:function(t){var A=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=A,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var A=Math.cos(t),s=Math.sin(t),f=s*this.x+A*this.y;return this.x=A*this.x-s*this.y,this.y=f,this},_rotateAround:function(t,A){var s=Math.cos(t),f=Math.sin(t),m=A.y+f*(this.x-A.x)+s*(this.y-A.y);return this.x=A.x+s*(this.x-A.x)-f*(this.y-A.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},x.convert=function(t){return t instanceof x?t:Array.isArray(t)?new x(t[0],t[1]):t};var I=typeof self!="undefined"?self:{},M=Math.pow(2,53)-1;function k(t,A,s,f){var m=new y(t,A,s,f);return function(v){return m.solve(v)}}var K=k(.25,.1,.25,1);function $(t,A,s){return Math.min(s,Math.max(A,t))}function R(t,A,s){var f=s-A,m=((t-A)%f+f)%f+A;return m===A?s:m}function V(t){for(var A=[],s=arguments.length-1;s-- >0;)A[s]=arguments[s+1];for(var f=0,m=A;f<m.length;f+=1){var v=m[f];for(var B in v)t[B]=v[B]}return t}var le=1;function ee(){return le++}function me(){return function t(A){return A?(A^16*Math.random()>>A/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function we(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function Ge(t,A){t.forEach(function(s){A[s]&&(A[s]=A[s].bind(A))})}function Le(t,A){return t.indexOf(A,t.length-A.length)!==-1}function fe(t,A,s){var f={};for(var m in t)f[m]=A.call(s||this,t[m],m,t);return f}function Ee(t,A,s){var f={};for(var m in t)A.call(s||this,t[m],m,t)&&(f[m]=t[m]);return f}function ve(t){return Array.isArray(t)?t.map(ve):typeof t=="object"&&t?fe(t,ve):t}var De={};function Qe(t){De[t]||(typeof console!="undefined"&&console.warn(t),De[t]=!0)}function Ze(t,A,s){return(s.y-t.y)*(A.x-t.x)>(A.y-t.y)*(s.x-t.x)}function Ne(t){for(var A=0,s=0,f=t.length,m=f-1,v=void 0,B=void 0;s<f;m=s++)A+=((B=t[m]).x-(v=t[s]).x)*(v.y+B.y);return A}function Fe(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function rt(t){var A={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(f,m,v,B){var U=v||B;return A[m]=!U||U.toLowerCase(),""}),A["max-age"]){var s=parseInt(A["max-age"],10);isNaN(s)?delete A["max-age"]:A["max-age"]=s}return A}var ct=null;function Tt(t){if(ct==null){var A=t.navigator?t.navigator.userAgent:null;ct=!!t.safari||!(!A||!(/\b(iPad|iPhone|iPod)\b/.test(A)||A.match("Safari")&&!A.match("Chrome")))}return ct}function at(t){try{var A=I[t];return A.setItem("_mapbox_test_",1),A.removeItem("_mapbox_test_"),!0}catch{return!1}}var ot,jt,Yt,pt,We=I.performance&&I.performance.now?I.performance.now.bind(I.performance):Date.now.bind(Date),Ar=I.requestAnimationFrame||I.mozRequestAnimationFrame||I.webkitRequestAnimationFrame||I.msRequestAnimationFrame,St=I.cancelAnimationFrame||I.mozCancelAnimationFrame||I.webkitCancelAnimationFrame||I.msCancelAnimationFrame,it={now:We,frame:function(t){var A=Ar(t);return{cancel:function(){return St(A)}}},getImageData:function(t,A){A===void 0&&(A=0);var s=I.document.createElement("canvas"),f=s.getContext("2d");if(!f)throw new Error("failed to create canvas 2d context");return s.width=t.width,s.height=t.height,f.drawImage(t,0,0,t.width,t.height),f.getImageData(-A,-A,t.width+2*A,t.height+2*A)},resolveURL:function(t){return ot||(ot=I.document.createElement("a")),ot.href=t,ot.href},hardwareConcurrency:I.navigator&&I.navigator.hardwareConcurrency||4,get devicePixelRatio(){return I.devicePixelRatio},get prefersReducedMotion(){return!!I.matchMedia&&(jt==null&&(jt=I.matchMedia("(prefers-reduced-motion: reduce)")),jt.matches)}},wt={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},vr={supported:!1,testSupport:function(t){!wr&&pt&&($t?Gt(t):Yt=t)}},wr=!1,$t=!1;function Gt(t){var A=t.createTexture();t.bindTexture(t.TEXTURE_2D,A);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,pt),t.isContextLost())return;vr.supported=!0}catch{}t.deleteTexture(A),wr=!0}I.document&&((pt=I.document.createElement("img")).onload=function(){Yt&&Gt(Yt),Yt=null,$t=!0},pt.onerror=function(){wr=!0,Yt=null},pt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Kr="01",Kt=function(t,A){this._transformRequestFn=t,this._customAccessToken=A,this._createSkuToken()};function tr(t){return t.indexOf("mapbox:")===0}Kt.prototype._createSkuToken=function(){var t=function(){for(var A="",s=0;s<10;s++)A+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Kr,A].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},Kt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Kt.prototype.transformRequest=function(t,A){return this._transformRequestFn&&this._transformRequestFn(t,A)||{url:t}},Kt.prototype.normalizeStyleURL=function(t,A){if(!tr(t))return t;var s=Nr(t);return s.path="/styles/v1"+s.path,this._makeAPIURL(s,this._customAccessToken||A)},Kt.prototype.normalizeGlyphsURL=function(t,A){if(!tr(t))return t;var s=Nr(t);return s.path="/fonts/v1"+s.path,this._makeAPIURL(s,this._customAccessToken||A)},Kt.prototype.normalizeSourceURL=function(t,A){if(!tr(t))return t;var s=Nr(t);return s.path="/v4/"+s.authority+".json",s.params.push("secure"),this._makeAPIURL(s,this._customAccessToken||A)},Kt.prototype.normalizeSpriteURL=function(t,A,s,f){var m=Nr(t);return tr(t)?(m.path="/styles/v1"+m.path+"/sprite"+A+s,this._makeAPIURL(m,this._customAccessToken||f)):(m.path+=""+A+s,Mi(m))},Kt.prototype.normalizeTileURL=function(t,A){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!tr(t))return t;var s=Nr(t);s.path=s.path.replace(/(\.(png|jpg)\d*)(?=$)/,(it.devicePixelRatio>=2||A===512?"@2x":"")+(vr.supported?".webp":"$1")),s.path=s.path.replace(/^.+\/v4\//,"/"),s.path="/v4"+s.path;var f=this._customAccessToken||function(m){for(var v=0,B=m;v<B.length;v+=1){var U=B[v].match(/^access_token=(.*)$/);if(U)return U[1]}return null}(s.params)||wt.ACCESS_TOKEN;return wt.REQUIRE_ACCESS_TOKEN&&f&&this._skuToken&&s.params.push("sku="+this._skuToken),this._makeAPIURL(s,f)},Kt.prototype.canonicalizeTileURL=function(t,A){var s=Nr(t);if(!s.path.match(/(^\/v4\/)/)||!s.path.match(/\.[\w]+$/))return t;var f="mapbox://tiles/";f+=s.path.replace("/v4/","");var m=s.params;return A&&(m=m.filter(function(v){return!v.match(/^access_token=/)})),m.length&&(f+="?"+m.join("&")),f},Kt.prototype.canonicalizeTileset=function(t,A){for(var s=!!A&&tr(A),f=[],m=0,v=t.tiles||[];m<v.length;m+=1){var B=v[m];ti(B)?f.push(this.canonicalizeTileURL(B,s)):f.push(B)}return f},Kt.prototype._makeAPIURL=function(t,A){var s="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",f=Nr(wt.API_URL);if(t.protocol=f.protocol,t.authority=f.authority,t.protocol==="http"){var m=t.params.indexOf("secure");m>=0&&t.params.splice(m,1)}if(f.path!=="/"&&(t.path=""+f.path+t.path),!wt.REQUIRE_ACCESS_TOKEN)return Mi(t);if(!(A=A||wt.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+s);if(A[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+s);return t.params=t.params.filter(function(v){return v.indexOf("access_token")===-1}),t.params.push("access_token="+A),Mi(t)};var ei=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function ti(t){return ei.test(t)}var ri=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Nr(t){var A=t.match(ri);if(!A)throw new Error("Unable to parse URL object");return{protocol:A[1],authority:A[2],path:A[3]||"/",params:A[4]?A[4].split("&"):[]}}function Mi(t){var A=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+A}function Ui(t){if(!t)return null;var A=t.split(".");if(!A||A.length!==3)return null;try{return JSON.parse(decodeURIComponent(I.atob(A[1]).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var si=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};si.prototype.getStorageKey=function(t){var A,s=Ui(wt.ACCESS_TOKEN);return A=s&&s.u?I.btoa(encodeURIComponent(s.u).replace(/%([0-9A-F]{2})/g,function(f,m){return String.fromCharCode(Number("0x"+m))})):wt.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+A:"mapbox.eventData:"+A},si.prototype.fetchEventData=function(){var t=at("localStorage"),A=this.getStorageKey(),s=this.getStorageKey("uuid");if(t)try{var f=I.localStorage.getItem(A);f&&(this.eventData=JSON.parse(f));var m=I.localStorage.getItem(s);m&&(this.anonId=m)}catch{Qe("Unable to read from LocalStorage")}},si.prototype.saveEventData=function(){var t=at("localStorage"),A=this.getStorageKey(),s=this.getStorageKey("uuid");if(t)try{I.localStorage.setItem(s,this.anonId),Object.keys(this.eventData).length>=1&&I.localStorage.setItem(A,JSON.stringify(this.eventData))}catch{Qe("Unable to write to LocalStorage")}},si.prototype.processRequests=function(t){},si.prototype.postEvent=function(t,A,s,f){var m=this;if(wt.EVENTS_URL){var v=Nr(wt.EVENTS_URL);v.params.push("access_token="+(f||wt.ACCESS_TOKEN||""));var B={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:Kr,userId:this.anonId},U=A?V(B,A):B,T={url:Mi(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([U])};this.pendingRequest=br(T,function(L){m.pendingRequest=null,s(L),m.saveEventData(),m.processRequests(f)})}},si.prototype.queueRequest=function(t,A){this.queue.push(t),this.processRequests(A)};var Ai,Si,Zr=function(t){function A(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.postMapLoadEvent=function(s,f,m,v){this.skuToken=m,(wt.EVENTS_URL&&v||wt.ACCESS_TOKEN&&Array.isArray(s)&&s.some(function(B){return tr(B)||ti(B)}))&&this.queueRequest({id:f,timestamp:Date.now()},v)},A.prototype.processRequests=function(s){var f=this;if(!this.pendingRequest&&this.queue.length!==0){var m=this.queue.shift(),v=m.id,B=m.timestamp;v&&this.success[v]||(this.anonId||this.fetchEventData(),we(this.anonId)||(this.anonId=me()),this.postEvent(B,{skuToken:this.skuToken},function(U){U||v&&(f.success[v]=!0)},s))}},A}(si),Qi=new(function(t){function A(s){t.call(this,"appUserTurnstile"),this._customAccessToken=s}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.postTurnstileEvent=function(s,f){wt.EVENTS_URL&&wt.ACCESS_TOKEN&&Array.isArray(s)&&s.some(function(m){return tr(m)||ti(m)})&&this.queueRequest(Date.now(),f)},A.prototype.processRequests=function(s){var f=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var m=Ui(wt.ACCESS_TOKEN),v=m?m.u:wt.ACCESS_TOKEN,B=v!==this.eventData.tokenU;we(this.anonId)||(this.anonId=me(),B=!0);var U=this.queue.shift();if(this.eventData.lastSuccess){var T=new Date(this.eventData.lastSuccess),L=new Date(U),P=(U-this.eventData.lastSuccess)/864e5;B=B||P>=1||P<-1||T.getDate()!==L.getDate()}else B=!0;if(!B)return this.processRequests();this.postEvent(U,{"enabled.telemetry":!1},function(z){z||(f.eventData.lastSuccess=U,f.eventData.tokenU=v)},s)}},A}(si)),Qn=Qi.postTurnstileEvent.bind(Qi),on=new Zr,In=on.postMapLoadEvent.bind(on),je=500,li=50;function Se(){I.caches&&!Ai&&(Ai=I.caches.open("mapbox-tiles"))}function Tr(t){var A=t.indexOf("?");return A<0?t:t.slice(0,A)}var yr,ci=1/0;function hi(){return yr==null&&(yr=I.OffscreenCanvas&&new I.OffscreenCanvas(1,1).getContext("2d")&&typeof I.createImageBitmap=="function"),yr}var ui={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ui);var fn=function(t){function A(s,f,m){f===401&&ti(m)&&(s+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,s),this.status=f,this.url=m,this.name=this.constructor.name,this.message=s}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},A}(Error),Sn=Fe()?function(){return self.worker&&self.worker.referrer}:function(){return(I.location.protocol==="blob:"?I.parent:I).location.href},Pe,Ti,pn=function(t,A){if(!(/^file:/.test(s=t.url)||/^file:/.test(Sn())&&!/^\w+:/.test(s))){if(I.fetch&&I.Request&&I.AbortController&&I.Request.prototype.hasOwnProperty("signal"))return function(f,m){var v,B=new I.AbortController,U=new I.Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,referrer:Sn(),signal:B.signal}),T=!1,L=!1,P=(v=U.url).indexOf("sku=")>0&&ti(v);f.type==="json"&&U.headers.set("Accept","application/json");var z=function(Z,re,ne){if(!L){if(Z&&Z.message!=="SecurityError"&&Qe(Z),re&&ne)return G(re);var de=Date.now();I.fetch(U).then(function(ue){if(ue.ok){var be=P?ue.clone():null;return G(ue,be,de)}return m(new fn(ue.statusText,ue.status,f.url))}).catch(function(ue){ue.code!==20&&m(new Error(ue.message))})}},G=function(Z,re,ne){(f.type==="arrayBuffer"?Z.arrayBuffer():f.type==="json"?Z.json():Z.text()).then(function(de){L||(re&&ne&&function(ue,be,Ie){if(Se(),Ai){var ke={status:be.status,statusText:be.statusText,headers:new I.Headers};be.headers.forEach(function(qe,nt){return ke.headers.set(nt,qe)});var He=rt(be.headers.get("Cache-Control")||"");He["no-store"]||(He["max-age"]&&ke.headers.set("Expires",new Date(Ie+1e3*He["max-age"]).toUTCString()),new Date(ke.headers.get("Expires")).getTime()-Ie<42e4||function(qe,nt){if(Si===void 0)try{new Response(new ReadableStream),Si=!0}catch{Si=!1}Si?nt(qe.body):qe.blob().then(nt)}(be,function(qe){var nt=new I.Response(qe,ke);Se(),Ai&&Ai.then(function(ft){return ft.put(Tr(ue.url),nt)}).catch(function(ft){return Qe(ft.message)})}))}}(U,re,ne),T=!0,m(null,de,Z.headers.get("Cache-Control"),Z.headers.get("Expires")))}).catch(function(de){L||m(new Error(de.message))})};return P?function(Z,re){if(Se(),!Ai)return re(null);var ne=Tr(Z.url);Ai.then(function(de){de.match(ne).then(function(ue){var be=function(Ie){if(!Ie)return!1;var ke=new Date(Ie.headers.get("Expires")||0),He=rt(Ie.headers.get("Cache-Control")||"");return ke>Date.now()&&!He["no-cache"]}(ue);de.delete(ne),be&&de.put(ne,ue.clone()),re(null,ue,be)}).catch(re)}).catch(re)}(U,z):z(null,null),{cancel:function(){L=!0,T||B.abort()}}}(t,A);if(Fe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,A,void 0,!0)}var s;return function(f,m){var v=new I.XMLHttpRequest;for(var B in v.open(f.method||"GET",f.url,!0),f.type==="arrayBuffer"&&(v.responseType="arraybuffer"),f.headers)v.setRequestHeader(B,f.headers[B]);return f.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=f.credentials==="include",v.onerror=function(){m(new Error(v.statusText))},v.onload=function(){if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){var U=v.response;if(f.type==="json")try{U=JSON.parse(v.response)}catch(T){return m(T)}m(null,U,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else m(new fn(v.statusText,v.status,f.url))},v.send(f.body),{cancel:function(){return v.abort()}}}(t,A)},Tn=function(t,A){return pn(V(t,{type:"arrayBuffer"}),A)},br=function(t,A){return pn(V(t,{method:"POST"}),A)},H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Pe=[],Ti=0;var N=function(t,A){if(vr.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Ti>=wt.MAX_PARALLEL_IMAGE_REQUESTS){var s={requestParameters:t,callback:A,cancelled:!1,cancel:function(){this.cancelled=!0}};return Pe.push(s),s}Ti++;var f=!1,m=function(){if(!f)for(f=!0,Ti--;Pe.length&&Ti<wt.MAX_PARALLEL_IMAGE_REQUESTS;){var B=Pe.shift();B.cancelled||(B.cancel=N(B.requestParameters,B.callback).cancel)}},v=Tn(t,function(B,U,T,L){m(),B?A(B):U&&(hi()?function(P,z){var G=new I.Blob([new Uint8Array(P)],{type:"image/png"});I.createImageBitmap(G).then(function(Z){z(null,Z)}).catch(function(Z){z(new Error("Could not load image because of "+Z.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(U,A):function(P,z,G,Z){var re=new I.Image,ne=I.URL;re.onload=function(){z(null,re),ne.revokeObjectURL(re.src),re.onload=null,I.requestAnimationFrame(function(){re.src=H})},re.onerror=function(){return z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var de=new I.Blob([new Uint8Array(P)],{type:"image/png"});re.cacheControl=G,re.expires=Z,re.src=P.byteLength?ne.createObjectURL(de):H}(U,A,T,L))});return{cancel:function(){v.cancel(),m()}}};function j(t,A,s){s[t]&&s[t].indexOf(A)!==-1||(s[t]=s[t]||[],s[t].push(A))}function Y(t,A,s){if(s&&s[t]){var f=s[t].indexOf(A);f!==-1&&s[t].splice(f,1)}}var ie=function(t,A){A===void 0&&(A={}),V(this,A),this.type=t},ge=function(t){function A(s,f){f===void 0&&(f={}),t.call(this,"error",V({error:s},f))}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A}(ie),ye=function(){};ye.prototype.on=function(t,A){return this._listeners=this._listeners||{},j(t,A,this._listeners),this},ye.prototype.off=function(t,A){return Y(t,A,this._listeners),Y(t,A,this._oneTimeListeners),this},ye.prototype.once=function(t,A){return this._oneTimeListeners=this._oneTimeListeners||{},j(t,A,this._oneTimeListeners),this},ye.prototype.fire=function(t,A){typeof t=="string"&&(t=new ie(t,A||{}));var s=t.type;if(this.listens(s)){t.target=this;for(var f=0,m=this._listeners&&this._listeners[s]?this._listeners[s].slice():[];f<m.length;f+=1)m[f].call(this,t);for(var v=0,B=this._oneTimeListeners&&this._oneTimeListeners[s]?this._oneTimeListeners[s].slice():[];v<B.length;v+=1){var U=B[v];Y(s,U,this._oneTimeListeners),U.call(this,t)}var T=this._eventedParent;T&&(V(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(t))}else t instanceof ge&&console.error(t.error);return this},ye.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},ye.prototype.setEventedParent=function(t,A){return this._eventedParent=t,this._eventedParentData=A,this};var X={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},oe=function(t,A,s,f){this.message=(t?t+": ":"")+s,f&&(this.identifier=f),A!=null&&A.__line__&&(this.line=A.__line__)};function Ce(t){var A=t.value;return A?[new oe(t.key,A,"constants have been deprecated as of v8")]:[]}function Je(t){for(var A=[],s=arguments.length-1;s-- >0;)A[s]=arguments[s+1];for(var f=0,m=A;f<m.length;f+=1){var v=m[f];for(var B in v)t[B]=v[B]}return t}function tt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Re(t){if(Array.isArray(t))return t.map(Re);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var A={};for(var s in t)A[s]=Re(t[s]);return A}return tt(t)}var $e=function(t){function A(s,f){t.call(this,f),this.message=f,this.key=s}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A}(Error),xt=function(t,A){A===void 0&&(A=[]),this.parent=t,this.bindings={};for(var s=0,f=A;s<f.length;s+=1){var m=f[s];this.bindings[m[0]]=m[1]}};xt.prototype.concat=function(t){return new xt(this,t)},xt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},xt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var _t={kind:"null"},ze={kind:"number"},dt={kind:"string"},lt={kind:"boolean"},ht={kind:"color"},rr={kind:"object"},gt={kind:"value"},cr={kind:"collator"},Mr={kind:"formatted"},se={kind:"resolvedImage"};function mt(t,A){return{kind:"array",itemType:t,N:A}}function It(t){if(t.kind==="array"){var A=It(t.itemType);return typeof t.N=="number"?"array<"+A+", "+t.N+">":t.itemType.kind==="value"?"array":"array<"+A+">"}return t.kind}var qr=[_t,ze,dt,lt,ht,Mr,rr,mt(gt),se];function hr(t,A){if(A.kind==="error")return null;if(t.kind==="array"){if(A.kind==="array"&&(A.N===0&&A.itemType.kind==="value"||!hr(t.itemType,A.itemType))&&(typeof t.N!="number"||t.N===A.N))return null}else{if(t.kind===A.kind)return null;if(t.kind==="value"){for(var s=0,f=qr;s<f.length;s+=1)if(!hr(f[s],A))return null}}return"Expected "+It(t)+" but found "+It(A)+" instead."}function Dr(t,A){return A.some(function(s){return s.kind===t.kind})}function zr(t,A){return A.some(function(s){return s==="null"?t===null:s==="array"?Array.isArray(t):s==="object"?t&&!Array.isArray(t)&&typeof t=="object":s===typeof t})}var fr=_(function(t,A){var s={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function f(U){return(U=Math.round(U))<0?0:U>255?255:U}function m(U){return f(U[U.length-1]==="%"?parseFloat(U)/100*255:parseInt(U))}function v(U){return(T=U[U.length-1]==="%"?parseFloat(U)/100:parseFloat(U))<0?0:T>1?1:T;var T}function B(U,T,L){return L<0?L+=1:L>1&&(L-=1),6*L<1?U+(T-U)*L*6:2*L<1?T:3*L<2?U+(T-U)*(2/3-L)*6:U}try{A.parseCSSColor=function(U){var T,L=U.replace(/ /g,"").toLowerCase();if(L in s)return s[L].slice();if(L[0]==="#")return L.length===4?(T=parseInt(L.substr(1),16))>=0&&T<=4095?[(3840&T)>>4|(3840&T)>>8,240&T|(240&T)>>4,15&T|(15&T)<<4,1]:null:L.length===7&&(T=parseInt(L.substr(1),16))>=0&&T<=16777215?[(16711680&T)>>16,(65280&T)>>8,255&T,1]:null;var P=L.indexOf("("),z=L.indexOf(")");if(P!==-1&&z+1===L.length){var G=L.substr(0,P),Z=L.substr(P+1,z-(P+1)).split(","),re=1;switch(G){case"rgba":if(Z.length!==4)return null;re=v(Z.pop());case"rgb":return Z.length!==3?null:[m(Z[0]),m(Z[1]),m(Z[2]),re];case"hsla":if(Z.length!==4)return null;re=v(Z.pop());case"hsl":if(Z.length!==3)return null;var ne=(parseFloat(Z[0])%360+360)%360/360,de=v(Z[1]),ue=v(Z[2]),be=ue<=.5?ue*(de+1):ue+de-ue*de,Ie=2*ue-be;return[f(255*B(Ie,be,ne+1/3)),f(255*B(Ie,be,ne)),f(255*B(Ie,be,ne-1/3)),re];default:return null}}return null}}catch{}}).parseCSSColor,xr=function(t,A,s,f){f===void 0&&(f=1),this.r=t,this.g=A,this.b=s,this.a=f};xr.parse=function(t){if(t){if(t instanceof xr)return t;if(typeof t=="string"){var A=fr(t);if(A)return new xr(A[0]/255*A[3],A[1]/255*A[3],A[2]/255*A[3],A[3])}}},xr.prototype.toString=function(){var t=this.toArray(),A=t[1],s=t[2],f=t[3];return"rgba("+Math.round(t[0])+","+Math.round(A)+","+Math.round(s)+","+f+")"},xr.prototype.toArray=function(){var t=this.a;return t===0?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},xr.black=new xr(0,0,0,1),xr.white=new xr(1,1,1,1),xr.transparent=new xr(0,0,0,0),xr.red=new xr(1,0,0,1);var Wi=function(t,A,s){this.sensitivity=t?A?"variant":"case":A?"accent":"base",this.locale=s,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Wi.prototype.compare=function(t,A){return this.collator.compare(t,A)},Wi.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var HA=function(t,A,s,f,m){this.text=t,this.image=A,this.scale=s,this.fontStack=f,this.textColor=m},Di=function(t){this.sections=t};Di.fromString=function(t){return new Di([new HA(t,null,null,null,null)])},Di.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(t){return t.text.length!==0||t.image&&t.image.name.length!==0})},Di.factory=function(t){return t instanceof Di?t:Di.fromString(t)},Di.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(t){return t.text}).join("")},Di.prototype.serialize=function(){for(var t=["format"],A=0,s=this.sections;A<s.length;A+=1){var f=s[A];if(f.image)t.push(["image",f.image.name]);else{t.push(f.text);var m={};f.fontStack&&(m["text-font"]=["literal",f.fontStack.split(",")]),f.scale&&(m["font-scale"]=f.scale),f.textColor&&(m["text-color"]=["rgba"].concat(f.textColor.toArray())),t.push(m)}}return t};var an=function(t){this.name=t.name,this.available=t.available};function wo(t,A,s,f){return typeof t=="number"&&t>=0&&t<=255&&typeof A=="number"&&A>=0&&A<=255&&typeof s=="number"&&s>=0&&s<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:"Invalid rgba value ["+[t,A,s,f].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof f=="number"?[t,A,s,f]:[t,A,s]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ZA(t){if(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||t instanceof xr||t instanceof Wi||t instanceof Di||t instanceof an)return!0;if(Array.isArray(t)){for(var A=0,s=t;A<s.length;A+=1)if(!ZA(s[A]))return!1;return!0}if(typeof t=="object"){for(var f in t)if(!ZA(t[f]))return!1;return!0}return!1}function mi(t){if(t===null)return _t;if(typeof t=="string")return dt;if(typeof t=="boolean")return lt;if(typeof t=="number")return ze;if(t instanceof xr)return ht;if(t instanceof Wi)return cr;if(t instanceof Di)return Mr;if(t instanceof an)return se;if(Array.isArray(t)){for(var A,s=t.length,f=0,m=t;f<m.length;f+=1){var v=mi(m[f]);if(A){if(A===v)continue;A=gt;break}A=v}return mt(A||gt,s)}return rr}function qA(t){var A=typeof t;return t===null?"":A==="string"||A==="number"||A==="boolean"?String(t):t instanceof xr||t instanceof Di||t instanceof an?t.toString():JSON.stringify(t)}an.prototype.toString=function(){return this.name},an.fromString=function(t){return t?new an({name:t,available:!1}):null},an.prototype.serialize=function(){return["image",this.name]};var Ji=function(t,A){this.type=t,this.value=A};Ji.parse=function(t,A){if(t.length!==2)return A.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ZA(t[1]))return A.error("invalid value");var s=t[1],f=mi(s),m=A.expectedType;return f.kind!=="array"||f.N!==0||!m||m.kind!=="array"||typeof m.N=="number"&&m.N!==0||(f=m),new Ji(f,s)},Ji.prototype.evaluate=function(){return this.value},Ji.prototype.eachChild=function(){},Ji.prototype.outputDefined=function(){return!0},Ji.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof xr?["rgba"].concat(this.value.toArray()):this.value instanceof Di?this.value.serialize():this.value};var Pi=function(t){this.name="ExpressionEvaluationError",this.message=t};Pi.prototype.toJSON=function(){return this.message};var Rn={string:dt,number:ze,boolean:lt,object:rr},ii=function(t,A){this.type=t,this.args=A};ii.parse=function(t,A){if(t.length<2)return A.error("Expected at least one argument.");var s,f=1,m=t[0];if(m==="array"){var v,B;if(t.length>2){var U=t[1];if(typeof U!="string"||!(U in Rn)||U==="object")return A.error('The item type argument of "array" must be one of string, number, boolean',1);v=Rn[U],f++}else v=gt;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return A.error('The length argument to "array" must be a positive integer literal',2);B=t[2],f++}s=mt(v,B)}else s=Rn[m];for(var T=[];f<t.length;f++){var L=A.parse(t[f],f,gt);if(!L)return null;T.push(L)}return new ii(s,T)},ii.prototype.evaluate=function(t){for(var A=0;A<this.args.length;A++){var s=this.args[A].evaluate(t);if(!hr(this.type,mi(s)))return s;if(A===this.args.length-1)throw new Pi("Expected value to be of type "+It(this.type)+", but found "+It(mi(s))+" instead.")}return null},ii.prototype.eachChild=function(t){this.args.forEach(t)},ii.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},ii.prototype.serialize=function(){var t=this.type,A=[t.kind];if(t.kind==="array"){var s=t.itemType;if(s.kind==="string"||s.kind==="number"||s.kind==="boolean"){A.push(s.kind);var f=t.N;(typeof f=="number"||this.args.length>1)&&A.push(f)}}return A.concat(this.args.map(function(m){return m.serialize()}))};var oA=function(t){this.type=Mr,this.sections=t};oA.parse=function(t,A){if(t.length<2)return A.error("Expected at least one argument.");var s=t[1];if(!Array.isArray(s)&&typeof s=="object")return A.error("First argument must be an image or text section.");for(var f=[],m=!1,v=1;v<=t.length-1;++v){var B=t[v];if(m&&typeof B=="object"&&!Array.isArray(B)){m=!1;var U=null;if(B["font-scale"]&&!(U=A.parse(B["font-scale"],1,ze)))return null;var T=null;if(B["text-font"]&&!(T=A.parse(B["text-font"],1,mt(dt))))return null;var L=null;if(B["text-color"]&&!(L=A.parse(B["text-color"],1,ht)))return null;var P=f[f.length-1];P.scale=U,P.font=T,P.textColor=L}else{var z=A.parse(t[v],1,gt);if(!z)return null;var G=z.type.kind;if(G!=="string"&&G!=="value"&&G!=="null"&&G!=="resolvedImage")return A.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");m=!0,f.push({content:z,scale:null,font:null,textColor:null})}}return new oA(f)},oA.prototype.evaluate=function(t){return new Di(this.sections.map(function(A){var s=A.content.evaluate(t);return mi(s)===se?new HA("",s,null,null,null):new HA(qA(s),null,A.scale?A.scale.evaluate(t):null,A.font?A.font.evaluate(t).join(","):null,A.textColor?A.textColor.evaluate(t):null)}))},oA.prototype.eachChild=function(t){for(var A=0,s=this.sections;A<s.length;A+=1){var f=s[A];t(f.content),f.scale&&t(f.scale),f.font&&t(f.font),f.textColor&&t(f.textColor)}},oA.prototype.outputDefined=function(){return!1},oA.prototype.serialize=function(){for(var t=["format"],A=0,s=this.sections;A<s.length;A+=1){var f=s[A];t.push(f.content.serialize());var m={};f.scale&&(m["font-scale"]=f.scale.serialize()),f.font&&(m["text-font"]=f.font.serialize()),f.textColor&&(m["text-color"]=f.textColor.serialize()),t.push(m)}return t};var Xn=function(t){this.type=se,this.input=t};Xn.parse=function(t,A){if(t.length!==2)return A.error("Expected two arguments.");var s=A.parse(t[1],1,dt);return s?new Xn(s):A.error("No image name provided.")},Xn.prototype.evaluate=function(t){var A=this.input.evaluate(t),s=an.fromString(A);return s&&t.availableImages&&(s.available=t.availableImages.indexOf(A)>-1),s},Xn.prototype.eachChild=function(t){t(this.input)},Xn.prototype.outputDefined=function(){return!1},Xn.prototype.serialize=function(){return["image",this.input.serialize()]};var rs={"to-boolean":lt,"to-color":ht,"to-number":ze,"to-string":dt},Yi=function(t,A){this.type=t,this.args=A};Yi.parse=function(t,A){if(t.length<2)return A.error("Expected at least one argument.");var s=t[0];if((s==="to-boolean"||s==="to-string")&&t.length!==2)return A.error("Expected one argument.");for(var f=rs[s],m=[],v=1;v<t.length;v++){var B=A.parse(t[v],v,gt);if(!B)return null;m.push(B)}return new Yi(f,m)},Yi.prototype.evaluate=function(t){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(t));if(this.type.kind==="color"){for(var A,s,f=0,m=this.args;f<m.length;f+=1){if(s=null,(A=m[f].evaluate(t))instanceof xr)return A;if(typeof A=="string"){var v=t.parseColor(A);if(v)return v}else if(Array.isArray(A)&&!(s=A.length<3||A.length>4?"Invalid rbga value "+JSON.stringify(A)+": expected an array containing either three or four numeric values.":wo(A[0],A[1],A[2],A[3])))return new xr(A[0]/255,A[1]/255,A[2]/255,A[3])}throw new Pi(s||"Could not parse color from value '"+(typeof A=="string"?A:String(JSON.stringify(A)))+"'")}if(this.type.kind==="number"){for(var B=null,U=0,T=this.args;U<T.length;U+=1){if((B=T[U].evaluate(t))===null)return 0;var L=Number(B);if(!isNaN(L))return L}throw new Pi("Could not convert "+JSON.stringify(B)+" to number.")}return this.type.kind==="formatted"?Di.fromString(qA(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?an.fromString(qA(this.args[0].evaluate(t))):qA(this.args[0].evaluate(t))},Yi.prototype.eachChild=function(t){this.args.forEach(t)},Yi.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},Yi.prototype.serialize=function(){if(this.type.kind==="formatted")return new oA([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Xn(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(A){t.push(A.serialize())}),t};var WA=["Unknown","Point","LineString","Polygon"],dn=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};dn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},dn.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?WA[this.feature.type]:this.feature.type:null},dn.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},dn.prototype.canonicalID=function(){return this.canonical},dn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},dn.prototype.parseColor=function(t){var A=this._parseColorCache[t];return A||(A=this._parseColorCache[t]=xr.parse(t)),A};var $i=function(t,A,s,f){this.name=t,this.type=A,this._evaluate=s,this.args=f};$i.prototype.evaluate=function(t){return this._evaluate(t,this.args)},$i.prototype.eachChild=function(t){this.args.forEach(t)},$i.prototype.outputDefined=function(){return!1},$i.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},$i.parse=function(t,A){var s,f=t[0],m=$i.definitions[f];if(!m)return A.error('Unknown expression "'+f+'". If you wanted a literal array, use ["literal", [...]].',0);for(var v=Array.isArray(m)?m[0]:m.type,B=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,U=B.filter(function(Ht){var Bt=Ht[0];return!Array.isArray(Bt)||Bt.length===t.length-1}),T=null,L=0,P=U;L<P.length;L+=1){var z=P[L],G=z[0],Z=z[1];T=new yi(A.registry,A.path,null,A.scope);for(var re=[],ne=!1,de=1;de<t.length;de++){var ue=t[de],be=Array.isArray(G)?G[de-1]:G.type,Ie=T.parse(ue,1+re.length,be);if(!Ie){ne=!0;break}re.push(Ie)}if(!ne)if(Array.isArray(G)&&G.length!==re.length)T.error("Expected "+G.length+" arguments, but found "+re.length+" instead.");else{for(var ke=0;ke<re.length;ke++){var He=Array.isArray(G)?G[ke]:G.type,qe=re[ke];T.concat(ke+1).checkSubtype(He,qe.type)}if(T.errors.length===0)return new $i(f,v,Z,re)}}if(U.length===1)(s=A.errors).push.apply(s,T.errors);else{for(var nt=(U.length?U:B).map(function(Ht){var Bt;return Bt=Ht[0],Array.isArray(Bt)?"("+Bt.map(It).join(", ")+")":"("+It(Bt.type)+"...)"}).join(" | "),ft=[],kt=1;kt<t.length;kt++){var vt=A.parse(t[kt],1+ft.length);if(!vt)return null;ft.push(It(vt.type))}A.error("Expected arguments of type "+nt+", but found ("+ft.join(", ")+") instead.")}return null},$i.register=function(t,A){for(var s in $i.definitions=A,A)t[s]=$i};var vA=function(t,A,s){this.type=cr,this.locale=s,this.caseSensitive=t,this.diacriticSensitive=A};function gn(t,A){t[0]=Math.min(t[0],A[0]),t[1]=Math.min(t[1],A[1]),t[2]=Math.max(t[2],A[0]),t[3]=Math.max(t[3],A[1])}function JA(t,A){return!(t[0]<=A[0]||t[2]>=A[2]||t[1]<=A[1]||t[3]>=A[3])}function is(t,A){var s=(180+t[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,m=Math.pow(2,A.z);return[Math.round(s*m*8192),Math.round(f*m*8192)]}function su(t,A,s){return A[1]>t[1]!=s[1]>t[1]&&t[0]<(s[0]-A[0])*(t[1]-A[1])/(s[1]-A[1])+A[0]}function qo(t,A){for(var s,f,m,v,B,U,T,L=!1,P=0,z=A.length;P<z;P++)for(var G=A[P],Z=0,re=G.length;Z<re-1;Z++){if((v=(s=t)[0]-(f=G[Z])[0])*(T=s[1]-(m=G[Z+1])[1])-(U=s[0]-m[0])*(B=s[1]-f[1])==0&&v*U<=0&&B*T<=0)return!1;su(t,G[Z],G[Z+1])&&(L=!L)}return L}function lu(t,A){for(var s=0;s<A.length;s++)if(qo(t,A[s]))return!0;return!1}function Fa(t,A,s,f){var m=f[0]-s[0],v=f[1]-s[1],B=(t[0]-s[0])*v-m*(t[1]-s[1]),U=(A[0]-s[0])*v-m*(A[1]-s[1]);return B>0&&U<0||B<0&&U>0}function uu(t,A,s){for(var f=0,m=s;f<m.length;f+=1)for(var v=m[f],B=0;B<v.length-1;++B)if((z=[(P=v[B+1])[0]-(L=v[B])[0],P[1]-L[1]])[0]*(G=[(T=A)[0]-(U=t)[0],T[1]-U[1]])[1]-z[1]*G[0]!=0&&Fa(U,T,L,P)&&Fa(L,P,U,T))return!0;var U,T,L,P,z,G;return!1}function Ea(t,A){for(var s=0;s<t.length;++s)if(!qo(t[s],A))return!1;for(var f=0;f<t.length-1;++f)if(uu(t[f],t[f+1],A))return!1;return!0}function Vs(t,A){for(var s=0;s<A.length;s++)if(Ea(t,A[s]))return!0;return!1}function Bo(t,A,s){for(var f=[],m=0;m<t.length;m++){for(var v=[],B=0;B<t[m].length;B++){var U=is(t[m][B],s);gn(A,U),v.push(U)}f.push(v)}return f}function ns(t,A,s){for(var f=[],m=0;m<t.length;m++){var v=Bo(t[m],A,s);f.push(v)}return f}function Wo(t,A,s,f){if(t[0]<s[0]||t[0]>s[2]){var m=.5*f,v=t[0]-s[0]>m?-f:s[0]-t[0]>m?f:0;v===0&&(v=t[0]-s[2]>m?-f:s[2]-t[0]>m?f:0),t[0]+=v}gn(A,t)}function Gs(t,A,s,f){for(var m=8192*Math.pow(2,f.z),v=[8192*f.x,8192*f.y],B=[],U=0,T=t;U<T.length;U+=1)for(var L=0,P=T[U];L<P.length;L+=1){var z=P[L],G=[z.x+v[0],z.y+v[1]];Wo(G,A,s,m),B.push(G)}return B}function bo(t,A,s,f){for(var m,v=8192*Math.pow(2,f.z),B=[8192*f.x,8192*f.y],U=[],T=0,L=t;T<L.length;T+=1){for(var P=[],z=0,G=L[T];z<G.length;z+=1){var Z=G[z],re=[Z.x+B[0],Z.y+B[1]];gn(A,re),P.push(re)}U.push(P)}if(A[2]-A[0]<=v/2){(m=A)[0]=m[1]=1/0,m[2]=m[3]=-1/0;for(var ne=0,de=U;ne<de.length;ne+=1)for(var ue=0,be=de[ne];ue<be.length;ue+=1)Wo(be[ue],A,s,v)}return U}vA.parse=function(t,A){if(t.length!==2)return A.error("Expected one argument.");var s=t[1];if(typeof s!="object"||Array.isArray(s))return A.error("Collator options argument must be an object.");var f=A.parse(s["case-sensitive"]!==void 0&&s["case-sensitive"],1,lt);if(!f)return null;var m=A.parse(s["diacritic-sensitive"]!==void 0&&s["diacritic-sensitive"],1,lt);if(!m)return null;var v=null;return s.locale&&!(v=A.parse(s.locale,1,dt))?null:new vA(f,m,v)},vA.prototype.evaluate=function(t){return new Wi(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},vA.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},vA.prototype.outputDefined=function(){return!1},vA.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var aA=function(t,A){this.type=lt,this.geojson=t,this.geometries=A};function YA(t){if(t instanceof $i&&(t.name==="get"&&t.args.length===1||t.name==="feature-state"||t.name==="has"&&t.args.length===1||t.name==="properties"||t.name==="geometry-type"||t.name==="id"||/^filter-/.test(t.name))||t instanceof aA)return!1;var A=!0;return t.eachChild(function(s){A&&!YA(s)&&(A=!1)}),A}function xe(t){if(t instanceof $i&&t.name==="feature-state")return!1;var A=!0;return t.eachChild(function(s){A&&!xe(s)&&(A=!1)}),A}function On(t,A){if(t instanceof $i&&A.indexOf(t.name)>=0)return!1;var s=!0;return t.eachChild(function(f){s&&!On(f,A)&&(s=!1)}),s}aA.parse=function(t,A){if(t.length!==2)return A.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(ZA(t[1])){var s=t[1];if(s.type==="FeatureCollection")for(var f=0;f<s.features.length;++f){var m=s.features[f].geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new aA(s,s.features[f].geometry)}else if(s.type==="Feature"){var v=s.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new aA(s,s.geometry)}else if(s.type==="Polygon"||s.type==="MultiPolygon")return new aA(s,s)}return A.error("'within' expression requires valid geojson object that contains polygon geometry type.")},aA.prototype.evaluate=function(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(A,s){var f=[1/0,1/0,-1/0,-1/0],m=[1/0,1/0,-1/0,-1/0],v=A.canonicalID();if(s.type==="Polygon"){var B=Bo(s.coordinates,m,v),U=Gs(A.geometry(),f,m,v);if(!JA(f,m))return!1;for(var T=0,L=U;T<L.length;T+=1)if(!qo(L[T],B))return!1}if(s.type==="MultiPolygon"){var P=ns(s.coordinates,m,v),z=Gs(A.geometry(),f,m,v);if(!JA(f,m))return!1;for(var G=0,Z=z;G<Z.length;G+=1)if(!lu(Z[G],P))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(A,s){var f=[1/0,1/0,-1/0,-1/0],m=[1/0,1/0,-1/0,-1/0],v=A.canonicalID();if(s.type==="Polygon"){var B=Bo(s.coordinates,m,v),U=bo(A.geometry(),f,m,v);if(!JA(f,m))return!1;for(var T=0,L=U;T<L.length;T+=1)if(!Ea(L[T],B))return!1}if(s.type==="MultiPolygon"){var P=ns(s.coordinates,m,v),z=bo(A.geometry(),f,m,v);if(!JA(f,m))return!1;for(var G=0,Z=z;G<Z.length;G+=1)if(!Vs(Z[G],P))return!1}return!0}(t,this.geometries)}return!1},aA.prototype.eachChild=function(){},aA.prototype.outputDefined=function(){return!0},aA.prototype.serialize=function(){return["within",this.geojson]};var mn=function(t,A){this.type=A.type,this.name=t,this.boundExpression=A};mn.parse=function(t,A){if(t.length!==2||typeof t[1]!="string")return A.error("'var' expression requires exactly one string literal argument.");var s=t[1];return A.scope.has(s)?new mn(s,A.scope.get(s)):A.error('Unknown variable "'+s+'". Make sure "'+s+'" has been bound in an enclosing "let" expression before using it.',1)},mn.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},mn.prototype.eachChild=function(){},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){return["var",this.name]};var yi=function(t,A,s,f,m){A===void 0&&(A=[]),f===void 0&&(f=new xt),m===void 0&&(m=[]),this.registry=t,this.path=A,this.key=A.map(function(v){return"["+v+"]"}).join(""),this.scope=f,this.errors=m,this.expectedType=s};function $A(t,A){for(var s,f=t.length-1,m=0,v=f,B=0;m<=v;)if((s=t[B=Math.floor((m+v)/2)])<=A){if(B===f||A<t[B+1])return B;m=B+1}else{if(!(s>A))throw new Pi("Input is not a number.");v=B-1}return 0}yi.prototype.parse=function(t,A,s,f,m){return m===void 0&&(m={}),A?this.concat(A,s,f)._parse(t,m):this._parse(t,m)},yi.prototype._parse=function(t,A){function s(L,P,z){return z==="assert"?new ii(P,[L]):z==="coerce"?new Yi(P,[L]):L}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var f=t[0];if(typeof f!="string")return this.error("Expression name must be a string, but found "+typeof f+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var m=this.registry[f];if(m){var v=m.parse(t,this);if(!v)return null;if(this.expectedType){var B=this.expectedType,U=v.type;if(B.kind!=="string"&&B.kind!=="number"&&B.kind!=="boolean"&&B.kind!=="object"&&B.kind!=="array"||U.kind!=="value")if(B.kind!=="color"&&B.kind!=="formatted"&&B.kind!=="resolvedImage"||U.kind!=="value"&&U.kind!=="string"){if(this.checkSubtype(B,U))return null}else v=s(v,B,A.typeAnnotation||"coerce");else v=s(v,B,A.typeAnnotation||"assert")}if(!(v instanceof Ji)&&v.type.kind!=="resolvedImage"&&function L(P){if(P instanceof mn)return L(P.boundExpression);if(P instanceof $i&&P.name==="error"||P instanceof vA||P instanceof aA)return!1;var z=P instanceof Yi||P instanceof ii,G=!0;return P.eachChild(function(Z){G=z?G&&L(Z):G&&Z instanceof Ji}),!!G&&YA(P)&&On(P,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(v)){var T=new dn;try{v=new Ji(v.type,v.evaluate(T))}catch(L){return this.error(L.message),null}}return v}return this.error('Unknown expression "'+f+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},yi.prototype.concat=function(t,A,s){var f=typeof t=="number"?this.path.concat(t):this.path,m=s?this.scope.concat(s):this.scope;return new yi(this.registry,f,A||null,m,this.errors)},yi.prototype.error=function(t){for(var A=[],s=arguments.length-1;s-- >0;)A[s]=arguments[s+1];var f=""+this.key+A.map(function(m){return"["+m+"]"}).join("");this.errors.push(new $e(f,t))},yi.prototype.checkSubtype=function(t,A){var s=hr(t,A);return s&&this.error(s),s};var sA=function(t,A,s){this.type=t,this.input=A,this.labels=[],this.outputs=[];for(var f=0,m=s;f<m.length;f+=1){var v=m[f],B=v[1];this.labels.push(v[0]),this.outputs.push(B)}};function Xi(t,A,s){return t*(1-s)+A*s}sA.parse=function(t,A){if(t.length-1<4)return A.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return A.error("Expected an even number of arguments.");var s=A.parse(t[1],1,ze);if(!s)return null;var f=[],m=null;A.expectedType&&A.expectedType.kind!=="value"&&(m=A.expectedType);for(var v=1;v<t.length;v+=2){var B=v===1?-1/0:t[v],U=t[v+1],T=v,L=v+1;if(typeof B!="number")return A.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',T);if(f.length&&f[f.length-1][0]>=B)return A.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',T);var P=A.parse(U,L,m);if(!P)return null;m=m||P.type,f.push([B,P])}return new sA(m,s,f)},sA.prototype.evaluate=function(t){var A=this.labels,s=this.outputs;if(A.length===1)return s[0].evaluate(t);var f=this.input.evaluate(t);if(f<=A[0])return s[0].evaluate(t);var m=A.length;return f>=A[m-1]?s[m-1].evaluate(t):s[$A(A,f)].evaluate(t)},sA.prototype.eachChild=function(t){t(this.input);for(var A=0,s=this.outputs;A<s.length;A+=1)t(s[A])},sA.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},sA.prototype.serialize=function(){for(var t=["step",this.input.serialize()],A=0;A<this.labels.length;A++)A>0&&t.push(this.labels[A]),t.push(this.outputs[A].serialize());return t};var Ua=Object.freeze({__proto__:null,number:Xi,color:function(t,A,s){return new xr(Xi(t.r,A.r,s),Xi(t.g,A.g,s),Xi(t.b,A.b,s),Xi(t.a,A.a,s))},array:function(t,A,s){return t.map(function(f,m){return Xi(f,A[m],s)})}}),qc=6/29*3*(6/29),Bp=Math.PI/180,bp=180/Math.PI;function cu(t){return t>.008856451679035631?Math.pow(t,1/3):t/qc+4/29}function hu(t){return t>6/29?t*t*t:qc*(t-4/29)}function fu(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function pu(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Wc(t){var A=pu(t.r),s=pu(t.g),f=pu(t.b),m=cu((.4124564*A+.3575761*s+.1804375*f)/.95047),v=cu((.2126729*A+.7151522*s+.072175*f)/1);return{l:116*v-16,a:500*(m-v),b:200*(v-cu((.0193339*A+.119192*s+.9503041*f)/1.08883)),alpha:t.a}}function Jc(t){var A=(t.l+16)/116,s=isNaN(t.a)?A:A+t.a/500,f=isNaN(t.b)?A:A-t.b/200;return A=1*hu(A),s=.95047*hu(s),f=1.08883*hu(f),new xr(fu(3.2404542*s-1.5371385*A-.4985314*f),fu(-.969266*s+1.8760108*A+.041556*f),fu(.0556434*s-.2040259*A+1.0572252*f),t.alpha)}function xp(t,A,s){var f=A-t;return t+s*(f>180||f<-180?f-360*Math.round(f/360):f)}var As={forward:Wc,reverse:Jc,interpolate:function(t,A,s){return{l:Xi(t.l,A.l,s),a:Xi(t.a,A.a,s),b:Xi(t.b,A.b,s),alpha:Xi(t.alpha,A.alpha,s)}}},os={forward:function(t){var A=Wc(t),s=A.l,f=A.a,m=A.b,v=Math.atan2(m,f)*bp;return{h:v<0?v+360:v,c:Math.sqrt(f*f+m*m),l:s,alpha:t.a}},reverse:function(t){var A=t.h*Bp,s=t.c;return Jc({l:t.l,a:Math.cos(A)*s,b:Math.sin(A)*s,alpha:t.alpha})},interpolate:function(t,A,s){return{h:xp(t.h,A.h,s),c:Xi(t.c,A.c,s),l:Xi(t.l,A.l,s),alpha:Xi(t.alpha,A.alpha,s)}}},Yc=Object.freeze({__proto__:null,lab:As,hcl:os}),kn=function(t,A,s,f,m){this.type=t,this.operator=A,this.interpolation=s,this.input=f,this.labels=[],this.outputs=[];for(var v=0,B=m;v<B.length;v+=1){var U=B[v],T=U[1];this.labels.push(U[0]),this.outputs.push(T)}};function du(t,A,s,f){var m=f-s,v=t-s;return m===0?0:A===1?v/m:(Math.pow(A,v)-1)/(Math.pow(A,m)-1)}kn.interpolationFactor=function(t,A,s,f){var m=0;if(t.name==="exponential")m=du(A,t.base,s,f);else if(t.name==="linear")m=du(A,1,s,f);else if(t.name==="cubic-bezier"){var v=t.controlPoints;m=new y(v[0],v[1],v[2],v[3]).solve(du(A,1,s,f))}return m},kn.parse=function(t,A){var s=t[0],f=t[1],m=t[2],v=t.slice(3);if(!Array.isArray(f)||f.length===0)return A.error("Expected an interpolation type expression.",1);if(f[0]==="linear")f={name:"linear"};else if(f[0]==="exponential"){var B=f[1];if(typeof B!="number")return A.error("Exponential interpolation requires a numeric base.",1,1);f={name:"exponential",base:B}}else{if(f[0]!=="cubic-bezier")return A.error("Unknown interpolation type "+String(f[0]),1,0);var U=f.slice(1);if(U.length!==4||U.some(function(de){return typeof de!="number"||de<0||de>1}))return A.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);f={name:"cubic-bezier",controlPoints:U}}if(t.length-1<4)return A.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return A.error("Expected an even number of arguments.");if(!(m=A.parse(m,2,ze)))return null;var T=[],L=null;s==="interpolate-hcl"||s==="interpolate-lab"?L=ht:A.expectedType&&A.expectedType.kind!=="value"&&(L=A.expectedType);for(var P=0;P<v.length;P+=2){var z=v[P],G=v[P+1],Z=P+3,re=P+4;if(typeof z!="number")return A.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(T.length&&T[T.length-1][0]>=z)return A.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Z);var ne=A.parse(G,re,L);if(!ne)return null;L=L||ne.type,T.push([z,ne])}return L.kind==="number"||L.kind==="color"||L.kind==="array"&&L.itemType.kind==="number"&&typeof L.N=="number"?new kn(L,s,f,m,T):A.error("Type "+It(L)+" is not interpolatable.")},kn.prototype.evaluate=function(t){var A=this.labels,s=this.outputs;if(A.length===1)return s[0].evaluate(t);var f=this.input.evaluate(t);if(f<=A[0])return s[0].evaluate(t);var m=A.length;if(f>=A[m-1])return s[m-1].evaluate(t);var v=$A(A,f),B=kn.interpolationFactor(this.interpolation,f,A[v],A[v+1]),U=s[v].evaluate(t),T=s[v+1].evaluate(t);return this.operator==="interpolate"?Ua[this.type.kind.toLowerCase()](U,T,B):this.operator==="interpolate-hcl"?os.reverse(os.interpolate(os.forward(U),os.forward(T),B)):As.reverse(As.interpolate(As.forward(U),As.forward(T),B))},kn.prototype.eachChild=function(t){t(this.input);for(var A=0,s=this.outputs;A<s.length;A+=1)t(s[A])},kn.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},kn.prototype.serialize=function(){var t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var A=[this.operator,t,this.input.serialize()],s=0;s<this.labels.length;s++)A.push(this.labels[s],this.outputs[s].serialize());return A};var xo=function(t,A){this.type=t,this.args=A};xo.parse=function(t,A){if(t.length<2)return A.error("Expectected at least one argument.");var s=null,f=A.expectedType;f&&f.kind!=="value"&&(s=f);for(var m=[],v=0,B=t.slice(1);v<B.length;v+=1){var U=A.parse(B[v],1+m.length,s,void 0,{typeAnnotation:"omit"});if(!U)return null;s=s||U.type,m.push(U)}var T=f&&m.some(function(L){return hr(f,L.type)});return new xo(T?gt:s,m)},xo.prototype.evaluate=function(t){for(var A,s=null,f=0,m=0,v=this.args;m<v.length&&(f++,(s=v[m].evaluate(t))&&s instanceof an&&!s.available&&(A||(A=s.name),s=null,f===this.args.length&&(s=A)),s===null);m+=1);return s},xo.prototype.eachChild=function(t){this.args.forEach(t)},xo.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},xo.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(A){t.push(A.serialize())}),t};var Co=function(t,A){this.type=A.type,this.bindings=[].concat(t),this.result=A};Co.prototype.evaluate=function(t){return this.result.evaluate(t)},Co.prototype.eachChild=function(t){for(var A=0,s=this.bindings;A<s.length;A+=1)t(s[A][1]);t(this.result)},Co.parse=function(t,A){if(t.length<4)return A.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var s=[],f=1;f<t.length-1;f+=2){var m=t[f];if(typeof m!="string")return A.error("Expected string, but found "+typeof m+" instead.",f);if(/[^a-zA-Z0-9_]/.test(m))return A.error("Variable names must contain only alphanumeric characters or '_'.",f);var v=A.parse(t[f+1],f+1);if(!v)return null;s.push([m,v])}var B=A.parse(t[t.length-1],t.length-1,A.expectedType,s);return B?new Co(s,B):null},Co.prototype.outputDefined=function(){return this.result.outputDefined()},Co.prototype.serialize=function(){for(var t=["let"],A=0,s=this.bindings;A<s.length;A+=1){var f=s[A];t.push(f[0],f[1].serialize())}return t.push(this.result.serialize()),t};var Jo=function(t,A,s){this.type=t,this.index=A,this.input=s};Jo.parse=function(t,A){if(t.length!==3)return A.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var s=A.parse(t[1],1,ze),f=A.parse(t[2],2,mt(A.expectedType||gt));return s&&f?new Jo(f.type.itemType,s,f):null},Jo.prototype.evaluate=function(t){var A=this.index.evaluate(t),s=this.input.evaluate(t);if(A<0)throw new Pi("Array index out of bounds: "+A+" < 0.");if(A>=s.length)throw new Pi("Array index out of bounds: "+A+" > "+(s.length-1)+".");if(A!==Math.floor(A))throw new Pi("Array index must be an integer, but found "+A+" instead.");return s[A]},Jo.prototype.eachChild=function(t){t(this.index),t(this.input)},Jo.prototype.outputDefined=function(){return!1},Jo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Yo=function(t,A){this.type=lt,this.needle=t,this.haystack=A};Yo.parse=function(t,A){if(t.length!==3)return A.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var s=A.parse(t[1],1,gt),f=A.parse(t[2],2,gt);return s&&f?Dr(s.type,[lt,dt,ze,_t,gt])?new Yo(s,f):A.error("Expected first argument to be of type boolean, string, number or null, but found "+It(s.type)+" instead"):null},Yo.prototype.evaluate=function(t){var A=this.needle.evaluate(t),s=this.haystack.evaluate(t);if(!s)return!1;if(!zr(A,["boolean","string","number","null"]))throw new Pi("Expected first argument to be of type boolean, string, number or null, but found "+It(mi(A))+" instead.");if(!zr(s,["string","array"]))throw new Pi("Expected second argument to be of type array or string, but found "+It(mi(s))+" instead.");return s.indexOf(A)>=0},Yo.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},Yo.prototype.outputDefined=function(){return!0},Yo.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Fo=function(t,A,s){this.type=ze,this.needle=t,this.haystack=A,this.fromIndex=s};Fo.parse=function(t,A){if(t.length<=2||t.length>=5)return A.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var s=A.parse(t[1],1,gt),f=A.parse(t[2],2,gt);if(!s||!f)return null;if(!Dr(s.type,[lt,dt,ze,_t,gt]))return A.error("Expected first argument to be of type boolean, string, number or null, but found "+It(s.type)+" instead");if(t.length===4){var m=A.parse(t[3],3,ze);return m?new Fo(s,f,m):null}return new Fo(s,f)},Fo.prototype.evaluate=function(t){var A=this.needle.evaluate(t),s=this.haystack.evaluate(t);if(!zr(A,["boolean","string","number","null"]))throw new Pi("Expected first argument to be of type boolean, string, number or null, but found "+It(mi(A))+" instead.");if(!zr(s,["string","array"]))throw new Pi("Expected second argument to be of type array or string, but found "+It(mi(s))+" instead.");if(this.fromIndex){var f=this.fromIndex.evaluate(t);return s.indexOf(A,f)}return s.indexOf(A)},Fo.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},Fo.prototype.outputDefined=function(){return!1},Fo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var $o=function(t,A,s,f,m,v){this.inputType=t,this.type=A,this.input=s,this.cases=f,this.outputs=m,this.otherwise=v};$o.parse=function(t,A){if(t.length<5)return A.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return A.error("Expected an even number of arguments.");var s,f;A.expectedType&&A.expectedType.kind!=="value"&&(f=A.expectedType);for(var m={},v=[],B=2;B<t.length-1;B+=2){var U=t[B],T=t[B+1];Array.isArray(U)||(U=[U]);var L=A.concat(B);if(U.length===0)return L.error("Expected at least one branch label.");for(var P=0,z=U;P<z.length;P+=1){var G=z[P];if(typeof G!="number"&&typeof G!="string")return L.error("Branch labels must be numbers or strings.");if(typeof G=="number"&&Math.abs(G)>Number.MAX_SAFE_INTEGER)return L.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof G=="number"&&Math.floor(G)!==G)return L.error("Numeric branch labels must be integer values.");if(s){if(L.checkSubtype(s,mi(G)))return null}else s=mi(G);if(m[String(G)]!==void 0)return L.error("Branch labels must be unique.");m[String(G)]=v.length}var Z=A.parse(T,B,f);if(!Z)return null;f=f||Z.type,v.push(Z)}var re=A.parse(t[1],1,gt);if(!re)return null;var ne=A.parse(t[t.length-1],t.length-1,f);return ne?re.type.kind!=="value"&&A.concat(1).checkSubtype(s,re.type)?null:new $o(s,f,re,m,v,ne):null},$o.prototype.evaluate=function(t){var A=this.input.evaluate(t);return(mi(A)===this.inputType&&this.outputs[this.cases[A]]||this.otherwise).evaluate(t)},$o.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},$o.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})&&this.otherwise.outputDefined()},$o.prototype.serialize=function(){for(var t=this,A=["match",this.input.serialize()],s=[],f={},m=0,v=Object.keys(this.cases).sort();m<v.length;m+=1){var B=v[m];(z=f[this.cases[B]])===void 0?(f[this.cases[B]]=s.length,s.push([this.cases[B],[B]])):s[z][1].push(B)}for(var U=function(Z){return t.inputType.kind==="number"?Number(Z):Z},T=0,L=s;T<L.length;T+=1){var P=L[T],z=P[0],G=P[1];A.push(G.length===1?U(G[0]):G.map(U)),A.push(this.outputs[outputIndex$1].serialize())}return A.push(this.otherwise.serialize()),A};var ea=function(t,A,s){this.type=t,this.branches=A,this.otherwise=s};ea.parse=function(t,A){if(t.length<4)return A.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return A.error("Expected an odd number of arguments.");var s;A.expectedType&&A.expectedType.kind!=="value"&&(s=A.expectedType);for(var f=[],m=1;m<t.length-1;m+=2){var v=A.parse(t[m],m,lt);if(!v)return null;var B=A.parse(t[m+1],m+1,s);if(!B)return null;f.push([v,B]),s=s||B.type}var U=A.parse(t[t.length-1],t.length-1,s);return U?new ea(s,f,U):null},ea.prototype.evaluate=function(t){for(var A=0,s=this.branches;A<s.length;A+=1){var f=s[A],m=f[1];if(f[0].evaluate(t))return m.evaluate(t)}return this.otherwise.evaluate(t)},ea.prototype.eachChild=function(t){for(var A=0,s=this.branches;A<s.length;A+=1){var f=s[A],m=f[1];t(f[0]),t(m)}t(this.otherwise)},ea.prototype.outputDefined=function(){return this.branches.every(function(t){return t[1].outputDefined()})&&this.otherwise.outputDefined()},ea.prototype.serialize=function(){var t=["case"];return this.eachChild(function(A){t.push(A.serialize())}),t};var Eo=function(t,A,s,f){this.type=t,this.input=A,this.beginIndex=s,this.endIndex=f};function $c(t,A){return t==="=="||t==="!="?A.kind==="boolean"||A.kind==="string"||A.kind==="number"||A.kind==="null"||A.kind==="value":A.kind==="string"||A.kind==="number"||A.kind==="value"}function eh(t,A,s,f){return f.compare(A,s)===0}function oi(t,A,s){var f=t!=="=="&&t!=="!=";return function(){function m(v,B,U){this.type=lt,this.lhs=v,this.rhs=B,this.collator=U,this.hasUntypedArgument=v.type.kind==="value"||B.type.kind==="value"}return m.parse=function(v,B){if(v.length!==3&&v.length!==4)return B.error("Expected two or three arguments.");var U=v[0],T=B.parse(v[1],1,gt);if(!T)return null;if(!$c(U,T.type))return B.concat(1).error('"'+U+`" comparisons are not supported for type '`+It(T.type)+"'.");var L=B.parse(v[2],2,gt);if(!L)return null;if(!$c(U,L.type))return B.concat(2).error('"'+U+`" comparisons are not supported for type '`+It(L.type)+"'.");if(T.type.kind!==L.type.kind&&T.type.kind!=="value"&&L.type.kind!=="value")return B.error("Cannot compare types '"+It(T.type)+"' and '"+It(L.type)+"'.");f&&(T.type.kind==="value"&&L.type.kind!=="value"?T=new ii(L.type,[T]):T.type.kind!=="value"&&L.type.kind==="value"&&(L=new ii(T.type,[L])));var P=null;if(v.length===4){if(T.type.kind!=="string"&&L.type.kind!=="string"&&T.type.kind!=="value"&&L.type.kind!=="value")return B.error("Cannot use collator to compare non-string types.");if(!(P=B.parse(v[3],3,cr)))return null}return new m(T,L,P)},m.prototype.evaluate=function(v){var B=this.lhs.evaluate(v),U=this.rhs.evaluate(v);if(f&&this.hasUntypedArgument){var T=mi(B),L=mi(U);if(T.kind!==L.kind||T.kind!=="string"&&T.kind!=="number")throw new Pi('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+T.kind+", "+L.kind+") instead.")}if(this.collator&&!f&&this.hasUntypedArgument){var P=mi(B),z=mi(U);if(P.kind!=="string"||z.kind!=="string")return A(v,B,U)}return this.collator?s(v,B,U,this.collator.evaluate(v)):A(v,B,U)},m.prototype.eachChild=function(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)},m.prototype.outputDefined=function(){return!0},m.prototype.serialize=function(){var v=[t];return this.eachChild(function(B){v.push(B.serialize())}),v},m}()}Eo.parse=function(t,A){if(t.length<=2||t.length>=5)return A.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var s=A.parse(t[1],1,gt),f=A.parse(t[2],2,ze);if(!s||!f)return null;if(!Dr(s.type,[mt(gt),dt,gt]))return A.error("Expected first argument to be of type array or string, but found "+It(s.type)+" instead");if(t.length===4){var m=A.parse(t[3],3,ze);return m?new Eo(s.type,s,f,m):null}return new Eo(s.type,s,f)},Eo.prototype.evaluate=function(t){var A=this.input.evaluate(t),s=this.beginIndex.evaluate(t);if(!zr(A,["string","array"]))throw new Pi("Expected first argument to be of type array or string, but found "+It(mi(A))+" instead.");if(this.endIndex){var f=this.endIndex.evaluate(t);return A.slice(s,f)}return A.slice(s)},Eo.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},Eo.prototype.outputDefined=function(){return!1},Eo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Cp=oi("==",function(t,A,s){return A===s},eh),Xs=oi("!=",function(t,A,s){return A!==s},function(t,A,s,f){return!eh(0,A,s,f)}),th=oi("<",function(t,A,s){return A<s},function(t,A,s,f){return f.compare(A,s)<0}),rh=oi(">",function(t,A,s){return A>s},function(t,A,s,f){return f.compare(A,s)>0}),ih=oi("<=",function(t,A,s){return A<=s},function(t,A,s,f){return f.compare(A,s)<=0}),nh=oi(">=",function(t,A,s){return A>=s},function(t,A,s,f){return f.compare(A,s)>=0}),ta=function(t,A,s,f,m){this.type=dt,this.number=t,this.locale=A,this.currency=s,this.minFractionDigits=f,this.maxFractionDigits=m};ta.parse=function(t,A){if(t.length!==3)return A.error("Expected two arguments.");var s=A.parse(t[1],1,ze);if(!s)return null;var f=t[2];if(typeof f!="object"||Array.isArray(f))return A.error("NumberFormat options argument must be an object.");var m=null;if(f.locale&&!(m=A.parse(f.locale,1,dt)))return null;var v=null;if(f.currency&&!(v=A.parse(f.currency,1,dt)))return null;var B=null;if(f["min-fraction-digits"]&&!(B=A.parse(f["min-fraction-digits"],1,ze)))return null;var U=null;return f["max-fraction-digits"]&&!(U=A.parse(f["max-fraction-digits"],1,ze))?null:new ta(s,m,v,B,U)},ta.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},ta.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},ta.prototype.outputDefined=function(){return!1},ta.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Uo=function(t){this.type=ze,this.input=t};Uo.parse=function(t,A){if(t.length!==2)return A.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var s=A.parse(t[1],1);return s?s.type.kind!=="array"&&s.type.kind!=="string"&&s.type.kind!=="value"?A.error("Expected argument of type string or array, but found "+It(s.type)+" instead."):new Uo(s):null},Uo.prototype.evaluate=function(t){var A=this.input.evaluate(t);if(typeof A=="string"||Array.isArray(A))return A.length;throw new Pi("Expected value to be of type string or array, but found "+It(mi(A))+" instead.")},Uo.prototype.eachChild=function(t){t(this.input)},Uo.prototype.outputDefined=function(){return!1},Uo.prototype.serialize=function(){var t=["length"];return this.eachChild(function(A){t.push(A.serialize())}),t};var ra={"==":Cp,"!=":Xs,">":rh,"<":th,">=":nh,"<=":ih,array:ii,at:Jo,boolean:ii,case:ea,coalesce:xo,collator:vA,format:oA,image:Xn,in:Yo,"index-of":Fo,interpolate:kn,"interpolate-hcl":kn,"interpolate-lab":kn,length:Uo,let:Co,literal:Ji,match:$o,number:ii,"number-format":ta,object:ii,slice:Eo,step:sA,string:ii,"to-boolean":Yi,"to-color":Yi,"to-number":Yi,"to-string":Yi,var:mn,within:aA};function Ah(t,A){var s=A[0],f=A[1],m=A[2],v=A[3];s=s.evaluate(t),f=f.evaluate(t),m=m.evaluate(t);var B=v?v.evaluate(t):1,U=wo(s,f,m,B);if(U)throw new Pi(U);return new xr(s/255*B,f/255*B,m/255*B,B)}function oh(t,A){return t in A}function gu(t,A){var s=A[t];return s===void 0?null:s}function ia(t){return{type:t}}function ah(t){return{result:"success",value:t}}function na(t){return{result:"error",value:t}}function Aa(t){return t["property-type"]==="data-driven"||t["property-type"]==="cross-faded-data-driven"}function sh(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function as(t){return!!t.expression&&t.expression.interpolated}function fi(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function js(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Fp(t){return t}function Qa(t,A,s){return t!==void 0?t:A!==void 0?A:s!==void 0?s:void 0}function lh(t,A,s,f,m){return Qa(typeof s===m?f[s]:void 0,t.default,A.default)}function Ep(t,A,s){if(fi(s)!=="number")return Qa(t.default,A.default);var f=t.stops.length;if(f===1||s<=t.stops[0][0])return t.stops[0][1];if(s>=t.stops[f-1][0])return t.stops[f-1][1];var m=$A(t.stops.map(function(v){return v[0]}),s);return t.stops[m][1]}function uh(t,A,s){var f=t.base!==void 0?t.base:1;if(fi(s)!=="number")return Qa(t.default,A.default);var m=t.stops.length;if(m===1||s<=t.stops[0][0])return t.stops[0][1];if(s>=t.stops[m-1][0])return t.stops[m-1][1];var v=$A(t.stops.map(function(z){return z[0]}),s),B=function(z,G,Z,re){var ne=re-Z,de=z-Z;return ne===0?0:G===1?de/ne:(Math.pow(G,de)-1)/(Math.pow(G,ne)-1)}(s,f,t.stops[v][0],t.stops[v+1][0]),U=t.stops[v][1],T=t.stops[v+1][1],L=Ua[A.type]||Fp;if(t.colorSpace&&t.colorSpace!=="rgb"){var P=Yc[t.colorSpace];L=function(z,G){return P.reverse(P.interpolate(P.forward(z),P.forward(G),B))}}return typeof U.evaluate=="function"?{evaluate:function(){for(var z=[],G=arguments.length;G--;)z[G]=arguments[G];var Z=U.evaluate.apply(void 0,z),re=T.evaluate.apply(void 0,z);if(Z!==void 0&&re!==void 0)return L(Z,re,B)}}:L(U,T,B)}function Zs(t,A,s){return A.type==="color"?s=xr.parse(s):A.type==="formatted"?s=Di.fromString(s.toString()):A.type==="resolvedImage"?s=an.fromString(s.toString()):fi(s)===A.type||A.type==="enum"&&A.values[s]||(s=void 0),Qa(s,t.default,A.default)}$i.register(ra,{error:[{kind:"error"},[dt],function(t,A){throw new Pi(A[0].evaluate(t))}],typeof:[dt,[gt],function(t,A){return It(mi(A[0].evaluate(t)))}],"to-rgba":[mt(ze,4),[ht],function(t,A){return A[0].evaluate(t).toArray()}],rgb:[ht,[ze,ze,ze],Ah],rgba:[ht,[ze,ze,ze,ze],Ah],has:{type:lt,overloads:[[[dt],function(t,A){return oh(A[0].evaluate(t),t.properties())}],[[dt,rr],function(t,A){var s=A[1];return oh(A[0].evaluate(t),s.evaluate(t))}]]},get:{type:gt,overloads:[[[dt],function(t,A){return gu(A[0].evaluate(t),t.properties())}],[[dt,rr],function(t,A){var s=A[1];return gu(A[0].evaluate(t),s.evaluate(t))}]]},"feature-state":[gt,[dt],function(t,A){return gu(A[0].evaluate(t),t.featureState||{})}],properties:[rr,[],function(t){return t.properties()}],"geometry-type":[dt,[],function(t){return t.geometryType()}],id:[gt,[],function(t){return t.id()}],zoom:[ze,[],function(t){return t.globals.zoom}],"heatmap-density":[ze,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[ze,[],function(t){return t.globals.lineProgress||0}],accumulated:[gt,[],function(t){return t.globals.accumulated===void 0?null:t.globals.accumulated}],"+":[ze,ia(ze),function(t,A){for(var s=0,f=0,m=A;f<m.length;f+=1)s+=m[f].evaluate(t);return s}],"*":[ze,ia(ze),function(t,A){for(var s=1,f=0,m=A;f<m.length;f+=1)s*=m[f].evaluate(t);return s}],"-":{type:ze,overloads:[[[ze,ze],function(t,A){var s=A[1];return A[0].evaluate(t)-s.evaluate(t)}],[[ze],function(t,A){return-A[0].evaluate(t)}]]},"/":[ze,[ze,ze],function(t,A){var s=A[1];return A[0].evaluate(t)/s.evaluate(t)}],"%":[ze,[ze,ze],function(t,A){var s=A[1];return A[0].evaluate(t)%s.evaluate(t)}],ln2:[ze,[],function(){return Math.LN2}],pi:[ze,[],function(){return Math.PI}],e:[ze,[],function(){return Math.E}],"^":[ze,[ze,ze],function(t,A){var s=A[1];return Math.pow(A[0].evaluate(t),s.evaluate(t))}],sqrt:[ze,[ze],function(t,A){return Math.sqrt(A[0].evaluate(t))}],log10:[ze,[ze],function(t,A){return Math.log(A[0].evaluate(t))/Math.LN10}],ln:[ze,[ze],function(t,A){return Math.log(A[0].evaluate(t))}],log2:[ze,[ze],function(t,A){return Math.log(A[0].evaluate(t))/Math.LN2}],sin:[ze,[ze],function(t,A){return Math.sin(A[0].evaluate(t))}],cos:[ze,[ze],function(t,A){return Math.cos(A[0].evaluate(t))}],tan:[ze,[ze],function(t,A){return Math.tan(A[0].evaluate(t))}],asin:[ze,[ze],function(t,A){return Math.asin(A[0].evaluate(t))}],acos:[ze,[ze],function(t,A){return Math.acos(A[0].evaluate(t))}],atan:[ze,[ze],function(t,A){return Math.atan(A[0].evaluate(t))}],min:[ze,ia(ze),function(t,A){return Math.min.apply(Math,A.map(function(s){return s.evaluate(t)}))}],max:[ze,ia(ze),function(t,A){return Math.max.apply(Math,A.map(function(s){return s.evaluate(t)}))}],abs:[ze,[ze],function(t,A){return Math.abs(A[0].evaluate(t))}],round:[ze,[ze],function(t,A){var s=A[0].evaluate(t);return s<0?-Math.round(-s):Math.round(s)}],floor:[ze,[ze],function(t,A){return Math.floor(A[0].evaluate(t))}],ceil:[ze,[ze],function(t,A){return Math.ceil(A[0].evaluate(t))}],"filter-==":[lt,[dt,gt],function(t,A){var s=A[0],f=A[1];return t.properties()[s.value]===f.value}],"filter-id-==":[lt,[gt],function(t,A){var s=A[0];return t.id()===s.value}],"filter-type-==":[lt,[dt],function(t,A){var s=A[0];return t.geometryType()===s.value}],"filter-<":[lt,[dt,gt],function(t,A){var s=A[0],f=A[1],m=t.properties()[s.value],v=f.value;return typeof m==typeof v&&m<v}],"filter-id-<":[lt,[gt],function(t,A){var s=A[0],f=t.id(),m=s.value;return typeof f==typeof m&&f<m}],"filter->":[lt,[dt,gt],function(t,A){var s=A[0],f=A[1],m=t.properties()[s.value],v=f.value;return typeof m==typeof v&&m>v}],"filter-id->":[lt,[gt],function(t,A){var s=A[0],f=t.id(),m=s.value;return typeof f==typeof m&&f>m}],"filter-<=":[lt,[dt,gt],function(t,A){var s=A[0],f=A[1],m=t.properties()[s.value],v=f.value;return typeof m==typeof v&&m<=v}],"filter-id-<=":[lt,[gt],function(t,A){var s=A[0],f=t.id(),m=s.value;return typeof f==typeof m&&f<=m}],"filter->=":[lt,[dt,gt],function(t,A){var s=A[0],f=A[1],m=t.properties()[s.value],v=f.value;return typeof m==typeof v&&m>=v}],"filter-id->=":[lt,[gt],function(t,A){var s=A[0],f=t.id(),m=s.value;return typeof f==typeof m&&f>=m}],"filter-has":[lt,[gt],function(t,A){return A[0].value in t.properties()}],"filter-has-id":[lt,[],function(t){return t.id()!==null&&t.id()!==void 0}],"filter-type-in":[lt,[mt(dt)],function(t,A){return A[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[lt,[mt(gt)],function(t,A){return A[0].value.indexOf(t.id())>=0}],"filter-in-small":[lt,[dt,mt(gt)],function(t,A){var s=A[0];return A[1].value.indexOf(t.properties()[s.value])>=0}],"filter-in-large":[lt,[dt,mt(gt)],function(t,A){var s=A[0],f=A[1];return function(m,v,B,U){for(;B<=U;){var T=B+U>>1;if(v[T]===m)return!0;v[T]>m?U=T-1:B=T+1}return!1}(t.properties()[s.value],f.value,0,f.value.length-1)}],all:{type:lt,overloads:[[[lt,lt],function(t,A){var s=A[1];return A[0].evaluate(t)&&s.evaluate(t)}],[ia(lt),function(t,A){for(var s=0,f=A;s<f.length;s+=1)if(!f[s].evaluate(t))return!1;return!0}]]},any:{type:lt,overloads:[[[lt,lt],function(t,A){var s=A[1];return A[0].evaluate(t)||s.evaluate(t)}],[ia(lt),function(t,A){for(var s=0,f=A;s<f.length;s+=1)if(f[s].evaluate(t))return!0;return!1}]]},"!":[lt,[lt],function(t,A){return!A[0].evaluate(t)}],"is-supported-script":[lt,[dt],function(t,A){var s=t.globals&&t.globals.isSupportedScript;return!s||s(A[0].evaluate(t))}],upcase:[dt,[dt],function(t,A){return A[0].evaluate(t).toUpperCase()}],downcase:[dt,[dt],function(t,A){return A[0].evaluate(t).toLowerCase()}],concat:[dt,ia(gt),function(t,A){return A.map(function(s){return qA(s.evaluate(t))}).join("")}],"resolved-locale":[dt,[cr],function(t,A){return A[0].evaluate(t).resolvedLocale()}]});var Ia=function(t,A){this.expression=t,this._warningHistory={},this._evaluator=new dn,this._defaultValue=A?function(s){return s.type==="color"&&js(s.default)?new xr(0,0,0,0):s.type==="color"?xr.parse(s.default)||null:s.default===void 0?null:s.default}(A):null,this._enumValues=A&&A.type==="enum"?A.values:null};function ss(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in ra}function qs(t,A){var s=new yi(ra,[],A?function(m){var v={color:ht,string:dt,number:ze,enum:dt,boolean:lt,formatted:Mr,resolvedImage:se};return m.type==="array"?mt(v[m.value]||gt,m.length):v[m.type]}(A):void 0),f=s.parse(t,void 0,void 0,void 0,A&&A.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?ah(new Ia(f,A)):na(s.errors)}Ia.prototype.evaluateWithoutErrorHandling=function(t,A,s,f,m,v){return this._evaluator.globals=t,this._evaluator.feature=A,this._evaluator.featureState=s,this._evaluator.canonical=f,this._evaluator.availableImages=m||null,this._evaluator.formattedSection=v,this.expression.evaluate(this._evaluator)},Ia.prototype.evaluate=function(t,A,s,f,m,v){this._evaluator.globals=t,this._evaluator.feature=A||null,this._evaluator.featureState=s||null,this._evaluator.canonical=f,this._evaluator.availableImages=m||null,this._evaluator.formattedSection=v||null;try{var B=this.expression.evaluate(this._evaluator);if(B==null||typeof B=="number"&&B!=B)return this._defaultValue;if(this._enumValues&&!(B in this._enumValues))throw new Pi("Expected value to be one of "+Object.keys(this._enumValues).map(function(U){return JSON.stringify(U)}).join(", ")+", but found "+JSON.stringify(B)+" instead.");return B}catch(U){return this._warningHistory[U.message]||(this._warningHistory[U.message]=!0,typeof console!="undefined"&&console.warn(U.message)),this._defaultValue}};var ls=function(t,A){this.kind=t,this._styleExpression=A,this.isStateDependent=t!=="constant"&&!xe(A.expression)};ls.prototype.evaluateWithoutErrorHandling=function(t,A,s,f,m,v){return this._styleExpression.evaluateWithoutErrorHandling(t,A,s,f,m,v)},ls.prototype.evaluate=function(t,A,s,f,m,v){return this._styleExpression.evaluate(t,A,s,f,m,v)};var Sa=function(t,A,s,f){this.kind=t,this.zoomStops=s,this._styleExpression=A,this.isStateDependent=t!=="camera"&&!xe(A.expression),this.interpolationType=f};function ch(t,A){if((t=qs(t,A)).result==="error")return t;var s=t.value.expression,f=YA(s);if(!f&&!Aa(A))return na([new $e("","data expressions not supported")]);var m=On(s,["zoom"]);if(!m&&!sh(A))return na([new $e("","zoom expressions not supported")]);var v=function B(U){var T=null;if(U instanceof Co)T=B(U.result);else if(U instanceof xo)for(var L=0,P=U.args;L<P.length&&!(T=B(P[L]));L+=1);else(U instanceof sA||U instanceof kn)&&U.input instanceof $i&&U.input.name==="zoom"&&(T=U);return T instanceof $e||U.eachChild(function(z){var G=B(z);G instanceof $e?T=G:!T&&G?T=new $e("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):T&&G&&T!==G&&(T=new $e("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),T}(s);return v||m?v instanceof $e?na([v]):v instanceof kn&&!as(A)?na([new $e("",'"interpolate" expressions cannot be used with this property')]):ah(v?new Sa(f?"camera":"composite",t.value,v.labels,v instanceof kn?v.interpolation:void 0):new ls(f?"constant":"source",t.value)):na([new $e("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Sa.prototype.evaluateWithoutErrorHandling=function(t,A,s,f,m,v){return this._styleExpression.evaluateWithoutErrorHandling(t,A,s,f,m,v)},Sa.prototype.evaluate=function(t,A,s,f,m,v){return this._styleExpression.evaluate(t,A,s,f,m,v)},Sa.prototype.interpolationFactor=function(t,A,s){return this.interpolationType?kn.interpolationFactor(this.interpolationType,t,A,s):0};var Ta=function(t,A){this._parameters=t,this._specification=A,Je(this,function s(f,m){var v,B,U,T=m.type==="color",L=f.stops&&typeof f.stops[0][0]=="object",P=L||!(L||f.property!==void 0),z=f.type||(as(m)?"exponential":"interval");if(T&&((f=Je({},f)).stops&&(f.stops=f.stops.map(function(vt){return[vt[0],xr.parse(vt[1])]})),f.default=xr.parse(f.default?f.default:m.default)),f.colorSpace&&f.colorSpace!=="rgb"&&!Yc[f.colorSpace])throw new Error("Unknown color space: "+f.colorSpace);if(z==="exponential")v=uh;else if(z==="interval")v=Ep;else if(z==="categorical"){v=lh,B=Object.create(null);for(var G=0,Z=f.stops;G<Z.length;G+=1){var re=Z[G];B[re[0]]=re[1]}U=typeof f.stops[0][0]}else{if(z!=="identity")throw new Error('Unknown function type "'+z+'"');v=Zs}if(L){for(var ne={},de=[],ue=0;ue<f.stops.length;ue++){var be=f.stops[ue],Ie=be[0].zoom;ne[Ie]===void 0&&(ne[Ie]={zoom:Ie,type:f.type,property:f.property,default:f.default,stops:[]},de.push(Ie)),ne[Ie].stops.push([be[0].value,be[1]])}for(var ke=[],He=0,qe=de;He<qe.length;He+=1){var nt=qe[He];ke.push([ne[nt].zoom,s(ne[nt],m)])}var ft={name:"linear"};return{kind:"composite",interpolationType:ft,interpolationFactor:kn.interpolationFactor.bind(void 0,ft),zoomStops:ke.map(function(vt){return vt[0]}),evaluate:function(vt,Ht){var Bt=vt.zoom;return uh({stops:ke,base:f.base},m,Bt).evaluate(Bt,Ht)}}}if(P){var kt=z==="exponential"?{name:"exponential",base:f.base!==void 0?f.base:1}:null;return{kind:"camera",interpolationType:kt,interpolationFactor:kn.interpolationFactor.bind(void 0,kt),zoomStops:f.stops.map(function(vt){return vt[0]}),evaluate:function(vt){return v(f,m,vt.zoom,B,U)}}}return{kind:"source",evaluate:function(vt,Ht){var Bt=Ht&&Ht.properties?Ht.properties[f.property]:void 0;return Bt===void 0?Qa(f.default,m.default):v(f,m,Bt,B,U)}}}(this._parameters,this._specification))};function zA(t){var A=t.key,s=t.value,f=t.valueSpec||{},m=t.objectElementValidators||{},v=t.style,B=t.styleSpec,U=[],T=fi(s);if(T!=="object")return[new oe(A,s,"object expected, "+T+" found")];for(var L in s){var P=L.split(".")[0],z=f[P]||f["*"],G=void 0;if(m[P])G=m[P];else if(f[P])G=Ur;else if(m["*"])G=m["*"];else{if(!f["*"]){U.push(new oe(A,s[L],'unknown property "'+L+'"'));continue}G=Ur}U=U.concat(G({key:(A&&A+".")+L,value:s[L],valueSpec:z,style:v,styleSpec:B,object:s,objectKey:L},s))}for(var Z in f)m[Z]||f[Z].required&&f[Z].default===void 0&&s[Z]===void 0&&U.push(new oe(A,s,'missing required property "'+Z+'"'));return U}function hh(t){var A=t.value,s=t.valueSpec,f=t.style,m=t.styleSpec,v=t.key,B=t.arrayElementValidator||Ur;if(fi(A)!=="array")return[new oe(v,A,"array expected, "+fi(A)+" found")];if(s.length&&A.length!==s.length)return[new oe(v,A,"array length "+s.length+" expected, length "+A.length+" found")];if(s["min-length"]&&A.length<s["min-length"])return[new oe(v,A,"array length at least "+s["min-length"]+" expected, length "+A.length+" found")];var U={type:s.value,values:s.values};m.$version<7&&(U.function=s.function),fi(s.value)==="object"&&(U=s.value);for(var T=[],L=0;L<A.length;L++)T=T.concat(B({array:A,arrayIndex:L,value:A[L],valueSpec:U,style:f,styleSpec:m,key:v+"["+L+"]"}));return T}function fh(t){var A=t.key,s=t.value,f=t.valueSpec,m=fi(s);return m==="number"&&s!=s&&(m="NaN"),m!=="number"?[new oe(A,s,"number expected, "+m+" found")]:"minimum"in f&&s<f.minimum?[new oe(A,s,s+" is less than the minimum value "+f.minimum)]:"maximum"in f&&s>f.maximum?[new oe(A,s,s+" is greater than the maximum value "+f.maximum)]:[]}function ph(t){var A,s,f,m=t.valueSpec,v=tt(t.value.type),B={},U=v!=="categorical"&&t.value.property===void 0,T=!U,L=fi(t.value.stops)==="array"&&fi(t.value.stops[0])==="array"&&fi(t.value.stops[0][0])==="object",P=zA({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(Z){if(v==="identity")return[new oe(Z.key,Z.value,'identity function may not have a "stops" property')];var re=[],ne=Z.value;return re=re.concat(hh({key:Z.key,value:ne,valueSpec:Z.valueSpec,style:Z.style,styleSpec:Z.styleSpec,arrayElementValidator:z})),fi(ne)==="array"&&ne.length===0&&re.push(new oe(Z.key,ne,"array must have at least one stop")),re},default:function(Z){return Ur({key:Z.key,value:Z.value,valueSpec:m,style:Z.style,styleSpec:Z.styleSpec})}}});return v==="identity"&&U&&P.push(new oe(t.key,t.value,'missing required property "property"')),v==="identity"||t.value.stops||P.push(new oe(t.key,t.value,'missing required property "stops"')),v==="exponential"&&t.valueSpec.expression&&!as(t.valueSpec)&&P.push(new oe(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(T&&!Aa(t.valueSpec)?P.push(new oe(t.key,t.value,"property functions not supported")):U&&!sh(t.valueSpec)&&P.push(new oe(t.key,t.value,"zoom functions not supported"))),v!=="categorical"&&!L||t.value.property!==void 0||P.push(new oe(t.key,t.value,'"property" property is required')),P;function z(Z){var re=[],ne=Z.value,de=Z.key;if(fi(ne)!=="array")return[new oe(de,ne,"array expected, "+fi(ne)+" found")];if(ne.length!==2)return[new oe(de,ne,"array length 2 expected, length "+ne.length+" found")];if(L){if(fi(ne[0])!=="object")return[new oe(de,ne,"object expected, "+fi(ne[0])+" found")];if(ne[0].zoom===void 0)return[new oe(de,ne,"object stop key must have zoom")];if(ne[0].value===void 0)return[new oe(de,ne,"object stop key must have value")];if(f&&f>tt(ne[0].zoom))return[new oe(de,ne[0].zoom,"stop zoom values must appear in ascending order")];tt(ne[0].zoom)!==f&&(f=tt(ne[0].zoom),s=void 0,B={}),re=re.concat(zA({key:de+"[0]",value:ne[0],valueSpec:{zoom:{}},style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{zoom:fh,value:G}}))}else re=re.concat(G({key:de+"[0]",value:ne[0],valueSpec:{},style:Z.style,styleSpec:Z.styleSpec},ne));return ss(Re(ne[1]))?re.concat([new oe(de+"[1]",ne[1],"expressions are not allowed in function stops.")]):re.concat(Ur({key:de+"[1]",value:ne[1],valueSpec:m,style:Z.style,styleSpec:Z.styleSpec}))}function G(Z,re){var ne=fi(Z.value),de=tt(Z.value),ue=Z.value!==null?Z.value:re;if(A){if(ne!==A)return[new oe(Z.key,ue,ne+" stop domain type must match previous stop domain type "+A)]}else A=ne;if(ne!=="number"&&ne!=="string"&&ne!=="boolean")return[new oe(Z.key,ue,"stop domain value must be a number, string, or boolean")];if(ne!=="number"&&v!=="categorical"){var be="number expected, "+ne+" found";return Aa(m)&&v===void 0&&(be+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new oe(Z.key,ue,be)]}return v!=="categorical"||ne!=="number"||isFinite(de)&&Math.floor(de)===de?v!=="categorical"&&ne==="number"&&s!==void 0&&de<s?[new oe(Z.key,ue,"stop domain values must appear in ascending order")]:(s=de,v==="categorical"&&de in B?[new oe(Z.key,ue,"stop domain values must be unique")]:(B[de]=!0,[])):[new oe(Z.key,ue,"integer expected, found "+de)]}}function oa(t){var A=(t.expressionContext==="property"?ch:qs)(Re(t.value),t.valueSpec);if(A.result==="error")return A.value.map(function(f){return new oe(""+t.key+f.key,t.value,f.message)});var s=A.value.expression||A.value._styleExpression.expression;if(t.expressionContext==="property"&&t.propertyKey==="text-font"&&!s.outputDefined())return[new oe(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if(t.expressionContext==="property"&&t.propertyType==="layout"&&!xe(s))return[new oe(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if(t.expressionContext==="filter"&&!xe(s))return[new oe(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&t.expressionContext.indexOf("cluster")===0){if(!On(s,["zoom","feature-state"]))return[new oe(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t.expressionContext==="cluster-initial"&&!YA(s))return[new oe(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function us(t){var A=t.key,s=t.value,f=t.valueSpec,m=[];return Array.isArray(f.values)?f.values.indexOf(tt(s))===-1&&m.push(new oe(A,s,"expected one of ["+f.values.join(", ")+"], "+JSON.stringify(s)+" found")):Object.keys(f.values).indexOf(tt(s))===-1&&m.push(new oe(A,s,"expected one of ["+Object.keys(f.values).join(", ")+"], "+JSON.stringify(s)+" found")),m}function Ws(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&(typeof t[1]!="string"||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var A=0,s=t.slice(1);A<s.length;A+=1){var f=s[A];if(!Ws(f)&&typeof f!="boolean")return!1}return!0;default:return!0}}Ta.deserialize=function(t){return new Ta(t._parameters,t._specification)},Ta.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var mu={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Js(t){if(t==null)return{filter:function(){return!0},needGeometry:!1};Ws(t)||(t=Ys(t));var A=qs(t,mu);if(A.result==="error")throw new Error(A.value.map(function(s){return s.key+": "+s.message}).join(", "));return{filter:function(s,f,m){return A.value.evaluate(s,f,{},m)},needGeometry:function s(f){if(!Array.isArray(f))return!1;if(f[0]==="within")return!0;for(var m=1;m<f.length;m++)if(s(f[m]))return!0;return!1}(t)}}function Up(t,A){return t<A?-1:t>A?1:0}function Ys(t){if(!t)return!0;var A,s=t[0];return t.length<=1?s!=="any":s==="=="?yu(t[1],t[2],"=="):s==="!="?$s(yu(t[1],t[2],"==")):s==="<"||s===">"||s==="<="||s===">="?yu(t[1],t[2],s):s==="any"?(A=t.slice(1),["any"].concat(A.map(Ys))):s==="all"?["all"].concat(t.slice(1).map(Ys)):s==="none"?["all"].concat(t.slice(1).map(Ys).map($s)):s==="in"?dh(t[1],t.slice(2)):s==="!in"?$s(dh(t[1],t.slice(2))):s==="has"?gh(t[1]):s==="!has"?$s(gh(t[1])):s!=="within"||t}function yu(t,A,s){switch(t){case"$type":return["filter-type-"+s,A];case"$id":return["filter-id-"+s,A];default:return["filter-"+s,t,A]}}function dh(t,A){if(A.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",A]];case"$id":return["filter-id-in",["literal",A]];default:return A.length>200&&!A.some(function(s){return typeof s!=typeof A[0]})?["filter-in-large",t,["literal",A.sort(Up)]]:["filter-in-small",t,["literal",A]]}}function gh(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function $s(t){return["!",t]}function _u(t){return Ws(Re(t.value))?oa(Je({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function A(s){var f=s.value,m=s.key;if(fi(f)!=="array")return[new oe(m,f,"array expected, "+fi(f)+" found")];var v,B=s.styleSpec,U=[];if(f.length<1)return[new oe(m,f,"filter array must have at least 1 element")];switch(U=U.concat(us({key:m+"[0]",value:f[0],valueSpec:B.filter_operator,style:s.style,styleSpec:s.styleSpec})),tt(f[0])){case"<":case"<=":case">":case">=":f.length>=2&&tt(f[1])==="$type"&&U.push(new oe(m,f,'"$type" cannot be use with operator "'+f[0]+'"'));case"==":case"!=":f.length!==3&&U.push(new oe(m,f,'filter array for operator "'+f[0]+'" must have 3 elements'));case"in":case"!in":f.length>=2&&(v=fi(f[1]))!=="string"&&U.push(new oe(m+"[1]",f[1],"string expected, "+v+" found"));for(var T=2;T<f.length;T++)v=fi(f[T]),tt(f[1])==="$type"?U=U.concat(us({key:m+"["+T+"]",value:f[T],valueSpec:B.geometry_type,style:s.style,styleSpec:s.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&U.push(new oe(m+"["+T+"]",f[T],"string, number, or boolean expected, "+v+" found"));break;case"any":case"all":case"none":for(var L=1;L<f.length;L++)U=U.concat(A({key:m+"["+L+"]",value:f[L],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":v=fi(f[1]),f.length!==2?U.push(new oe(m,f,'filter array for "'+f[0]+'" operator must have 2 elements')):v!=="string"&&U.push(new oe(m+"[1]",f[1],"string expected, "+v+" found"));break;case"within":v=fi(f[1]),f.length!==2?U.push(new oe(m,f,'filter array for "'+f[0]+'" operator must have 2 elements')):v!=="object"&&U.push(new oe(m+"[1]",f[1],"object expected, "+v+" found"))}return U}(t)}function vu(t,A){var s=t.key,f=t.style,m=t.styleSpec,v=t.value,B=t.objectKey,U=m[A+"_"+t.layerType];if(!U)return[];var T=B.match(/^(.*)-transition$/);if(A==="paint"&&T&&U[T[1]]&&U[T[1]].transition)return Ur({key:s,value:v,valueSpec:m.transition,style:f,styleSpec:m});var L,P=t.valueSpec||U[B];if(!P)return[new oe(s,v,'unknown property "'+B+'"')];if(fi(v)==="string"&&Aa(P)&&!P.tokens&&(L=/^{([^}]+)}$/.exec(v)))return[new oe(s,v,'"'+B+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(L[1])+" }`.")];var z=[];return t.layerType==="symbol"&&(B==="text-field"&&f&&!f.glyphs&&z.push(new oe(s,v,'use of "text-field" requires a style "glyphs" property')),B==="text-font"&&js(Re(v))&&tt(v.type)==="identity"&&z.push(new oe(s,v,'"text-font" does not support identity functions'))),z.concat(Ur({key:t.key,value:v,valueSpec:P,style:f,styleSpec:m,expressionContext:"property",propertyType:A,propertyKey:B}))}function wu(t){return vu(t,"paint")}function cs(t){return vu(t,"layout")}function mh(t){var A=[],s=t.value,f=t.key,m=t.style,v=t.styleSpec;s.type||s.ref||A.push(new oe(f,s,'either "type" or "ref" is required'));var B,U=tt(s.type),T=tt(s.ref);if(s.id)for(var L=tt(s.id),P=0;P<t.arrayIndex;P++){var z=m.layers[P];tt(z.id)===L&&A.push(new oe(f,s.id,'duplicate layer id "'+s.id+'", previously used at line '+z.id.__line__))}if("ref"in s)["type","source","source-layer","filter","layout"].forEach(function(re){re in s&&A.push(new oe(f,s[re],'"'+re+'" is prohibited for ref layers'))}),m.layers.forEach(function(re){tt(re.id)===T&&(B=re)}),B?B.ref?A.push(new oe(f,s.ref,"ref cannot reference another ref layer")):U=tt(B.type):A.push(new oe(f,s.ref,'ref layer "'+T+'" not found'));else if(U!=="background")if(s.source){var G=m.sources&&m.sources[s.source],Z=G&&tt(G.type);G?Z==="vector"&&U==="raster"?A.push(new oe(f,s.source,'layer "'+s.id+'" requires a raster source')):Z==="raster"&&U!=="raster"?A.push(new oe(f,s.source,'layer "'+s.id+'" requires a vector source')):Z!=="vector"||s["source-layer"]?Z==="raster-dem"&&U!=="hillshade"?A.push(new oe(f,s.source,"raster-dem source can only be used with layer type 'hillshade'.")):U!=="line"||!s.paint||!s.paint["line-gradient"]||Z==="geojson"&&G.lineMetrics||A.push(new oe(f,s,'layer "'+s.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):A.push(new oe(f,s,'layer "'+s.id+'" must specify a "source-layer"')):A.push(new oe(f,s.source,'source "'+s.source+'" not found'))}else A.push(new oe(f,s,'missing required property "source"'));return A=A.concat(zA({key:f,value:s,valueSpec:v.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ur({key:f+".type",value:s.type,valueSpec:v.layer.type,style:t.style,styleSpec:t.styleSpec,object:s,objectKey:"type"})},filter:_u,layout:function(re){return zA({layer:s,key:re.key,value:re.value,style:re.style,styleSpec:re.styleSpec,objectElementValidators:{"*":function(ne){return cs(Je({layerType:U},ne))}}})},paint:function(re){return zA({layer:s,key:re.key,value:re.value,style:re.style,styleSpec:re.styleSpec,objectElementValidators:{"*":function(ne){return wu(Je({layerType:U},ne))}}})}}}))}function aa(t){var A=t.value,s=t.key,f=fi(A);return f!=="string"?[new oe(s,A,"string expected, "+f+" found")]:[]}var Bi={promoteId:function(t){var A=t.key,s=t.value;if(fi(s)==="string")return aa({key:A,value:s});var f=[];for(var m in s)f.push.apply(f,aa({key:A+"."+m,value:s[m]}));return f}};function el(t){var A=t.value,s=t.key,f=t.styleSpec,m=t.style;if(!A.type)return[new oe(s,A,'"type" is required')];var v,B=tt(A.type);switch(B){case"vector":case"raster":case"raster-dem":return zA({key:s,value:A,valueSpec:f["source_"+B.replace("-","_")],style:t.style,styleSpec:f,objectElementValidators:Bi});case"geojson":if(v=zA({key:s,value:A,valueSpec:f.source_geojson,style:m,styleSpec:f,objectElementValidators:Bi}),A.cluster)for(var U in A.clusterProperties){var T=A.clusterProperties[U],L=T[0],P=typeof L=="string"?[L,["accumulated"],["get",U]]:L;v.push.apply(v,oa({key:s+"."+U+".map",value:T[1],expressionContext:"cluster-map"})),v.push.apply(v,oa({key:s+"."+U+".reduce",value:P,expressionContext:"cluster-reduce"}))}return v;case"video":return zA({key:s,value:A,valueSpec:f.source_video,style:m,styleSpec:f});case"image":return zA({key:s,value:A,valueSpec:f.source_image,style:m,styleSpec:f});case"canvas":return[new oe(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return us({key:s+".type",value:A.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,styleSpec:f})}}function sa(t){var A=t.value,s=t.styleSpec,f=s.light,m=t.style,v=[],B=fi(A);if(A===void 0)return v;if(B!=="object")return v.concat([new oe("light",A,"object expected, "+B+" found")]);for(var U in A){var T=U.match(/^(.*)-transition$/);v=v.concat(T&&f[T[1]]&&f[T[1]].transition?Ur({key:U,value:A[U],valueSpec:s.transition,style:m,styleSpec:s}):f[U]?Ur({key:U,value:A[U],valueSpec:f[U],style:m,styleSpec:s}):[new oe(U,A[U],'unknown property "'+U+'"')])}return v}var Qo={"*":function(){return[]},array:hh,boolean:function(t){var A=t.value,s=t.key,f=fi(A);return f!=="boolean"?[new oe(s,A,"boolean expected, "+f+" found")]:[]},number:fh,color:function(t){var A=t.key,s=t.value,f=fi(s);return f!=="string"?[new oe(A,s,"color expected, "+f+" found")]:fr(s)===null?[new oe(A,s,'color expected, "'+s+'" found')]:[]},constants:Ce,enum:us,filter:_u,function:ph,layer:mh,object:zA,source:el,light:sa,string:aa,formatted:function(t){return aa(t).length===0?[]:oa(t)},resolvedImage:function(t){return aa(t).length===0?[]:oa(t)}};function Ur(t){var A=t.value,s=t.valueSpec,f=t.styleSpec;return s.expression&&js(tt(A))?ph(t):s.expression&&ss(Re(A))?oa(t):s.type&&Qo[s.type]?Qo[s.type](t):zA(Je({},t,{valueSpec:s.type?f[s.type]:s}))}function pi(t){var A=t.value,s=t.key,f=aa(t);return f.length||(A.indexOf("{fontstack}")===-1&&f.push(new oe(s,A,'"glyphs" url must include a "{fontstack}" token')),A.indexOf("{range}")===-1&&f.push(new oe(s,A,'"glyphs" url must include a "{range}" token'))),f}function wA(t,A){A===void 0&&(A=X);var s=[];return s=s.concat(Ur({key:"",value:t,valueSpec:A.$root,styleSpec:A,style:t,objectElementValidators:{glyphs:pi,"*":function(){return[]}}})),t.constants&&(s=s.concat(Ce({key:"constants",value:t.constants,style:t,styleSpec:A}))),hs(s)}function hs(t){return[].concat(t).sort(function(A,s){return A.line-s.line})}function ka(t){return function(){for(var A=[],s=arguments.length;s--;)A[s]=arguments[s];return hs(t.apply(this,A))}}wA.source=ka(el),wA.light=ka(sa),wA.layer=ka(mh),wA.filter=ka(_u),wA.paintProperty=ka(wu),wA.layoutProperty=ka(cs);var fs=wA,Qp=fs.light,Ip=fs.paintProperty,ps=fs.layoutProperty;function ds(t,A){var s=!1;if(A&&A.length)for(var f=0,m=A;f<m.length;f+=1)t.fire(new ge(new Error(m[f].message))),s=!0;return s}var co=en;function en(t,A,s){var f=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var m=new Int32Array(this.arrayBuffer);t=m[0],this.d=(A=m[1])+2*(s=m[2]);for(var v=0;v<this.d*this.d;v++){var B=m[3+v],U=m[3+v+1];f.push(B===U?null:m.subarray(B,U))}var T=m[3+f.length+1];this.keys=m.subarray(m[3+f.length],T),this.bboxes=m.subarray(T),this.insert=this._insertReadonly}else{this.d=A+2*s;for(var L=0;L<this.d*this.d;L++)f.push([]);this.keys=[],this.bboxes=[]}this.n=A,this.extent=t,this.padding=s,this.scale=A/t,this.uid=0;var P=s/A*t;this.min=-P,this.max=t+P}en.prototype.insert=function(t,A,s,f,m){this._forEachCell(A,s,f,m,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(A),this.bboxes.push(s),this.bboxes.push(f),this.bboxes.push(m)},en.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},en.prototype._insertCell=function(t,A,s,f,m,v){this.cells[m].push(v)},en.prototype.query=function(t,A,s,f,m){var v=this.min,B=this.max;if(t<=v&&A<=v&&B<=s&&B<=f&&!m)return Array.prototype.slice.call(this.keys);var U=[];return this._forEachCell(t,A,s,f,this._queryCell,U,{},m),U},en.prototype._queryCell=function(t,A,s,f,m,v,B,U){var T=this.cells[m];if(T!==null)for(var L=this.keys,P=this.bboxes,z=0;z<T.length;z++){var G=T[z];if(B[G]===void 0){var Z=4*G;(U?U(P[Z+0],P[Z+1],P[Z+2],P[Z+3]):t<=P[Z+2]&&A<=P[Z+3]&&s>=P[Z+0]&&f>=P[Z+1])?(B[G]=!0,v.push(L[G])):B[G]=!1}}},en.prototype._forEachCell=function(t,A,s,f,m,v,B,U){for(var T=this._convertToCellCoord(t),L=this._convertToCellCoord(A),P=this._convertToCellCoord(s),z=this._convertToCellCoord(f),G=T;G<=P;G++)for(var Z=L;Z<=z;Z++){var re=this.d*Z+G;if((!U||U(this._convertFromCellCoord(G),this._convertFromCellCoord(Z),this._convertFromCellCoord(G+1),this._convertFromCellCoord(Z+1)))&&m.call(this,t,A,s,f,re,v,B,U))return}},en.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},en.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},en.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,A=3+this.cells.length+1+1,s=0,f=0;f<this.cells.length;f++)s+=this.cells[f].length;var m=new Int32Array(A+s+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;for(var v=A,B=0;B<t.length;B++){var U=t[B];m[3+B]=v,m.set(U,v),v+=U.length}return m[3+t.length]=v,m.set(this.keys,v),m[3+t.length+1]=v+=this.keys.length,m.set(this.bboxes,v),v+=this.bboxes.length,m.buffer};var gs=I.ImageData,yh=I.ImageBitmap,ji={};function Ft(t,A,s){s===void 0&&(s={}),Object.defineProperty(A,"_classRegistryKey",{value:t,writeable:!1}),ji[t]={klass:A,omit:s.omit||[],shallow:s.shallow||[]}}for(var lA in Ft("Object",Object),co.serialize=function(t,A){var s=t.toArrayBuffer();return A&&A.push(s),{buffer:s}},co.deserialize=function(t){return new co(t.buffer)},Ft("Grid",co),Ft("Color",xr),Ft("Error",Error),Ft("ResolvedImage",an),Ft("StylePropertyFunction",Ta),Ft("StyleExpression",Ia,{omit:["_evaluator"]}),Ft("ZoomDependentExpression",Sa),Ft("ZoomConstantExpression",ls),Ft("CompoundExpression",$i,{omit:["_evaluate"]}),ra)ra[lA]._classRegistryKey||Ft("Expression_"+lA,ra[lA]);function tl(t){return t&&typeof ArrayBuffer!="undefined"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}function La(t){return yh&&t instanceof yh}function RA(t,A){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(tl(t)||La(t))return A&&A.push(t),t;if(ArrayBuffer.isView(t)){var s=t;return A&&A.push(s.buffer),s}if(t instanceof gs)return A&&A.push(t.data.buffer),t;if(Array.isArray(t)){for(var f=[],m=0,v=t;m<v.length;m+=1)f.push(RA(v[m],A));return f}if(typeof t=="object"){var B=t.constructor,U=B._classRegistryKey;if(!U)throw new Error("can't serialize object of unregistered class");var T=B.serialize?B.serialize(t,A):{};if(!B.serialize){for(var L in t)if(t.hasOwnProperty(L)&&!(ji[U].omit.indexOf(L)>=0)){var P=t[L];T[L]=ji[U].shallow.indexOf(L)>=0?P:RA(P,A)}t instanceof Error&&(T.message=t.message)}if(T.$name)throw new Error("$name property is reserved for worker serialization logic.");return U!=="Object"&&(T.$name=U),T}throw new Error("can't serialize object of type "+typeof t)}function uA(t){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||tl(t)||La(t)||ArrayBuffer.isView(t)||t instanceof gs)return t;if(Array.isArray(t))return t.map(uA);if(typeof t=="object"){var A=t.$name||"Object",s=ji[A].klass;if(!s)throw new Error("can't deserialize unregistered class "+A);if(s.deserialize)return s.deserialize(t);for(var f=Object.create(s.prototype),m=0,v=Object.keys(t);m<v.length;m+=1){var B=v[m];if(B!=="$name"){var U=t[B];f[B]=ji[A].shallow.indexOf(B)>=0?U:uA(U)}}return f}throw new Error("can't deserialize object of type "+typeof t)}var Bu=function(){this.first=!0};Bu.prototype.update=function(t,A){var s=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=s,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=s,!0):(this.lastFloorZoom>s?(this.lastIntegerZoom=s+1,this.lastIntegerZoomTime=A):this.lastFloorZoom<s&&(this.lastIntegerZoom=s,this.lastIntegerZoomTime=A),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=s,!0))};var yt={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function bu(t){for(var A=0,s=t;A<s.length;A+=1)if(rl(s[A].charCodeAt(0)))return!0;return!1}function rl(t){return!(t!==746&&t!==747&&(t<4352||!(yt["Bopomofo Extended"](t)||yt.Bopomofo(t)||yt["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||yt["CJK Compatibility Ideographs"](t)||yt["CJK Compatibility"](t)||yt["CJK Radicals Supplement"](t)||yt["CJK Strokes"](t)||!(!yt["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||t===12336)||yt["CJK Unified Ideographs Extension A"](t)||yt["CJK Unified Ideographs"](t)||yt["Enclosed CJK Letters and Months"](t)||yt["Hangul Compatibility Jamo"](t)||yt["Hangul Jamo Extended-A"](t)||yt["Hangul Jamo Extended-B"](t)||yt["Hangul Jamo"](t)||yt["Hangul Syllables"](t)||yt.Hiragana(t)||yt["Ideographic Description Characters"](t)||yt.Kanbun(t)||yt["Kangxi Radicals"](t)||yt["Katakana Phonetic Extensions"](t)||yt.Katakana(t)&&t!==12540||!(!yt["Halfwidth and Fullwidth Forms"](t)||t===65288||t===65289||t===65293||t>=65306&&t<=65310||t===65339||t===65341||t===65343||t>=65371&&t<=65503||t===65507||t>=65512&&t<=65519)||!(!yt["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||yt["Unified Canadian Aboriginal Syllabics"](t)||yt["Unified Canadian Aboriginal Syllabics Extended"](t)||yt["Vertical Forms"](t)||yt["Yijing Hexagram Symbols"](t)||yt["Yi Syllables"](t)||yt["Yi Radicals"](t))))}function xu(t){return!(rl(t)||function(A){return!!(yt["Latin-1 Supplement"](A)&&(A===167||A===169||A===174||A===177||A===188||A===189||A===190||A===215||A===247)||yt["General Punctuation"](A)&&(A===8214||A===8224||A===8225||A===8240||A===8241||A===8251||A===8252||A===8258||A===8263||A===8264||A===8265||A===8273)||yt["Letterlike Symbols"](A)||yt["Number Forms"](A)||yt["Miscellaneous Technical"](A)&&(A>=8960&&A<=8967||A>=8972&&A<=8991||A>=8996&&A<=9e3||A===9003||A>=9085&&A<=9114||A>=9150&&A<=9165||A===9167||A>=9169&&A<=9179||A>=9186&&A<=9215)||yt["Control Pictures"](A)&&A!==9251||yt["Optical Character Recognition"](A)||yt["Enclosed Alphanumerics"](A)||yt["Geometric Shapes"](A)||yt["Miscellaneous Symbols"](A)&&!(A>=9754&&A<=9759)||yt["Miscellaneous Symbols and Arrows"](A)&&(A>=11026&&A<=11055||A>=11088&&A<=11097||A>=11192&&A<=11243)||yt["CJK Symbols and Punctuation"](A)||yt.Katakana(A)||yt["Private Use Area"](A)||yt["CJK Compatibility Forms"](A)||yt["Small Form Variants"](A)||yt["Halfwidth and Fullwidth Forms"](A)||A===8734||A===8756||A===8757||A>=9984&&A<=10087||A>=10102&&A<=10131||A===65532||A===65533)}(t))}function QA(t){return t>=1424&&t<=2303||yt["Arabic Presentation Forms-A"](t)||yt["Arabic Presentation Forms-B"](t)}function cA(t,A){return!(!A&&QA(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||yt.Khmer(t))}function il(t){for(var A=0,s=t;A<s.length;A+=1)if(QA(s[A].charCodeAt(0)))return!0;return!1}var nl=null,hA="unavailable",ho=null,_h=function(t){t&&typeof t=="string"&&t.indexOf("NetworkError")>-1&&(hA="error"),nl&&nl(t)};function ms(){Cu.fire(new ie("pluginStateChange",{pluginStatus:hA,pluginURL:ho}))}var Cu=new ye,Fu=function(){return hA},OA=function(){if(hA!=="deferred"||!ho)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");hA="loading",ms(),ho&&Tn({url:ho},function(t){t?_h(t):(hA="loaded",ms())})},BA={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return hA==="loaded"||BA.applyArabicShaping!=null},isLoading:function(){return hA==="loading"},setState:function(t){hA=t.pluginStatus,ho=t.pluginURL},isParsed:function(){return BA.applyArabicShaping!=null&&BA.processBidirectionalText!=null&&BA.processStyledBidirectionalText!=null},getPluginURL:function(){return ho}},_r=function(t,A){this.zoom=t,A?(this.now=A.now,this.fadeDuration=A.fadeDuration,this.zoomHistory=A.zoomHistory,this.transition=A.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Bu,this.transition={})};_r.prototype.isSupportedScript=function(t){return function(A,s){for(var f=0,m=A;f<m.length;f+=1)if(!cA(m[f].charCodeAt(0),s))return!1;return!0}(t,BA.isLoaded())},_r.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},_r.prototype.getCrossfadeParameters=function(){var t=this.zoom,A=t-Math.floor(t),s=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:A+(1-A)*s}:{fromScale:.5,toScale:1,t:1-(1-s)*A}};var eo=function(t,A){this.property=t,this.value=A,this.expression=function(s,f){if(js(s))return new Ta(s,f);if(ss(s)){var m=ch(s,f);if(m.result==="error")throw new Error(m.value.map(function(B){return B.key+": "+B.message}).join(", "));return m.value}var v=s;return typeof s=="string"&&f.type==="color"&&(v=xr.parse(s)),{kind:"constant",evaluate:function(){return v}}}(A===void 0?t.specification.default:A,t.specification)};eo.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},eo.prototype.possiblyEvaluate=function(t,A,s){return this.property.possiblyEvaluate(this,t,A,s)};var IA=function(t){this.property=t,this.value=new eo(t,void 0)};IA.prototype.transitioned=function(t,A){return new la(this.property,this.value,A,V({},t.transition,this.transition),t.now)},IA.prototype.untransitioned=function(){return new la(this.property,this.value,null,{},0)};var Ln=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Ln.prototype.getValue=function(t){return ve(this._values[t].value.value)},Ln.prototype.setValue=function(t,A){this._values.hasOwnProperty(t)||(this._values[t]=new IA(this._values[t].property)),this._values[t].value=new eo(this._values[t].property,A===null?void 0:ve(A))},Ln.prototype.getTransition=function(t){return ve(this._values[t].transition)},Ln.prototype.setTransition=function(t,A){this._values.hasOwnProperty(t)||(this._values[t]=new IA(this._values[t].property)),this._values[t].transition=ve(A)||void 0},Ln.prototype.serialize=function(){for(var t={},A=0,s=Object.keys(this._values);A<s.length;A+=1){var f=s[A],m=this.getValue(f);m!==void 0&&(t[f]=m);var v=this.getTransition(f);v!==void 0&&(t[f+"-transition"]=v)}return t},Ln.prototype.transitioned=function(t,A){for(var s=new Io(this._properties),f=0,m=Object.keys(this._values);f<m.length;f+=1){var v=m[f];s._values[v]=this._values[v].transitioned(t,A._values[v])}return s},Ln.prototype.untransitioned=function(){for(var t=new Io(this._properties),A=0,s=Object.keys(this._values);A<s.length;A+=1){var f=s[A];t._values[f]=this._values[f].untransitioned()}return t};var la=function(t,A,s,f,m){this.property=t,this.value=A,this.begin=m+f.delay||0,this.end=this.begin+f.duration||0,t.specification.transition&&(f.delay||f.duration)&&(this.prior=s)};la.prototype.possiblyEvaluate=function(t,A,s){var f=t.now||0,m=this.value.possiblyEvaluate(t,A,s),v=this.prior;if(v){if(f>this.end)return this.prior=null,m;if(this.value.isDataDriven())return this.prior=null,m;if(f<this.begin)return v.possiblyEvaluate(t,A,s);var B=(f-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(t,A,s),m,function(U){if(U<=0)return 0;if(U>=1)return 1;var T=U*U,L=T*U;return 4*(U<.5?L:3*(U-T)+L-.75)}(B))}return m};var Io=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Io.prototype.possiblyEvaluate=function(t,A,s){for(var f=new ys(this._properties),m=0,v=Object.keys(this._values);m<v.length;m+=1){var B=v[m];f._values[B]=this._values[B].possiblyEvaluate(t,A,s)}return f},Io.prototype.hasTransition=function(){for(var t=0,A=Object.keys(this._values);t<A.length;t+=1)if(this._values[A[t]].prior)return!0;return!1};var KA=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};KA.prototype.getValue=function(t){return ve(this._values[t].value)},KA.prototype.setValue=function(t,A){this._values[t]=new eo(this._values[t].property,A===null?void 0:ve(A))},KA.prototype.serialize=function(){for(var t={},A=0,s=Object.keys(this._values);A<s.length;A+=1){var f=s[A],m=this.getValue(f);m!==void 0&&(t[f]=m)}return t},KA.prototype.possiblyEvaluate=function(t,A,s){for(var f=new ys(this._properties),m=0,v=Object.keys(this._values);m<v.length;m+=1){var B=v[m];f._values[B]=this._values[B].possiblyEvaluate(t,A,s)}return f};var jn=function(t,A,s){this.property=t,this.value=A,this.parameters=s};jn.prototype.isConstant=function(){return this.value.kind==="constant"},jn.prototype.constantOr=function(t){return this.value.kind==="constant"?this.value.value:t},jn.prototype.evaluate=function(t,A,s,f){return this.property.evaluate(this.value,this.parameters,t,A,s,f)};var ys=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};ys.prototype.get=function(t){return this._values[t]};var Dt=function(t){this.specification=t};Dt.prototype.possiblyEvaluate=function(t,A){return t.expression.evaluate(A)},Dt.prototype.interpolate=function(t,A,s){var f=Ua[this.specification.type];return f?f(t,A,s):t};var Ut=function(t,A){this.specification=t,this.overrides=A};Ut.prototype.possiblyEvaluate=function(t,A,s,f){return new jn(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(A,null,{},s,f)}:t.expression,A)},Ut.prototype.interpolate=function(t,A,s){if(t.value.kind!=="constant"||A.value.kind!=="constant")return t;if(t.value.value===void 0||A.value.value===void 0)return new jn(this,{kind:"constant",value:void 0},t.parameters);var f=Ua[this.specification.type];return f?new jn(this,{kind:"constant",value:f(t.value.value,A.value.value,s)},t.parameters):t},Ut.prototype.evaluate=function(t,A,s,f,m,v){return t.kind==="constant"?t.value:t.evaluate(A,s,f,m,v)};var Al=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.possiblyEvaluate=function(s,f,m,v){if(s.value===void 0)return new jn(this,{kind:"constant",value:void 0},f);if(s.expression.kind==="constant"){var B=s.expression.evaluate(f,null,{},m,v),U=s.property.specification.type==="resolvedImage"&&typeof B!="string"?B.name:B,T=this._calculate(U,U,U,f);return new jn(this,{kind:"constant",value:T},f)}if(s.expression.kind==="camera"){var L=this._calculate(s.expression.evaluate({zoom:f.zoom-1}),s.expression.evaluate({zoom:f.zoom}),s.expression.evaluate({zoom:f.zoom+1}),f);return new jn(this,{kind:"constant",value:L},f)}return new jn(this,s.expression,f)},A.prototype.evaluate=function(s,f,m,v,B,U){if(s.kind==="source"){var T=s.evaluate(f,m,v,B,U);return this._calculate(T,T,T,f)}return s.kind==="composite"?this._calculate(s.evaluate({zoom:Math.floor(f.zoom)-1},m,v),s.evaluate({zoom:Math.floor(f.zoom)},m,v),s.evaluate({zoom:Math.floor(f.zoom)+1},m,v),f):s.value},A.prototype._calculate=function(s,f,m,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:s,to:f}:{from:m,to:f}},A.prototype.interpolate=function(s){return s},A}(Ut),Zn=function(t){this.specification=t};Zn.prototype.possiblyEvaluate=function(t,A,s,f){if(t.value!==void 0){if(t.expression.kind==="constant"){var m=t.expression.evaluate(A,null,{},s,f);return this._calculate(m,m,m,A)}return this._calculate(t.expression.evaluate(new _r(Math.floor(A.zoom-1),A)),t.expression.evaluate(new _r(Math.floor(A.zoom),A)),t.expression.evaluate(new _r(Math.floor(A.zoom+1),A)),A)}},Zn.prototype._calculate=function(t,A,s,f){return f.zoom>f.zoomHistory.lastIntegerZoom?{from:t,to:A}:{from:s,to:A}},Zn.prototype.interpolate=function(t){return t};var NA=function(t){this.specification=t};NA.prototype.possiblyEvaluate=function(t,A,s,f){return!!t.expression.evaluate(A,null,{},s,f)},NA.prototype.interpolate=function(){return!1};var Mn=function(t){for(var A in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var s=t[A];s.specification.overridable&&this.overridableProperties.push(A);var f=this.defaultPropertyValues[A]=new eo(s,void 0),m=this.defaultTransitionablePropertyValues[A]=new IA(s);this.defaultTransitioningPropertyValues[A]=m.untransitioned(),this.defaultPossiblyEvaluatedValues[A]=f.possiblyEvaluate({})}};Ft("DataDrivenProperty",Ut),Ft("DataConstantProperty",Dt),Ft("CrossFadedDataDrivenProperty",Al),Ft("CrossFadedProperty",Zn),Ft("ColorRampProperty",NA);var to=function(t){function A(s,f){if(t.call(this),this.id=s.id,this.type=s.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},s.type!=="custom"&&(this.metadata=(s=s).metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,s.type!=="background"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),f.layout&&(this._unevaluatedLayout=new KA(f.layout)),f.paint)){for(var m in this._transitionablePaint=new Ln(f.paint),s.paint)this.setPaintProperty(m,s.paint[m],{validate:!1});for(var v in s.layout)this.setLayoutProperty(v,s.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ys(f.paint)}}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},A.prototype.getLayoutProperty=function(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)},A.prototype.setLayoutProperty=function(s,f,m){m===void 0&&(m={}),f!=null&&this._validate(ps,"layers."+this.id+".layout."+s,s,f,m)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,f):this.visibility=f)},A.prototype.getPaintProperty=function(s){return Le(s,"-transition")?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)},A.prototype.setPaintProperty=function(s,f,m){if(m===void 0&&(m={}),f!=null&&this._validate(Ip,"layers."+this.id+".paint."+s,s,f,m))return!1;if(Le(s,"-transition"))return this._transitionablePaint.setTransition(s.slice(0,-11),f||void 0),!1;var v=this._transitionablePaint._values[s],B=v.property.specification["property-type"]==="cross-faded-data-driven",U=v.value.isDataDriven(),T=v.value;this._transitionablePaint.setValue(s,f),this._handleSpecialPaintPropertyUpdate(s);var L=this._transitionablePaint._values[s].value;return L.isDataDriven()||U||B||this._handleOverridablePaintPropertyUpdate(s,T,L)},A.prototype._handleSpecialPaintPropertyUpdate=function(s){},A.prototype._handleOverridablePaintPropertyUpdate=function(s,f,m){return!1},A.prototype.isHidden=function(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"},A.prototype.updateTransitions=function(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)},A.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},A.prototype.recalculate=function(s,f){s.getCrossfadeParameters&&(this._crossfadeParameters=s.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,f)},A.prototype.serialize=function(){var s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),Ee(s,function(f,m){return!(f===void 0||m==="layout"&&!Object.keys(f).length||m==="paint"&&!Object.keys(f).length)})},A.prototype._validate=function(s,f,m,v,B){return B===void 0&&(B={}),(!B||B.validate!==!1)&&ds(this,s.call(fs,{key:f,layerType:this.type,objectKey:m,value:v,styleSpec:X,style:{glyphs:!0,sprite:!0}}))},A.prototype.is3D=function(){return!1},A.prototype.isTileClipped=function(){return!1},A.prototype.hasOffscreenPass=function(){return!1},A.prototype.resize=function(){},A.prototype.isStateDependent=function(){for(var s in this.paint._values){var f=this.paint.get(s);if(f instanceof jn&&Aa(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1},A}(ye),Eu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ol=function(t,A){this._structArray=t,this._pos1=A*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Jr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function yn(t,A){A===void 0&&(A=1);var s=0,f=0;return{members:t.map(function(m){var v=Eu[m.type].BYTES_PER_ELEMENT,B=s=vh(s,Math.max(A,v)),U=m.components||1;return f=Math.max(f,v),s+=v*U,{name:m.name,type:m.type,components:U,offset:B}}),size:vh(s,Math.max(f,A)),alignment:A}}function vh(t,A){return Math.ceil(t/A)*A}Jr.serialize=function(t,A){return t._trim(),A&&(t.isTransferred=!0,A.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Jr.deserialize=function(t){var A=Object.create(this.prototype);return A.arrayBuffer=t.arrayBuffer,A.length=t.length,A.capacity=t.arrayBuffer.byteLength/A.bytesPerElement,A._refreshViews(),A},Jr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Jr.prototype.clear=function(){this.length=0},Jr.prototype.resize=function(t){this.reserve(t),this.length=t},Jr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var A=this.uint8;this._refreshViews(),A&&this.uint8.set(A)}},Jr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ua=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f){var m=this.length;return this.resize(m+1),this.emplace(m,s,f)},A.prototype.emplace=function(s,f,m){var v=2*s;return this.int16[v+0]=f,this.int16[v+1]=m,s},A}(Jr);ua.prototype.bytesPerElement=4,Ft("StructArrayLayout2i4",ua);var Uu=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v){var B=this.length;return this.resize(B+1),this.emplace(B,s,f,m,v)},A.prototype.emplace=function(s,f,m,v,B){var U=4*s;return this.int16[U+0]=f,this.int16[U+1]=m,this.int16[U+2]=v,this.int16[U+3]=B,s},A}(Jr);Uu.prototype.bytesPerElement=8,Ft("StructArrayLayout4i8",Uu);var fo=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U){var T=this.length;return this.resize(T+1),this.emplace(T,s,f,m,v,B,U)},A.prototype.emplace=function(s,f,m,v,B,U,T){var L=6*s;return this.int16[L+0]=f,this.int16[L+1]=m,this.int16[L+2]=v,this.int16[L+3]=B,this.int16[L+4]=U,this.int16[L+5]=T,s},A}(Jr);fo.prototype.bytesPerElement=12,Ft("StructArrayLayout2i4i12",fo);var fA=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U){var T=this.length;return this.resize(T+1),this.emplace(T,s,f,m,v,B,U)},A.prototype.emplace=function(s,f,m,v,B,U,T){var L=4*s,P=8*s;return this.int16[L+0]=f,this.int16[L+1]=m,this.uint8[P+4]=v,this.uint8[P+5]=B,this.uint8[P+6]=U,this.uint8[P+7]=T,s},A}(Jr);fA.prototype.bytesPerElement=8,Ft("StructArrayLayout2i4ub8",fA);var Ma=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f){var m=this.length;return this.resize(m+1),this.emplace(m,s,f)},A.prototype.emplace=function(s,f,m){var v=2*s;return this.float32[v+0]=f,this.float32[v+1]=m,s},A}(Jr);Ma.prototype.bytesPerElement=8,Ft("StructArrayLayout2f8",Ma);var ro=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U,T,L,P,z){var G=this.length;return this.resize(G+1),this.emplace(G,s,f,m,v,B,U,T,L,P,z)},A.prototype.emplace=function(s,f,m,v,B,U,T,L,P,z,G){var Z=10*s;return this.uint16[Z+0]=f,this.uint16[Z+1]=m,this.uint16[Z+2]=v,this.uint16[Z+3]=B,this.uint16[Z+4]=U,this.uint16[Z+5]=T,this.uint16[Z+6]=L,this.uint16[Z+7]=P,this.uint16[Z+8]=z,this.uint16[Z+9]=G,s},A}(Jr);ro.prototype.bytesPerElement=20,Ft("StructArrayLayout10ui20",ro);var al=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U,T,L,P,z,G,Z){var re=this.length;return this.resize(re+1),this.emplace(re,s,f,m,v,B,U,T,L,P,z,G,Z)},A.prototype.emplace=function(s,f,m,v,B,U,T,L,P,z,G,Z,re){var ne=12*s;return this.int16[ne+0]=f,this.int16[ne+1]=m,this.int16[ne+2]=v,this.int16[ne+3]=B,this.uint16[ne+4]=U,this.uint16[ne+5]=T,this.uint16[ne+6]=L,this.uint16[ne+7]=P,this.int16[ne+8]=z,this.int16[ne+9]=G,this.int16[ne+10]=Z,this.int16[ne+11]=re,s},A}(Jr);al.prototype.bytesPerElement=24,Ft("StructArrayLayout4i4ui4i24",al);var Da=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m){var v=this.length;return this.resize(v+1),this.emplace(v,s,f,m)},A.prototype.emplace=function(s,f,m,v){var B=3*s;return this.float32[B+0]=f,this.float32[B+1]=m,this.float32[B+2]=v,s},A}(Jr);Da.prototype.bytesPerElement=12,Ft("StructArrayLayout3f12",Da);var _s=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s){var f=this.length;return this.resize(f+1),this.emplace(f,s)},A.prototype.emplace=function(s,f){return this.uint32[1*s+0]=f,s},A}(Jr);_s.prototype.bytesPerElement=4,Ft("StructArrayLayout1ul4",_s);var Qu=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U,T,L,P){var z=this.length;return this.resize(z+1),this.emplace(z,s,f,m,v,B,U,T,L,P)},A.prototype.emplace=function(s,f,m,v,B,U,T,L,P,z){var G=10*s,Z=5*s;return this.int16[G+0]=f,this.int16[G+1]=m,this.int16[G+2]=v,this.int16[G+3]=B,this.int16[G+4]=U,this.int16[G+5]=T,this.uint32[Z+3]=L,this.uint16[G+8]=P,this.uint16[G+9]=z,s},A}(Jr);Qu.prototype.bytesPerElement=20,Ft("StructArrayLayout6i1ul2ui20",Qu);var Pa=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U){var T=this.length;return this.resize(T+1),this.emplace(T,s,f,m,v,B,U)},A.prototype.emplace=function(s,f,m,v,B,U,T){var L=6*s;return this.int16[L+0]=f,this.int16[L+1]=m,this.int16[L+2]=v,this.int16[L+3]=B,this.int16[L+4]=U,this.int16[L+5]=T,s},A}(Jr);Pa.prototype.bytesPerElement=12,Ft("StructArrayLayout2i2i2i12",Pa);var ca=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B){var U=this.length;return this.resize(U+1),this.emplace(U,s,f,m,v,B)},A.prototype.emplace=function(s,f,m,v,B,U){var T=4*s,L=8*s;return this.float32[T+0]=f,this.float32[T+1]=m,this.float32[T+2]=v,this.int16[L+6]=B,this.int16[L+7]=U,s},A}(Jr);ca.prototype.bytesPerElement=16,Ft("StructArrayLayout2f1f2i16",ca);var Iu=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v){var B=this.length;return this.resize(B+1),this.emplace(B,s,f,m,v)},A.prototype.emplace=function(s,f,m,v,B){var U=12*s,T=3*s;return this.uint8[U+0]=f,this.uint8[U+1]=m,this.float32[T+1]=v,this.float32[T+2]=B,s},A}(Jr);Iu.prototype.bytesPerElement=12,Ft("StructArrayLayout2ub2f12",Iu);var So=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m){var v=this.length;return this.resize(v+1),this.emplace(v,s,f,m)},A.prototype.emplace=function(s,f,m,v){var B=3*s;return this.uint16[B+0]=f,this.uint16[B+1]=m,this.uint16[B+2]=v,s},A}(Jr);So.prototype.bytesPerElement=6,Ft("StructArrayLayout3ui6",So);var To=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U,T,L,P,z,G,Z,re,ne,de,ue,be){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,s,f,m,v,B,U,T,L,P,z,G,Z,re,ne,de,ue,be)},A.prototype.emplace=function(s,f,m,v,B,U,T,L,P,z,G,Z,re,ne,de,ue,be,Ie){var ke=24*s,He=12*s,qe=48*s;return this.int16[ke+0]=f,this.int16[ke+1]=m,this.uint16[ke+2]=v,this.uint16[ke+3]=B,this.uint32[He+2]=U,this.uint32[He+3]=T,this.uint32[He+4]=L,this.uint16[ke+10]=P,this.uint16[ke+11]=z,this.uint16[ke+12]=G,this.float32[He+7]=Z,this.float32[He+8]=re,this.uint8[qe+36]=ne,this.uint8[qe+37]=de,this.uint8[qe+38]=ue,this.uint32[He+10]=be,this.int16[ke+22]=Ie,s},A}(Jr);To.prototype.bytesPerElement=48,Ft("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",To);var sl=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v,B,U,T,L,P,z,G,Z,re,ne,de,ue,be,Ie,ke,He,qe,nt,ft,kt,vt,Ht,Bt,pr){var Zt=this.length;return this.resize(Zt+1),this.emplace(Zt,s,f,m,v,B,U,T,L,P,z,G,Z,re,ne,de,ue,be,Ie,ke,He,qe,nt,ft,kt,vt,Ht,Bt,pr)},A.prototype.emplace=function(s,f,m,v,B,U,T,L,P,z,G,Z,re,ne,de,ue,be,Ie,ke,He,qe,nt,ft,kt,vt,Ht,Bt,pr,Zt){var Qt=34*s,mr=17*s;return this.int16[Qt+0]=f,this.int16[Qt+1]=m,this.int16[Qt+2]=v,this.int16[Qt+3]=B,this.int16[Qt+4]=U,this.int16[Qt+5]=T,this.int16[Qt+6]=L,this.int16[Qt+7]=P,this.uint16[Qt+8]=z,this.uint16[Qt+9]=G,this.uint16[Qt+10]=Z,this.uint16[Qt+11]=re,this.uint16[Qt+12]=ne,this.uint16[Qt+13]=de,this.uint16[Qt+14]=ue,this.uint16[Qt+15]=be,this.uint16[Qt+16]=Ie,this.uint16[Qt+17]=ke,this.uint16[Qt+18]=He,this.uint16[Qt+19]=qe,this.uint16[Qt+20]=nt,this.uint16[Qt+21]=ft,this.uint16[Qt+22]=kt,this.uint32[mr+12]=vt,this.float32[mr+13]=Ht,this.float32[mr+14]=Bt,this.float32[mr+15]=pr,this.float32[mr+16]=Zt,s},A}(Jr);sl.prototype.bytesPerElement=68,Ft("StructArrayLayout8i15ui1ul4f68",sl);var ko=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s){var f=this.length;return this.resize(f+1),this.emplace(f,s)},A.prototype.emplace=function(s,f){return this.float32[1*s+0]=f,s},A}(Jr);ko.prototype.bytesPerElement=4,Ft("StructArrayLayout1f4",ko);var SA=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m){var v=this.length;return this.resize(v+1),this.emplace(v,s,f,m)},A.prototype.emplace=function(s,f,m,v){var B=3*s;return this.int16[B+0]=f,this.int16[B+1]=m,this.int16[B+2]=v,s},A}(Jr);SA.prototype.bytesPerElement=6,Ft("StructArrayLayout3i6",SA);var Su=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m){var v=this.length;return this.resize(v+1),this.emplace(v,s,f,m)},A.prototype.emplace=function(s,f,m,v){var B=4*s;return this.uint32[2*s+0]=f,this.uint16[B+2]=m,this.uint16[B+3]=v,s},A}(Jr);Su.prototype.bytesPerElement=8,Ft("StructArrayLayout1ul2ui8",Su);var vs=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f){var m=this.length;return this.resize(m+1),this.emplace(m,s,f)},A.prototype.emplace=function(s,f,m){var v=2*s;return this.uint16[v+0]=f,this.uint16[v+1]=m,s},A}(Jr);vs.prototype.bytesPerElement=4,Ft("StructArrayLayout2ui4",vs);var Tu=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s){var f=this.length;return this.resize(f+1),this.emplace(f,s)},A.prototype.emplace=function(s,f){return this.uint16[1*s+0]=f,s},A}(Jr);Tu.prototype.bytesPerElement=2,Ft("StructArrayLayout1ui2",Tu);var ll=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},A.prototype.emplaceBack=function(s,f,m,v){var B=this.length;return this.resize(B+1),this.emplace(B,s,f,m,v)},A.prototype.emplace=function(s,f,m,v,B){var U=4*s;return this.float32[U+0]=f,this.float32[U+1]=m,this.float32[U+2]=v,this.float32[U+3]=B,s},A}(Jr);ll.prototype.bytesPerElement=16,Ft("StructArrayLayout4f16",ll);var u=function(t){function A(){t.apply(this,arguments)}t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A;var s={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return s.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},s.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},s.x1.get=function(){return this._structArray.int16[this._pos2+2]},s.y1.get=function(){return this._structArray.int16[this._pos2+3]},s.x2.get=function(){return this._structArray.int16[this._pos2+4]},s.y2.get=function(){return this._structArray.int16[this._pos2+5]},s.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},s.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},s.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},s.anchorPoint.get=function(){return new Q(this.anchorPointX,this.anchorPointY)},Object.defineProperties(A.prototype,s),A}(ol);u.prototype.size=20;var h=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.get=function(s){return new u(this,s)},A}(Qu);Ft("CollisionBoxArray",h);var c=function(t){function A(){t.apply(this,arguments)}t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A;var s={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return s.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},s.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},s.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},s.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},s.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},s.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},s.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},s.segment.get=function(){return this._structArray.uint16[this._pos2+10]},s.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},s.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},s.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},s.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},s.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},s.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},s.placedOrientation.set=function(f){this._structArray.uint8[this._pos1+37]=f},s.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},s.hidden.set=function(f){this._structArray.uint8[this._pos1+38]=f},s.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},s.crossTileID.set=function(f){this._structArray.uint32[this._pos4+10]=f},s.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(A.prototype,s),A}(ol);c.prototype.size=48;var d=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.get=function(s){return new c(this,s)},A}(To);Ft("PlacedSymbolArray",d);var w=function(t){function A(){t.apply(this,arguments)}t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A;var s={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return s.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},s.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},s.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},s.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},s.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},s.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},s.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},s.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},s.key.get=function(){return this._structArray.uint16[this._pos2+8]},s.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},s.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},s.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},s.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},s.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},s.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},s.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},s.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},s.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},s.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},s.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},s.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},s.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},s.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},s.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},s.crossTileID.set=function(f){this._structArray.uint32[this._pos4+12]=f},s.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},s.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},s.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},s.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(A.prototype,s),A}(ol);w.prototype.size=68;var C=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.get=function(s){return new w(this,s)},A}(sl);Ft("SymbolInstanceArray",C);var E=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.getoffsetX=function(s){return this.float32[1*s+0]},A}(ko);Ft("GlyphOffsetArray",E);var S=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.getx=function(s){return this.int16[3*s+0]},A.prototype.gety=function(s){return this.int16[3*s+1]},A.prototype.gettileUnitDistanceFromAnchor=function(s){return this.int16[3*s+2]},A}(SA);Ft("SymbolLineVertexArray",S);var D=function(t){function A(){t.apply(this,arguments)}t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A;var s={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return s.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},s.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},s.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(A.prototype,s),A}(ol);D.prototype.size=8;var O=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.get=function(s){return new D(this,s)},A}(Su);Ft("FeatureIndexArray",O);var q=yn([{name:"a_pos",components:2,type:"Int16"}],4).members,W=function(t){t===void 0&&(t=[]),this.segments=t};function J(t,A){return 256*(t=$(Math.floor(t),0,255))+$(Math.floor(A),0,255)}W.prototype.prepareSegment=function(t,A,s,f){var m=this.segments[this.segments.length-1];return t>W.MAX_VERTEX_ARRAY_LENGTH&&Qe("Max vertices per segment is "+W.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!m||m.vertexLength+t>W.MAX_VERTEX_ARRAY_LENGTH||m.sortKey!==f)&&(m={vertexOffset:A.length,primitiveOffset:s.length,vertexLength:0,primitiveLength:0},f!==void 0&&(m.sortKey=f),this.segments.push(m)),m},W.prototype.get=function(){return this.segments},W.prototype.destroy=function(){for(var t=0,A=this.segments;t<A.length;t+=1){var s=A[t];for(var f in s.vaos)s.vaos[f].destroy()}},W.simpleSegment=function(t,A,s,f){return new W([{vertexOffset:t,primitiveOffset:A,vertexLength:s,primitiveLength:f,vaos:{},sortKey:0}])},W.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ft("SegmentVector",W);var ae=yn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Ae=_(function(t){t.exports=function(A,s){var f,m,v,B,U,T,L,P;for(m=A.length-(f=3&A.length),v=s,U=3432918353,T=461845907,P=0;P<m;)L=255&A.charCodeAt(P)|(255&A.charCodeAt(++P))<<8|(255&A.charCodeAt(++P))<<16|(255&A.charCodeAt(++P))<<24,++P,v=27492+(65535&(B=5*(65535&(v=(v^=L=(65535&(L=(L=(65535&L)*U+(((L>>>16)*U&65535)<<16)&4294967295)<<15|L>>>17))*T+(((L>>>16)*T&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(B>>>16)&65535)<<16);switch(L=0,f){case 3:L^=(255&A.charCodeAt(P+2))<<16;case 2:L^=(255&A.charCodeAt(P+1))<<8;case 1:v^=L=(65535&(L=(L=(65535&(L^=255&A.charCodeAt(P)))*U+(((L>>>16)*U&65535)<<16)&4294967295)<<15|L>>>17))*T+(((L>>>16)*T&65535)<<16)&4294967295}return v^=A.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}}),pe=_(function(t){t.exports=function(A,s){for(var f,m=A.length,v=s^m,B=0;m>=4;)f=1540483477*(65535&(f=255&A.charCodeAt(B)|(255&A.charCodeAt(++B))<<8|(255&A.charCodeAt(++B))<<16|(255&A.charCodeAt(++B))<<24))+((1540483477*(f>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),m-=4,++B;switch(m){case 3:v^=(255&A.charCodeAt(B+2))<<16;case 2:v^=(255&A.charCodeAt(B+1))<<8;case 1:v=1540483477*(65535&(v^=255&A.charCodeAt(B)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}}),te=Ae,he=pe;te.murmur3=Ae,te.murmur2=he;var _e=function(){this.ids=[],this.positions=[],this.indexed=!1};_e.prototype.add=function(t,A,s,f){this.ids.push(Oe(t)),this.positions.push(A,s,f)},_e.prototype.getPositions=function(t){for(var A=Oe(t),s=0,f=this.ids.length-1;s<f;){var m=s+f>>1;this.ids[m]>=A?f=m:s=m+1}for(var v=[];this.ids[s]===A;)v.push({index:this.positions[3*s],start:this.positions[3*s+1],end:this.positions[3*s+2]}),s++;return v},_e.serialize=function(t,A){var s=new Float64Array(t.ids),f=new Uint32Array(t.positions);return function m(v,B,U,T){for(;U<T;){for(var L=v[U+T>>1],P=U-1,z=T+1;;){do P++;while(v[P]<L);do z--;while(v[z]>L);if(P>=z)break;Me(v,P,z),Me(B,3*P,3*z),Me(B,3*P+1,3*z+1),Me(B,3*P+2,3*z+2)}z-U<T-z?(m(v,B,U,z),U=z+1):(m(v,B,z+1,T),T=z)}}(s,f,0,s.length-1),A&&A.push(s.buffer,f.buffer),{ids:s,positions:f}},_e.deserialize=function(t){var A=new _e;return A.ids=t.ids,A.positions=t.positions,A.indexed=!0,A};var Ue=Math.pow(2,53)-1;function Oe(t){var A=+t;return!isNaN(A)&&A<=Ue?A:te(String(t))}function Me(t,A,s){var f=t[A];t[A]=t[s],t[s]=f}Ft("FeaturePositionMap",_e);var Ke=function(t,A){this.gl=t.gl,this.location=A},et=function(t){function A(s,f){t.call(this,s,f),this.current=0}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.set=function(s){this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))},A}(Ke),ut=function(t){function A(s,f){t.call(this,s,f),this.current=0}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.set=function(s){this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))},A}(Ke),st=function(t){function A(s,f){t.call(this,s,f),this.current=[0,0]}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.set=function(s){s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1]))},A}(Ke),bt=function(t){function A(s,f){t.call(this,s,f),this.current=[0,0,0]}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.set=function(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2]))},A}(Ke),Pt=function(t){function A(s,f){t.call(this,s,f),this.current=[0,0,0,0]}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.set=function(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3]))},A}(Ke),Vt=function(t){function A(s,f){t.call(this,s,f),this.current=xr.transparent}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.set=function(s){s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a))},A}(Ke),Nt=new Float32Array(16),Pr=function(t){function A(s,f){t.call(this,s,f),this.current=Nt}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.set=function(s){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(var f=1;f<16;f++)if(s[f]!==this.current[f]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}},A}(Ke);function Ct(t){return[J(255*t.r,255*t.g),J(255*t.b,255*t.a)]}var er=function(t,A,s){this.value=t,this.uniformNames=A.map(function(f){return"u_"+f}),this.type=s};er.prototype.setUniform=function(t,A,s){t.set(s.constantOr(this.value))},er.prototype.getBinding=function(t,A,s){return this.type==="color"?new Vt(t,A):new ut(t,A)};var sr=function(t,A){this.uniformNames=A.map(function(s){return"u_"+s}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};sr.prototype.setConstantPatternPositions=function(t,A){this.pixelRatioFrom=A.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=A.tlbr,this.patternTo=t.tlbr},sr.prototype.setUniform=function(t,A,s,f){var m=f==="u_pattern_to"?this.patternTo:f==="u_pattern_from"?this.patternFrom:f==="u_pixel_ratio_to"?this.pixelRatioTo:f==="u_pixel_ratio_from"?this.pixelRatioFrom:null;m&&t.set(m)},sr.prototype.getBinding=function(t,A,s){return s.substr(0,9)==="u_pattern"?new Pt(t,A):new ut(t,A)};var Jt=function(t,A,s,f){this.expression=t,this.type=s,this.maxValue=0,this.paintVertexAttributes=A.map(function(m){return{name:"a_"+m,type:"Float32",components:s==="color"?2:1,offset:0}}),this.paintVertexArray=new f};Jt.prototype.populatePaintArray=function(t,A,s,f,m){var v=this.paintVertexArray.length,B=this.expression.evaluate(new _r(0),A,{},f,[],m);this.paintVertexArray.resize(t),this._setPaintValue(v,t,B)},Jt.prototype.updatePaintArray=function(t,A,s,f){var m=this.expression.evaluate({zoom:0},s,f);this._setPaintValue(t,A,m)},Jt.prototype._setPaintValue=function(t,A,s){if(this.type==="color")for(var f=Ct(s),m=t;m<A;m++)this.paintVertexArray.emplace(m,f[0],f[1]);else{for(var v=t;v<A;v++)this.paintVertexArray.emplace(v,s);this.maxValue=Math.max(this.maxValue,Math.abs(s))}},Jt.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Jt.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Wt=function(t,A,s,f,m,v){this.expression=t,this.uniformNames=A.map(function(B){return"u_"+B+"_t"}),this.type=s,this.useIntegerZoom=f,this.zoom=m,this.maxValue=0,this.paintVertexAttributes=A.map(function(B){return{name:"a_"+B,type:"Float32",components:s==="color"?4:2,offset:0}}),this.paintVertexArray=new v};Wt.prototype.populatePaintArray=function(t,A,s,f,m){var v=this.expression.evaluate(new _r(this.zoom),A,{},f,[],m),B=this.expression.evaluate(new _r(this.zoom+1),A,{},f,[],m),U=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(U,t,v,B)},Wt.prototype.updatePaintArray=function(t,A,s,f){var m=this.expression.evaluate({zoom:this.zoom},s,f),v=this.expression.evaluate({zoom:this.zoom+1},s,f);this._setPaintValue(t,A,m,v)},Wt.prototype._setPaintValue=function(t,A,s,f){if(this.type==="color")for(var m=Ct(s),v=Ct(f),B=t;B<A;B++)this.paintVertexArray.emplace(B,m[0],m[1],v[0],v[1]);else{for(var U=t;U<A;U++)this.paintVertexArray.emplace(U,s,f);this.maxValue=Math.max(this.maxValue,Math.abs(s),Math.abs(f))}},Wt.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Wt.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Wt.prototype.setUniform=function(t,A){var s=this.useIntegerZoom?Math.floor(A.zoom):A.zoom,f=$(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1);t.set(f)},Wt.prototype.getBinding=function(t,A,s){return new ut(t,A)};var ar=function(t,A,s,f,m,v){this.expression=t,this.type=A,this.useIntegerZoom=s,this.zoom=f,this.layerId=v,this.zoomInPaintVertexArray=new m,this.zoomOutPaintVertexArray=new m};ar.prototype.populatePaintArray=function(t,A,s){var f=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(f,t,A.patterns&&A.patterns[this.layerId],s)},ar.prototype.updatePaintArray=function(t,A,s,f,m){this._setPaintValues(t,A,s.patterns&&s.patterns[this.layerId],m)},ar.prototype._setPaintValues=function(t,A,s,f){if(f&&s){var m=f[s.min],v=f[s.mid],B=f[s.max];if(m&&v&&B)for(var U=t;U<A;U++)this.zoomInPaintVertexArray.emplace(U,v.tl[0],v.tl[1],v.br[0],v.br[1],m.tl[0],m.tl[1],m.br[0],m.br[1],v.pixelRatio,m.pixelRatio),this.zoomOutPaintVertexArray.emplace(U,v.tl[0],v.tl[1],v.br[0],v.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],v.pixelRatio,B.pixelRatio)}},ar.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,ae.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,ae.members,this.expression.isStateDependent))},ar.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var qt=function(t,A,s){this.binders={},this._buffers=[];var f=[];for(var m in t.paint._values)if(s(m)){var v=t.paint.get(m);if(v instanceof jn&&Aa(v.property.specification)){var B=sn(m,t.type),U=v.value,T=v.property.specification.type,L=v.property.useIntegerZoom,P=v.property.specification["property-type"],z=P==="cross-faded"||P==="cross-faded-data-driven";if(U.kind==="constant")this.binders[m]=z?new sr(U.value,B):new er(U.value,B,T),f.push("/u_"+m);else if(U.kind==="source"||z){var G=Hi(m,T,"source");this.binders[m]=z?new ar(U,T,L,A,G,t.id):new Jt(U,B,T,G),f.push("/a_"+m)}else{var Z=Hi(m,T,"composite");this.binders[m]=new Wt(U,B,T,L,A,Z),f.push("/z_"+m)}}}this.cacheKey=f.sort().join("")};qt.prototype.getMaxValue=function(t){var A=this.binders[t];return A instanceof Jt||A instanceof Wt?A.maxValue:0},qt.prototype.populatePaintArrays=function(t,A,s,f,m){for(var v in this.binders){var B=this.binders[v];(B instanceof Jt||B instanceof Wt||B instanceof ar)&&B.populatePaintArray(t,A,s,f,m)}},qt.prototype.setConstantPatternPositions=function(t,A){for(var s in this.binders){var f=this.binders[s];f instanceof sr&&f.setConstantPatternPositions(t,A)}},qt.prototype.updatePaintArrays=function(t,A,s,f,m){var v=!1;for(var B in t)for(var U=0,T=A.getPositions(B);U<T.length;U+=1){var L=T[U],P=s.feature(L.index);for(var z in this.binders){var G=this.binders[z];if((G instanceof Jt||G instanceof Wt||G instanceof ar)&&G.expression.isStateDependent===!0){var Z=f.paint.get(z);G.expression=Z.value,G.updatePaintArray(L.start,L.end,P,t[B],m),v=!0}}}return v},qt.prototype.defines=function(){var t=[];for(var A in this.binders){var s=this.binders[A];(s instanceof er||s instanceof sr)&&t.push.apply(t,s.uniformNames.map(function(f){return"#define HAS_UNIFORM_"+f}))}return t},qt.prototype.getBinderAttributes=function(){var t=[];for(var A in this.binders){var s=this.binders[A];if(s instanceof Jt||s instanceof Wt)for(var f=0;f<s.paintVertexAttributes.length;f++)t.push(s.paintVertexAttributes[f].name);else if(s instanceof ar)for(var m=0;m<ae.members.length;m++)t.push(ae.members[m].name)}return t},qt.prototype.getBinderUniforms=function(){var t=[];for(var A in this.binders){var s=this.binders[A];if(s instanceof er||s instanceof sr||s instanceof Wt)for(var f=0,m=s.uniformNames;f<m.length;f+=1)t.push(m[f])}return t},qt.prototype.getPaintVertexBuffers=function(){return this._buffers},qt.prototype.getUniforms=function(t,A){var s=[];for(var f in this.binders){var m=this.binders[f];if(m instanceof er||m instanceof sr||m instanceof Wt)for(var v=0,B=m.uniformNames;v<B.length;v+=1){var U=B[v];if(A[U]){var T=m.getBinding(t,A[U],U);s.push({name:U,property:f,binding:T})}}}return s},qt.prototype.setUniforms=function(t,A,s,f){for(var m=0,v=A;m<v.length;m+=1){var B=v[m],U=B.name,T=B.property;this.binders[T].setUniform(B.binding,f,s.get(T),U)}},qt.prototype.updatePaintBuffers=function(t){for(var A in this._buffers=[],this.binders){var s=this.binders[A];if(t&&s instanceof ar){var f=t.fromScale===2?s.zoomInPaintVertexBuffer:s.zoomOutPaintVertexBuffer;f&&this._buffers.push(f)}else(s instanceof Jt||s instanceof Wt)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}},qt.prototype.upload=function(t){for(var A in this.binders){var s=this.binders[A];(s instanceof Jt||s instanceof Wt||s instanceof ar)&&s.upload(t)}this.updatePaintBuffers()},qt.prototype.destroy=function(){for(var t in this.binders){var A=this.binders[t];(A instanceof Jt||A instanceof Wt||A instanceof ar)&&A.destroy()}};var Xt=function(t,A,s){s===void 0&&(s=function(){return!0}),this.programConfigurations={};for(var f=0,m=t;f<m.length;f+=1){var v=m[f];this.programConfigurations[v.id]=new qt(v,A,s)}this.needsUpload=!1,this._featureMap=new _e,this._bufferOffset=0};function sn(t,A){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(A+"-","").replace(/-/g,"_")]}function Hi(t,A,s){var f={color:{source:Ma,composite:ll},number:{source:ko,composite:Ma}},m=function(v){return{"line-pattern":{source:ro,composite:ro},"fill-pattern":{source:ro,composite:ro},"fill-extrusion-pattern":{source:ro,composite:ro}}[v]}(t);return m&&m[s]||f[A][s]}Xt.prototype.populatePaintArrays=function(t,A,s,f,m,v){for(var B in this.programConfigurations)this.programConfigurations[B].populatePaintArrays(t,A,f,m,v);A.id!==void 0&&this._featureMap.add(A.id,s,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Xt.prototype.updatePaintArrays=function(t,A,s,f){for(var m=0,v=s;m<v.length;m+=1){var B=v[m];this.needsUpload=this.programConfigurations[B.id].updatePaintArrays(t,this._featureMap,A,B,f)||this.needsUpload}},Xt.prototype.get=function(t){return this.programConfigurations[t]},Xt.prototype.upload=function(t){if(this.needsUpload){for(var A in this.programConfigurations)this.programConfigurations[A].upload(t);this.needsUpload=!1}},Xt.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Ft("ConstantBinder",er),Ft("CrossFadedConstantBinder",sr),Ft("SourceExpressionBinder",Jt),Ft("CrossFadedCompositeBinder",ar),Ft("CompositeExpressionBinder",Wt),Ft("ProgramConfiguration",qt,{omit:["_buffers"]}),Ft("ProgramConfigurationSet",Xt);var Kn=Math.pow(2,14)-1,_n=-Kn-1;function ki(t){for(var A=8192/t.extent,s=t.loadGeometry(),f=0;f<s.length;f++)for(var m=s[f],v=0;v<m.length;v++){var B=m[v],U=Math.round(B.x*A),T=Math.round(B.y*A);B.x=$(U,_n,Kn),B.y=$(T,_n,Kn),(U<B.x||U>B.x+1||T<B.y||T>B.y+1)&&Qe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return s}function Ki(t,A){return{type:t.type,id:t.id,properties:t.properties,geometry:A?ki(t):[]}}function pA(t,A,s,f,m){t.emplaceBack(2*A+(f+1)/2,2*s+(m+1)/2)}var qn=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(A){return A.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ua,this.indexArray=new So,this.segments=new W,this.programConfigurations=new Xt(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(A){return A.isStateDependent()}).map(function(A){return A.id})};function Lo(t,A){for(var s=0;s<t.length;s++)if(io(A,t[s]))return!0;for(var f=0;f<A.length;f++)if(io(t,A[f]))return!0;return!!ws(t,A)}function eA(t,A,s){return!!io(t,A)||!!Mo(A,t,s)}function VA(t,A){if(t.length===1)return Bs(A,t[0]);for(var s=0;s<A.length;s++)for(var f=A[s],m=0;m<f.length;m++)if(io(t,f[m]))return!0;for(var v=0;v<t.length;v++)if(Bs(A,t[v]))return!0;for(var B=0;B<A.length;B++)if(ws(t,A[B]))return!0;return!1}function TA(t,A,s){if(t.length>1){if(ws(t,A))return!0;for(var f=0;f<A.length;f++)if(Mo(A[f],t,s))return!0}for(var m=0;m<t.length;m++)if(Mo(t[m],A,s))return!0;return!1}function ws(t,A){if(t.length===0||A.length===0)return!1;for(var s=0;s<t.length-1;s++)for(var f=t[s],m=t[s+1],v=0;v<A.length-1;v++)if(Ha(f,m,A[v],A[v+1]))return!0;return!1}function Ha(t,A,s,f){return Ze(t,s,f)!==Ze(A,s,f)&&Ze(t,A,s)!==Ze(t,A,f)}function Mo(t,A,s){var f=s*s;if(A.length===1)return t.distSqr(A[0])<f;for(var m=1;m<A.length;m++)if(za(t,A[m-1],A[m])<f)return!0;return!1}function za(t,A,s){var f=A.distSqr(s);if(f===0)return t.distSqr(A);var m=((t.x-A.x)*(s.x-A.x)+(t.y-A.y)*(s.y-A.y))/f;return t.distSqr(m<0?A:m>1?s:s.sub(A)._mult(m)._add(A))}function Bs(t,A){for(var s,f,m,v=!1,B=0;B<t.length;B++)for(var U=0,T=(s=t[B]).length-1;U<s.length;T=U++)(f=s[U]).y>A.y!=(m=s[T]).y>A.y&&A.x<(m.x-f.x)*(A.y-f.y)/(m.y-f.y)+f.x&&(v=!v);return v}function io(t,A){for(var s=!1,f=0,m=t.length-1;f<t.length;m=f++){var v=t[f],B=t[m];v.y>A.y!=B.y>A.y&&A.x<(B.x-v.x)*(A.y-v.y)/(B.y-v.y)+v.x&&(s=!s)}return s}function bs(t,A,s){var f=s[0],m=s[2];if(t.x<f.x&&A.x<f.x||t.x>m.x&&A.x>m.x||t.y<f.y&&A.y<f.y||t.y>m.y&&A.y>m.y)return!1;var v=Ze(t,A,s[0]);return v!==Ze(t,A,s[1])||v!==Ze(t,A,s[2])||v!==Ze(t,A,s[3])}function no(t,A,s){var f=A.paint.get(t).value;return f.kind==="constant"?f.value:s.programConfigurations.get(A.id).getMaxValue(t)}function ln(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function po(t,A,s,f,m){if(!A[0]&&!A[1])return t;var v=Q.convert(A)._mult(m);s==="viewport"&&v._rotate(-f);for(var B=[],U=0;U<t.length;U++)B.push(t[U].sub(v));return B}qn.prototype.populate=function(t,A,s){var f=this.layers[0],m=[],v=null;f.type==="circle"&&(v=f.layout.get("circle-sort-key"));for(var B=0,U=t;B<U.length;B+=1){var T=U[B],L=T.feature,P=T.id,z=T.index,G=T.sourceLayerIndex,Z=this.layers[0]._featureFilter.needGeometry,re=Ki(L,Z);if(this.layers[0]._featureFilter.filter(new _r(this.zoom),re,s)){var ne=v?v.evaluate(re,{},s):void 0,de={id:P,properties:L.properties,type:L.type,sourceLayerIndex:G,index:z,geometry:Z?re.geometry:ki(L),patterns:{},sortKey:ne};m.push(de)}}v&&m.sort(function(ft,kt){return ft.sortKey-kt.sortKey});for(var ue=0,be=m;ue<be.length;ue+=1){var Ie=be[ue],ke=Ie.geometry,He=Ie.index,qe=Ie.sourceLayerIndex,nt=t[He].feature;this.addFeature(Ie,ke,He,s),A.featureIndex.insert(nt,ke,He,qe,this.index)}},qn.prototype.update=function(t,A,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,A,this.stateDependentLayers,s)},qn.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},qn.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},qn.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,q),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},qn.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},qn.prototype.addFeature=function(t,A,s,f){for(var m=0,v=A;m<v.length;m+=1)for(var B=0,U=v[m];B<U.length;B+=1){var T=U[B],L=T.x,P=T.y;if(!(L<0||L>=8192||P<0||P>=8192)){var z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),G=z.vertexLength;pA(this.layoutVertexArray,L,P,-1,-1),pA(this.layoutVertexArray,L,P,1,-1),pA(this.layoutVertexArray,L,P,1,1),pA(this.layoutVertexArray,L,P,-1,1),this.indexArray.emplaceBack(G,G+1,G+2),this.indexArray.emplaceBack(G,G+3,G+2),z.vertexLength+=4,z.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,{},f)},Ft("CircleBucket",qn,{omit:["layers"]});var Do=new Mn({"circle-sort-key":new Ut(X.layout_circle["circle-sort-key"])}),ha={paint:new Mn({"circle-radius":new Ut(X.paint_circle["circle-radius"]),"circle-color":new Ut(X.paint_circle["circle-color"]),"circle-blur":new Ut(X.paint_circle["circle-blur"]),"circle-opacity":new Ut(X.paint_circle["circle-opacity"]),"circle-translate":new Dt(X.paint_circle["circle-translate"]),"circle-translate-anchor":new Dt(X.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Dt(X.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Dt(X.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ut(X.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ut(X.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ut(X.paint_circle["circle-stroke-opacity"])}),layout:Do},Xr=typeof Float32Array!="undefined"?Float32Array:Array;function bA(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function tA(t,A,s){var f=A[0],m=A[1],v=A[2],B=A[3],U=A[4],T=A[5],L=A[6],P=A[7],z=A[8],G=A[9],Z=A[10],re=A[11],ne=A[12],de=A[13],ue=A[14],be=A[15],Ie=s[0],ke=s[1],He=s[2],qe=s[3];return t[0]=Ie*f+ke*U+He*z+qe*ne,t[1]=Ie*m+ke*T+He*G+qe*de,t[2]=Ie*v+ke*L+He*Z+qe*ue,t[3]=Ie*B+ke*P+He*re+qe*be,t[4]=(Ie=s[4])*f+(ke=s[5])*U+(He=s[6])*z+(qe=s[7])*ne,t[5]=Ie*m+ke*T+He*G+qe*de,t[6]=Ie*v+ke*L+He*Z+qe*ue,t[7]=Ie*B+ke*P+He*re+qe*be,t[8]=(Ie=s[8])*f+(ke=s[9])*U+(He=s[10])*z+(qe=s[11])*ne,t[9]=Ie*m+ke*T+He*G+qe*de,t[10]=Ie*v+ke*L+He*Z+qe*ue,t[11]=Ie*B+ke*P+He*re+qe*be,t[12]=(Ie=s[12])*f+(ke=s[13])*U+(He=s[14])*z+(qe=s[15])*ne,t[13]=Ie*m+ke*T+He*G+qe*de,t[14]=Ie*v+ke*L+He*Z+qe*ue,t[15]=Ie*B+ke*P+He*re+qe*be,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,A=0,s=arguments.length;s--;)A+=t[s]*t[s];return Math.sqrt(A)});var fa,Sp=tA;function ul(t,A,s){var f=A[0],m=A[1],v=A[2],B=A[3];return t[0]=s[0]*f+s[4]*m+s[8]*v+s[12]*B,t[1]=s[1]*f+s[5]*m+s[9]*v+s[13]*B,t[2]=s[2]*f+s[6]*m+s[10]*v+s[14]*B,t[3]=s[3]*f+s[7]*m+s[11]*v+s[15]*B,t}fa=new Xr(3),Xr!=Float32Array&&(fa[0]=0,fa[1]=0,fa[2]=0),function(){var t=new Xr(4);Xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var Tp=(function(){var t=new Xr(2);Xr!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function A(s){t.call(this,s,ha)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.createBucket=function(s){return new qn(s)},A.prototype.queryRadius=function(s){var f=s;return no("circle-radius",this,f)+no("circle-stroke-width",this,f)+ln(this.paint.get("circle-translate"))},A.prototype.queryIntersectsFeature=function(s,f,m,v,B,U,T,L){for(var P=po(s,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),U.angle,T),z=this.paint.get("circle-radius").evaluate(f,m)+this.paint.get("circle-stroke-width").evaluate(f,m),G=this.paint.get("circle-pitch-alignment")==="map",Z=G?P:function(nt,ft){return nt.map(function(kt){return xs(kt,ft)})}(P,L),re=G?z*T:z,ne=0,de=v;ne<de.length;ne+=1)for(var ue=0,be=de[ne];ue<be.length;ue+=1){var Ie=be[ue],ke=G?Ie:xs(Ie,L),He=re,qe=ul([],[Ie.x,Ie.y,0,1],L);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?He*=qe[3]/U.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(He*=U.cameraToCenterDistance/qe[3]),eA(Z,ke,He))return!0}return!1},A}(to));function xs(t,A){var s=ul([],[t.x,t.y,0,1],A);return new Q(s[0]/s[3],s[1]/s[3])}var wh=function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A}(qn);function Ra(t,A,s,f){var m=A.width,v=A.height;if(f){if(f instanceof Uint8ClampedArray)f=new Uint8Array(f.buffer);else if(f.length!==m*v*s)throw new RangeError("mismatched image size")}else f=new Uint8Array(m*v*s);return t.width=m,t.height=v,t.data=f,t}function cl(t,A,s){var f=A.width,m=A.height;if(f!==t.width||m!==t.height){var v=Ra({},{width:f,height:m},s);kp(t,v,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,f),height:Math.min(t.height,m)},s),t.width=f,t.height=m,t.data=v.data}}function kp(t,A,s,f,m,v){if(m.width===0||m.height===0)return A;if(m.width>t.width||m.height>t.height||s.x>t.width-m.width||s.y>t.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>A.width||m.height>A.height||f.x>A.width-m.width||f.y>A.height-m.height)throw new RangeError("out of range destination coordinates for image copy");for(var B=t.data,U=A.data,T=0;T<m.height;T++)for(var L=((s.y+T)*t.width+s.x)*v,P=((f.y+T)*A.width+f.x)*v,z=0;z<m.width*v;z++)U[P+z]=B[L+z];return A}Ft("HeatmapBucket",wh,{omit:["layers"]});var Cs=function(t,A){Ra(this,t,1,A)};Cs.prototype.resize=function(t){cl(this,t,1)},Cs.prototype.clone=function(){return new Cs({width:this.width,height:this.height},new Uint8Array(this.data))},Cs.copy=function(t,A,s,f,m){kp(t,A,s,f,m,1)};var dA=function(t,A){Ra(this,t,4,A)};dA.prototype.resize=function(t){cl(this,t,4)},dA.prototype.replace=function(t,A){A?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},dA.prototype.clone=function(){return new dA({width:this.width,height:this.height},new Uint8Array(this.data))},dA.copy=function(t,A,s,f,m){kp(t,A,s,f,m,4)},Ft("AlphaImage",Cs),Ft("RGBAImage",dA);var Yw={paint:new Mn({"heatmap-radius":new Ut(X.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ut(X.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Dt(X.paint_heatmap["heatmap-intensity"]),"heatmap-color":new NA(X.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Dt(X.paint_heatmap["heatmap-opacity"])})};function om(t){var A={},s=t.resolution||256,f=t.clips?t.clips.length:1,m=t.image||new dA({width:s,height:f}),v=function(re,ne,de){A[t.evaluationKey]=de;var ue=t.expression.evaluate(A);m.data[re+ne+0]=Math.floor(255*ue.r/ue.a),m.data[re+ne+1]=Math.floor(255*ue.g/ue.a),m.data[re+ne+2]=Math.floor(255*ue.b/ue.a),m.data[re+ne+3]=Math.floor(255*ue.a)};if(t.clips)for(var B=0,U=0;B<f;++B,U+=4*s)for(var T=0,L=0;T<s;T++,L+=4){var P=T/(s-1),z=t.clips[B];v(U,L,z.start*(1-P)+z.end*P)}else for(var G=0,Z=0;G<s;G++,Z+=4)v(0,Z,G/(s-1));return m}var $w=function(t){function A(s){t.call(this,s,Yw),this._updateColorRamp()}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.createBucket=function(s){return new wh(s)},A.prototype._handleSpecialPaintPropertyUpdate=function(s){s==="heatmap-color"&&this._updateColorRamp()},A.prototype._updateColorRamp=function(){this.colorRamp=om({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},A.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},A.prototype.queryRadius=function(){return 0},A.prototype.queryIntersectsFeature=function(){return!1},A.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},A}(to),eB={paint:new Mn({"hillshade-illumination-direction":new Dt(X.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Dt(X.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Dt(X.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Dt(X.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Dt(X.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Dt(X.paint_hillshade["hillshade-accent-color"])})},tB=function(t){function A(s){t.call(this,s,eB)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},A}(to),rB=yn([{name:"a_pos",components:2,type:"Int16"}],4).members,Lp=Bh,iB=Bh;function Bh(t,A,s){s=s||2;var f,m,v,B,U,T,L,P=A&&A.length,z=P?A[0]*s:t.length,G=am(t,0,z,s,!0),Z=[];if(!G||G.next===G.prev)return Z;if(P&&(G=function(ne,de,ue,be){var Ie,ke,He,qe=[];for(Ie=0,ke=de.length;Ie<ke;Ie++)(He=am(ne,de[Ie]*be,Ie<ke-1?de[Ie+1]*be:ne.length,be,!1))===He.next&&(He.steiner=!0),qe.push(cB(He));for(qe.sort(sB),Ie=0;Ie<qe.length;Ie++)lB(qe[Ie],ue),ue=Oa(ue,ue.next);return ue}(t,A,G,s)),t.length>80*s){f=v=t[0],m=B=t[1];for(var re=s;re<z;re+=s)(U=t[re])<f&&(f=U),(T=t[re+1])<m&&(m=T),U>v&&(v=U),T>B&&(B=T);L=(L=Math.max(v-f,B-m))!==0?1/L:0}return ku(G,Z,s,f,m,L),Z}function am(t,A,s,f,m){var v,B;if(m===Pp(t,A,s,f)>0)for(v=A;v<s;v+=f)B=um(v,t[v],t[v+1],B);else for(v=s-f;v>=A;v-=f)B=um(v,t[v],t[v+1],B);return B&&bh(B,B.next)&&(Mu(B),B=B.next),B}function Oa(t,A){if(!t)return t;A||(A=t);var s,f=t;do if(s=!1,f.steiner||!bh(f,f.next)&&tn(f.prev,f,f.next)!==0)f=f.next;else{if(Mu(f),(f=A=f.prev)===f.next)break;s=!0}while(s||f!==A);return A}function ku(t,A,s,f,m,v,B){if(t){!B&&v&&function(P,z,G,Z){var re=P;do re.z===null&&(re.z=Mp(re.x,re.y,z,G,Z)),re.prevZ=re.prev,re.nextZ=re.next,re=re.next;while(re!==P);re.prevZ.nextZ=null,re.prevZ=null,function(ne){var de,ue,be,Ie,ke,He,qe,nt,ft=1;do{for(ue=ne,ne=null,ke=null,He=0;ue;){for(He++,be=ue,qe=0,de=0;de<ft&&(qe++,be=be.nextZ);de++);for(nt=ft;qe>0||nt>0&&be;)qe!==0&&(nt===0||!be||ue.z<=be.z)?(Ie=ue,ue=ue.nextZ,qe--):(Ie=be,be=be.nextZ,nt--),ke?ke.nextZ=Ie:ne=Ie,Ie.prevZ=ke,ke=Ie;ue=be}ke.nextZ=null,ft*=2}while(He>1)}(re)}(t,f,m,v);for(var U,T,L=t;t.prev!==t.next;)if(U=t.prev,T=t.next,v?AB(t,f,m,v):nB(t))A.push(U.i/s),A.push(t.i/s),A.push(T.i/s),Mu(t),t=T.next,L=T.next;else if((t=T)===L){B?B===1?ku(t=oB(Oa(t),A,s),A,s,f,m,v,2):B===2&&aB(t,A,s,f,m,v):ku(Oa(t),A,s,f,m,v,1);break}}}function nB(t){var A=t.prev,s=t,f=t.next;if(tn(A,s,f)>=0)return!1;for(var m=t.next.next;m!==t.prev;){if(hl(A.x,A.y,s.x,s.y,f.x,f.y,m.x,m.y)&&tn(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function AB(t,A,s,f){var m=t.prev,v=t,B=t.next;if(tn(m,v,B)>=0)return!1;for(var U=m.x>v.x?m.x>B.x?m.x:B.x:v.x>B.x?v.x:B.x,T=m.y>v.y?m.y>B.y?m.y:B.y:v.y>B.y?v.y:B.y,L=Mp(m.x<v.x?m.x<B.x?m.x:B.x:v.x<B.x?v.x:B.x,m.y<v.y?m.y<B.y?m.y:B.y:v.y<B.y?v.y:B.y,A,s,f),P=Mp(U,T,A,s,f),z=t.prevZ,G=t.nextZ;z&&z.z>=L&&G&&G.z<=P;){if(z!==t.prev&&z!==t.next&&hl(m.x,m.y,v.x,v.y,B.x,B.y,z.x,z.y)&&tn(z.prev,z,z.next)>=0||(z=z.prevZ,G!==t.prev&&G!==t.next&&hl(m.x,m.y,v.x,v.y,B.x,B.y,G.x,G.y)&&tn(G.prev,G,G.next)>=0))return!1;G=G.nextZ}for(;z&&z.z>=L;){if(z!==t.prev&&z!==t.next&&hl(m.x,m.y,v.x,v.y,B.x,B.y,z.x,z.y)&&tn(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;G&&G.z<=P;){if(G!==t.prev&&G!==t.next&&hl(m.x,m.y,v.x,v.y,B.x,B.y,G.x,G.y)&&tn(G.prev,G,G.next)>=0)return!1;G=G.nextZ}return!0}function oB(t,A,s){var f=t;do{var m=f.prev,v=f.next.next;!bh(m,v)&&sm(m,f,f.next,v)&&Lu(m,v)&&Lu(v,m)&&(A.push(m.i/s),A.push(f.i/s),A.push(v.i/s),Mu(f),Mu(f.next),f=t=v),f=f.next}while(f!==t);return Oa(f)}function aB(t,A,s,f,m,v){var B=t;do{for(var U=B.next.next;U!==B.prev;){if(B.i!==U.i&&hB(B,U)){var T=lm(B,U);return B=Oa(B,B.next),T=Oa(T,T.next),ku(B,A,s,f,m,v),void ku(T,A,s,f,m,v)}U=U.next}B=B.next}while(B!==t)}function sB(t,A){return t.x-A.x}function lB(t,A){if(A=function(f,m){var v,B=m,U=f.x,T=f.y,L=-1/0;do{if(T<=B.y&&T>=B.next.y&&B.next.y!==B.y){var P=B.x+(T-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(P<=U&&P>L){if(L=P,P===U){if(T===B.y)return B;if(T===B.next.y)return B.next}v=B.x<B.next.x?B:B.next}}B=B.next}while(B!==m);if(!v)return null;if(U===L)return v;var z,G=v,Z=v.x,re=v.y,ne=1/0;B=v;do U>=B.x&&B.x>=Z&&U!==B.x&&hl(T<re?U:L,T,Z,re,T<re?L:U,T,B.x,B.y)&&(z=Math.abs(T-B.y)/(U-B.x),Lu(B,f)&&(z<ne||z===ne&&(B.x>v.x||B.x===v.x&&uB(v,B)))&&(v=B,ne=z)),B=B.next;while(B!==G);return v}(t,A)){var s=lm(A,t);Oa(A,A.next),Oa(s,s.next)}}function uB(t,A){return tn(t.prev,t,A.prev)<0&&tn(A.next,t,t.next)<0}function Mp(t,A,s,f,m){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-s)*m)|t<<8))|t<<4))|t<<2))|t<<1))|(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-f)*m)|A<<8))|A<<4))|A<<2))|A<<1))<<1}function cB(t){var A=t,s=t;do(A.x<s.x||A.x===s.x&&A.y<s.y)&&(s=A),A=A.next;while(A!==t);return s}function hl(t,A,s,f,m,v,B,U){return(m-B)*(A-U)-(t-B)*(v-U)>=0&&(t-B)*(f-U)-(s-B)*(A-U)>=0&&(s-B)*(v-U)-(m-B)*(f-U)>=0}function hB(t,A){return t.next.i!==A.i&&t.prev.i!==A.i&&!function(s,f){var m=s;do{if(m.i!==s.i&&m.next.i!==s.i&&m.i!==f.i&&m.next.i!==f.i&&sm(m,m.next,s,f))return!0;m=m.next}while(m!==s);return!1}(t,A)&&(Lu(t,A)&&Lu(A,t)&&function(s,f){var m=s,v=!1,B=(s.x+f.x)/2,U=(s.y+f.y)/2;do m.y>U!=m.next.y>U&&m.next.y!==m.y&&B<(m.next.x-m.x)*(U-m.y)/(m.next.y-m.y)+m.x&&(v=!v),m=m.next;while(m!==s);return v}(t,A)&&(tn(t.prev,t,A.prev)||tn(t,A.prev,A))||bh(t,A)&&tn(t.prev,t,t.next)>0&&tn(A.prev,A,A.next)>0)}function tn(t,A,s){return(A.y-t.y)*(s.x-A.x)-(A.x-t.x)*(s.y-A.y)}function bh(t,A){return t.x===A.x&&t.y===A.y}function sm(t,A,s,f){var m=Ch(tn(t,A,s)),v=Ch(tn(t,A,f)),B=Ch(tn(s,f,t)),U=Ch(tn(s,f,A));return m!==v&&B!==U||!(m!==0||!xh(t,s,A))||!(v!==0||!xh(t,f,A))||!(B!==0||!xh(s,t,f))||!(U!==0||!xh(s,A,f))}function xh(t,A,s){return A.x<=Math.max(t.x,s.x)&&A.x>=Math.min(t.x,s.x)&&A.y<=Math.max(t.y,s.y)&&A.y>=Math.min(t.y,s.y)}function Ch(t){return t>0?1:t<0?-1:0}function Lu(t,A){return tn(t.prev,t,t.next)<0?tn(t,A,t.next)>=0&&tn(t,t.prev,A)>=0:tn(t,A,t.prev)<0||tn(t,t.next,A)<0}function lm(t,A){var s=new Dp(t.i,t.x,t.y),f=new Dp(A.i,A.x,A.y),m=t.next,v=A.prev;return t.next=A,A.prev=t,s.next=m,m.prev=s,f.next=s,s.prev=f,v.next=f,f.prev=v,f}function um(t,A,s,f){var m=new Dp(t,A,s);return f?(m.next=f.next,m.prev=f,f.next.prev=m,f.next=m):(m.prev=m,m.next=m),m}function Mu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Dp(t,A,s){this.i=t,this.x=A,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pp(t,A,s,f){for(var m=0,v=A,B=s-f;v<s;v+=f)m+=(t[B]-t[v])*(t[v+1]+t[B+1]),B=v;return m}function fB(t,A,s,f,m){(function v(B,U,T,L,P){for(;L>T;){if(L-T>600){var z=L-T+1,G=U-T+1,Z=Math.log(z),re=.5*Math.exp(2*Z/3),ne=.5*Math.sqrt(Z*re*(z-re)/z)*(G-z/2<0?-1:1);v(B,U,Math.max(T,Math.floor(U-G*re/z+ne)),Math.min(L,Math.floor(U+(z-G)*re/z+ne)),P)}var de=B[U],ue=T,be=L;for(Du(B,T,U),P(B[L],de)>0&&Du(B,T,L);ue<be;){for(Du(B,ue,be),ue++,be--;P(B[ue],de)<0;)ue++;for(;P(B[be],de)>0;)be--}P(B[T],de)===0?Du(B,T,be):Du(B,++be,L),be<=U&&(T=be+1),U<=be&&(L=be-1)}})(t,A,s||0,f||t.length-1,m||pB)}function Du(t,A,s){var f=t[A];t[A]=t[s],t[s]=f}function pB(t,A){return t<A?-1:t>A?1:0}function Hp(t,A){var s=t.length;if(s<=1)return[t];for(var f,m,v=[],B=0;B<s;B++){var U=Ne(t[B]);U!==0&&(t[B].area=Math.abs(U),m===void 0&&(m=U<0),m===U<0?(f&&v.push(f),f=[t[B]]):f.push(t[B]))}if(f&&v.push(f),A>1)for(var T=0;T<v.length;T++)v[T].length<=A||(fB(v[T],A,1,v[T].length-1,dB),v[T]=v[T].slice(0,A));return v}function dB(t,A){return A.area-t.area}function zp(t,A,s){for(var f=s.patternDependencies,m=!1,v=0,B=A;v<B.length;v+=1){var U=B[v].paint.get(t+"-pattern");U.isConstant()||(m=!0);var T=U.constantOr(null);T&&(m=!0,f[T.to]=!0,f[T.from]=!0)}return m}function Rp(t,A,s,f,m){for(var v=m.patternDependencies,B=0,U=A;B<U.length;B+=1){var T=U[B],L=T.paint.get(t+"-pattern").value;if(L.kind!=="constant"){var P=L.evaluate({zoom:f-1},s,{},m.availableImages),z=L.evaluate({zoom:f},s,{},m.availableImages),G=L.evaluate({zoom:f+1},s,{},m.availableImages);z=z&&z.name?z.name:z,G=G&&G.name?G.name:G,v[P=P&&P.name?P.name:P]=!0,v[z]=!0,v[G]=!0,s.patterns[T.id]={min:P,mid:z,max:G}}}return s}Bh.deviation=function(t,A,s,f){var m=A&&A.length,v=Math.abs(Pp(t,0,m?A[0]*s:t.length,s));if(m)for(var B=0,U=A.length;B<U;B++)v-=Math.abs(Pp(t,A[B]*s,B<U-1?A[B+1]*s:t.length,s));var T=0;for(B=0;B<f.length;B+=3){var L=f[B]*s,P=f[B+1]*s,z=f[B+2]*s;T+=Math.abs((t[L]-t[z])*(t[P+1]-t[L+1])-(t[L]-t[P])*(t[z+1]-t[L+1]))}return v===0&&T===0?0:Math.abs((T-v)/v)},Bh.flatten=function(t){for(var A=t[0][0].length,s={vertices:[],holes:[],dimensions:A},f=0,m=0;m<t.length;m++){for(var v=0;v<t[m].length;v++)for(var B=0;B<A;B++)s.vertices.push(t[m][v][B]);m>0&&s.holes.push(f+=t[m-1].length)}return s},Lp.default=iB;var go=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(A){return A.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ua,this.indexArray=new So,this.indexArray2=new vs,this.programConfigurations=new Xt(t.layers,t.zoom),this.segments=new W,this.segments2=new W,this.stateDependentLayerIds=this.layers.filter(function(A){return A.isStateDependent()}).map(function(A){return A.id})};go.prototype.populate=function(t,A,s){this.hasPattern=zp("fill",this.layers,A);for(var f=this.layers[0].layout.get("fill-sort-key"),m=[],v=0,B=t;v<B.length;v+=1){var U=B[v],T=U.feature,L=U.id,P=U.index,z=U.sourceLayerIndex,G=this.layers[0]._featureFilter.needGeometry,Z=Ki(T,G);if(this.layers[0]._featureFilter.filter(new _r(this.zoom),Z,s)){var re=f?f.evaluate(Z,{},s,A.availableImages):void 0,ne={id:L,properties:T.properties,type:T.type,sourceLayerIndex:z,index:P,geometry:G?Z.geometry:ki(T),patterns:{},sortKey:re};m.push(ne)}}f&&m.sort(function(nt,ft){return nt.sortKey-ft.sortKey});for(var de=0,ue=m;de<ue.length;de+=1){var be=ue[de],Ie=be.geometry,ke=be.index,He=be.sourceLayerIndex;if(this.hasPattern){var qe=Rp("fill",this.layers,be,this.zoom,A);this.patternFeatures.push(qe)}else this.addFeature(be,Ie,ke,s,{});A.featureIndex.insert(t[ke].feature,Ie,ke,He,this.index)}},go.prototype.update=function(t,A,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,A,this.stateDependentLayers,s)},go.prototype.addFeatures=function(t,A,s){for(var f=0,m=this.patternFeatures;f<m.length;f+=1){var v=m[f];this.addFeature(v,v.geometry,v.index,A,s)}},go.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},go.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},go.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,rB),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},go.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},go.prototype.addFeature=function(t,A,s,f,m){for(var v=0,B=Hp(A,500);v<B.length;v+=1){for(var U=B[v],T=0,L=0,P=U;L<P.length;L+=1)T+=P[L].length;for(var z=this.segments.prepareSegment(T,this.layoutVertexArray,this.indexArray),G=z.vertexLength,Z=[],re=[],ne=0,de=U;ne<de.length;ne+=1){var ue=de[ne];if(ue.length!==0){ue!==U[0]&&re.push(Z.length/2);var be=this.segments2.prepareSegment(ue.length,this.layoutVertexArray,this.indexArray2),Ie=be.vertexLength;this.layoutVertexArray.emplaceBack(ue[0].x,ue[0].y),this.indexArray2.emplaceBack(Ie+ue.length-1,Ie),Z.push(ue[0].x),Z.push(ue[0].y);for(var ke=1;ke<ue.length;ke++)this.layoutVertexArray.emplaceBack(ue[ke].x,ue[ke].y),this.indexArray2.emplaceBack(Ie+ke-1,Ie+ke),Z.push(ue[ke].x),Z.push(ue[ke].y);be.vertexLength+=ue.length,be.primitiveLength+=ue.length}}for(var He=Lp(Z,re),qe=0;qe<He.length;qe+=3)this.indexArray.emplaceBack(G+He[qe],G+He[qe+1],G+He[qe+2]);z.vertexLength+=T,z.primitiveLength+=He.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,m,f)},Ft("FillBucket",go,{omit:["layers","patternFeatures"]});var gB=new Mn({"fill-sort-key":new Ut(X.layout_fill["fill-sort-key"])}),mB={paint:new Mn({"fill-antialias":new Dt(X.paint_fill["fill-antialias"]),"fill-opacity":new Ut(X.paint_fill["fill-opacity"]),"fill-color":new Ut(X.paint_fill["fill-color"]),"fill-outline-color":new Ut(X.paint_fill["fill-outline-color"]),"fill-translate":new Dt(X.paint_fill["fill-translate"]),"fill-translate-anchor":new Dt(X.paint_fill["fill-translate-anchor"]),"fill-pattern":new Al(X.paint_fill["fill-pattern"])}),layout:gB},yB=function(t){function A(s){t.call(this,s,mB)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.recalculate=function(s,f){t.prototype.recalculate.call(this,s,f);var m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},A.prototype.createBucket=function(s){return new go(s)},A.prototype.queryRadius=function(){return ln(this.paint.get("fill-translate"))},A.prototype.queryIntersectsFeature=function(s,f,m,v,B,U,T){return VA(po(s,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),U.angle,T),v)},A.prototype.isTileClipped=function(){return!0},A}(to),_B=yn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,cm=fl;function fl(t,A,s,f,m){this.properties={},this.extent=s,this.type=0,this._pbf=t,this._geometry=-1,this._keys=f,this._values=m,t.readFields(vB,this,A)}function vB(t,A,s){t==1?A.id=s.readVarint():t==2?function(f,m){for(var v=f.readVarint()+f.pos;f.pos<v;){var B=m._keys[f.readVarint()],U=m._values[f.readVarint()];m.properties[B]=U}}(s,A):t==3?A.type=s.readVarint():t==4&&(A._geometry=s.pos)}function wB(t){for(var A,s,f=0,m=0,v=t.length,B=v-1;m<v;B=m++)f+=((s=t[B]).x-(A=t[m]).x)*(A.y+s.y);return f}fl.types=["Unknown","Point","LineString","Polygon"],fl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var A,s=t.readVarint()+t.pos,f=1,m=0,v=0,B=0,U=[];t.pos<s;){if(m<=0){var T=t.readVarint();f=7&T,m=T>>3}if(m--,f===1||f===2)v+=t.readSVarint(),B+=t.readSVarint(),f===1&&(A&&U.push(A),A=[]),A.push(new Q(v,B));else{if(f!==7)throw new Error("unknown command "+f);A&&A.push(A[0].clone())}}return A&&U.push(A),U},fl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var A=t.readVarint()+t.pos,s=1,f=0,m=0,v=0,B=1/0,U=-1/0,T=1/0,L=-1/0;t.pos<A;){if(f<=0){var P=t.readVarint();s=7&P,f=P>>3}if(f--,s===1||s===2)(m+=t.readSVarint())<B&&(B=m),m>U&&(U=m),(v+=t.readSVarint())<T&&(T=v),v>L&&(L=v);else if(s!==7)throw new Error("unknown command "+s)}return[B,T,U,L]},fl.prototype.toGeoJSON=function(t,A,s){var f,m,v=this.extent*Math.pow(2,s),B=this.extent*t,U=this.extent*A,T=this.loadGeometry(),L=fl.types[this.type];function P(Z){for(var re=0;re<Z.length;re++){var ne=Z[re];Z[re]=[360*(ne.x+B)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(ne.y+U)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var z=[];for(f=0;f<T.length;f++)z[f]=T[f][0];P(T=z);break;case 2:for(f=0;f<T.length;f++)P(T[f]);break;case 3:for(T=function(Z){var re=Z.length;if(re<=1)return[Z];for(var ne,de,ue=[],be=0;be<re;be++){var Ie=wB(Z[be]);Ie!==0&&(de===void 0&&(de=Ie<0),de===Ie<0?(ne&&ue.push(ne),ne=[Z[be]]):ne.push(Z[be]))}return ne&&ue.push(ne),ue}(T),f=0;f<T.length;f++)for(m=0;m<T[f].length;m++)P(T[f][m])}T.length===1?T=T[0]:L="Multi"+L;var G={type:"Feature",geometry:{type:L,coordinates:T},properties:this.properties};return"id"in this&&(G.id=this.id),G};var hm=fm;function fm(t,A){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(BB,this,A),this.length=this._features.length}function BB(t,A,s){t===15?A.version=s.readVarint():t===1?A.name=s.readString():t===5?A.extent=s.readVarint():t===2?A._features.push(s.pos):t===3?A._keys.push(s.readString()):t===4&&A._values.push(function(f){for(var m=null,v=f.readVarint()+f.pos;f.pos<v;){var B=f.readVarint()>>3;m=B===1?f.readString():B===2?f.readFloat():B===3?f.readDouble():B===4?f.readVarint64():B===5?f.readVarint():B===6?f.readSVarint():B===7?f.readBoolean():null}return m}(s))}function bB(t,A,s){if(t===3){var f=new hm(s,s.readVarint()+s.pos);f.length&&(A[f.name]=f)}}fm.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var A=this._pbf.readVarint()+this._pbf.pos;return new cm(this._pbf,A,this.extent,this._keys,this._values)};var pl={VectorTile:function(t,A){this.layers=t.readFields(bB,{},A)},VectorTileFeature:cm,VectorTileLayer:hm},xB=pl.VectorTileFeature.types,Op=Math.pow(2,13);function Pu(t,A,s,f,m,v,B,U){t.emplaceBack(A,s,2*Math.floor(f*Op)+B,m*Op*2,v*Op*2,Math.round(U))}var mo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(A){return A.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new fo,this.indexArray=new So,this.programConfigurations=new Xt(t.layers,t.zoom),this.segments=new W,this.stateDependentLayerIds=this.layers.filter(function(A){return A.isStateDependent()}).map(function(A){return A.id})};function CB(t,A){return t.x===A.x&&(t.x<0||t.x>8192)||t.y===A.y&&(t.y<0||t.y>8192)}mo.prototype.populate=function(t,A,s){this.features=[],this.hasPattern=zp("fill-extrusion",this.layers,A);for(var f=0,m=t;f<m.length;f+=1){var v=m[f],B=v.feature,U=v.id,T=v.index,L=v.sourceLayerIndex,P=this.layers[0]._featureFilter.needGeometry,z=Ki(B,P);if(this.layers[0]._featureFilter.filter(new _r(this.zoom),z,s)){var G={id:U,sourceLayerIndex:L,index:T,geometry:P?z.geometry:ki(B),properties:B.properties,type:B.type,patterns:{}};this.hasPattern?this.features.push(Rp("fill-extrusion",this.layers,G,this.zoom,A)):this.addFeature(G,G.geometry,T,s,{}),A.featureIndex.insert(B,G.geometry,T,L,this.index,!0)}}},mo.prototype.addFeatures=function(t,A,s){for(var f=0,m=this.features;f<m.length;f+=1){var v=m[f];this.addFeature(v,v.geometry,v.index,A,s)}},mo.prototype.update=function(t,A,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,A,this.stateDependentLayers,s)},mo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},mo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},mo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,_B),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},mo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},mo.prototype.addFeature=function(t,A,s,f,m){for(var v=0,B=Hp(A,500);v<B.length;v+=1){for(var U=B[v],T=0,L=0,P=U;L<P.length;L+=1)T+=P[L].length;for(var z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),G=0,Z=U;G<Z.length;G+=1){var re=Z[G];if(re.length!==0&&!((mr=re).every(function(or){return or.x<0})||mr.every(function(or){return or.x>8192})||mr.every(function(or){return or.y<0})||mr.every(function(or){return or.y>8192})))for(var ne=0,de=0;de<re.length;de++){var ue=re[de];if(de>=1){var be=re[de-1];if(!CB(ue,be)){z.vertexLength+4>W.MAX_VERTEX_ARRAY_LENGTH&&(z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Ie=ue.sub(be)._perp()._unit(),ke=be.dist(ue);ne+ke>32768&&(ne=0),Pu(this.layoutVertexArray,ue.x,ue.y,Ie.x,Ie.y,0,0,ne),Pu(this.layoutVertexArray,ue.x,ue.y,Ie.x,Ie.y,0,1,ne),Pu(this.layoutVertexArray,be.x,be.y,Ie.x,Ie.y,0,0,ne+=ke),Pu(this.layoutVertexArray,be.x,be.y,Ie.x,Ie.y,0,1,ne);var He=z.vertexLength;this.indexArray.emplaceBack(He,He+2,He+1),this.indexArray.emplaceBack(He+1,He+2,He+3),z.vertexLength+=4,z.primitiveLength+=2}}}}if(z.vertexLength+T>W.MAX_VERTEX_ARRAY_LENGTH&&(z=this.segments.prepareSegment(T,this.layoutVertexArray,this.indexArray)),xB[t.type]==="Polygon"){for(var qe=[],nt=[],ft=z.vertexLength,kt=0,vt=U;kt<vt.length;kt+=1){var Ht=vt[kt];if(Ht.length!==0){Ht!==U[0]&&nt.push(qe.length/2);for(var Bt=0;Bt<Ht.length;Bt++){var pr=Ht[Bt];Pu(this.layoutVertexArray,pr.x,pr.y,0,0,1,1,0),qe.push(pr.x),qe.push(pr.y)}}}for(var Zt=Lp(qe,nt),Qt=0;Qt<Zt.length;Qt+=3)this.indexArray.emplaceBack(ft+Zt[Qt],ft+Zt[Qt+2],ft+Zt[Qt+1]);z.primitiveLength+=Zt.length/3,z.vertexLength+=T}}var mr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,m,f)},Ft("FillExtrusionBucket",mo,{omit:["layers","features"]});var FB={paint:new Mn({"fill-extrusion-opacity":new Dt(X["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ut(X["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Dt(X["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Dt(X["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Al(X["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ut(X["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ut(X["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Dt(X["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},EB=function(t){function A(s){t.call(this,s,FB)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.createBucket=function(s){return new mo(s)},A.prototype.queryRadius=function(){return ln(this.paint.get("fill-extrusion-translate"))},A.prototype.is3D=function(){return!0},A.prototype.queryIntersectsFeature=function(s,f,m,v,B,U,T,L){var P=po(s,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),U.angle,T),z=this.paint.get("fill-extrusion-height").evaluate(f,m),G=this.paint.get("fill-extrusion-base").evaluate(f,m),Z=function(ne,de,ue,be){for(var Ie=[],ke=0,He=ne;ke<He.length;ke+=1){var qe=He[ke],nt=[qe.x,qe.y,0,1];ul(nt,nt,de),Ie.push(new Q(nt[0]/nt[3],nt[1]/nt[3]))}return Ie}(P,L),re=function(ne,de,ue,be){for(var Ie=[],ke=[],He=be[8]*de,qe=be[9]*de,nt=be[10]*de,ft=be[11]*de,kt=be[8]*ue,vt=be[9]*ue,Ht=be[10]*ue,Bt=be[11]*ue,pr=0,Zt=ne;pr<Zt.length;pr+=1){for(var Qt=[],mr=[],or=0,kr=Zt[pr];or<kr.length;or+=1){var zt=kr[or],Vr=zt.x,xi=zt.y,zi=be[0]*Vr+be[4]*xi+be[12],Li=be[1]*Vr+be[5]*xi+be[13],Ci=be[2]*Vr+be[6]*xi+be[14],Ri=be[3]*Vr+be[7]*xi+be[15],un=Ci+nt,cn=Ri+ft,Jn=zi+kt,wn=Li+vt,Yn=Ci+Ht,Ni=Ri+Bt,Bn=new Q((zi+He)/cn,(Li+qe)/cn);Bn.z=un/cn,Qt.push(Bn);var Br=new Q(Jn/Ni,wn/Ni);Br.z=Yn/Ni,mr.push(Br)}Ie.push(Qt),ke.push(mr)}return[Ie,ke]}(v,G,z,L);return function(ne,de,ue){var be=1/0;VA(ue,de)&&(be=pm(ue,de[0]));for(var Ie=0;Ie<de.length;Ie++)for(var ke=de[Ie],He=ne[Ie],qe=0;qe<ke.length-1;qe++){var nt=ke[qe],ft=[nt,ke[qe+1],He[qe+1],He[qe],nt];Lo(ue,ft)&&(be=Math.min(be,pm(ue,ft)))}return be!==1/0&&be}(re[0],re[1],Z)},A}(to);function Hu(t,A){return t.x*A.x+t.y*A.y}function pm(t,A){if(t.length===1){for(var s,f=0,m=A[f++];!s||m.equals(s);)if(!(s=A[f++]))return 1/0;for(;f<A.length;f++){var v=A[f],B=t[0],U=s.sub(m),T=v.sub(m),L=B.sub(m),P=Hu(U,U),z=Hu(U,T),G=Hu(T,T),Z=Hu(L,U),re=Hu(L,T),ne=P*G-z*z,de=(G*Z-z*re)/ne,ue=(P*re-z*Z)/ne,be=m.z*(1-de-ue)+s.z*de+v.z*ue;if(isFinite(be))return be}return 1/0}for(var Ie=1/0,ke=0,He=A;ke<He.length;ke+=1)Ie=Math.min(Ie,He[ke].z);return Ie}var UB=yn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,QB=yn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,IB=pl.VectorTileFeature.types,SB=Math.cos(Math.PI/180*37.5),dm=Math.pow(2,14)/.5,rA=function(t){var A=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(s){return s.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(s){A.gradients[s.id]={}}),this.layoutVertexArray=new fA,this.layoutVertexArray2=new Ma,this.indexArray=new So,this.programConfigurations=new Xt(t.layers,t.zoom),this.segments=new W,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(s){return s.isStateDependent()}).map(function(s){return s.id})};rA.prototype.populate=function(t,A,s){this.hasPattern=zp("line",this.layers,A);for(var f=this.layers[0].layout.get("line-sort-key"),m=[],v=0,B=t;v<B.length;v+=1){var U=B[v],T=U.feature,L=U.id,P=U.index,z=U.sourceLayerIndex,G=this.layers[0]._featureFilter.needGeometry,Z=Ki(T,G);if(this.layers[0]._featureFilter.filter(new _r(this.zoom),Z,s)){var re=f?f.evaluate(Z,{},s):void 0,ne={id:L,properties:T.properties,type:T.type,sourceLayerIndex:z,index:P,geometry:G?Z.geometry:ki(T),patterns:{},sortKey:re};m.push(ne)}}f&&m.sort(function(nt,ft){return nt.sortKey-ft.sortKey});for(var de=0,ue=m;de<ue.length;de+=1){var be=ue[de],Ie=be.geometry,ke=be.index,He=be.sourceLayerIndex;if(this.hasPattern){var qe=Rp("line",this.layers,be,this.zoom,A);this.patternFeatures.push(qe)}else this.addFeature(be,Ie,ke,s,{});A.featureIndex.insert(t[ke].feature,Ie,ke,He,this.index)}},rA.prototype.update=function(t,A,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,A,this.stateDependentLayers,s)},rA.prototype.addFeatures=function(t,A,s){for(var f=0,m=this.patternFeatures;f<m.length;f+=1){var v=m[f];this.addFeature(v,v.geometry,v.index,A,s)}},rA.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},rA.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},rA.prototype.upload=function(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,QB)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,UB),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},rA.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},rA.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},rA.prototype.addFeature=function(t,A,s,f,m){var v=this.layers[0].layout,B=v.get("line-join").evaluate(t,{}),U=v.get("line-cap"),T=v.get("line-miter-limit"),L=v.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var P=0,z=A;P<z.length;P+=1)this.addLine(z[P],t,B,U,T,L);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,m,f)},rA.prototype.addLine=function(t,A,s,f,m,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var B=0;B<t.length-1;B++)this.totalDistance+=t[B].dist(t[B+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var U=IB[A.type]==="Polygon",T=t.length;T>=2&&t[T-1].equals(t[T-2]);)T--;for(var L=0;L<T-1&&t[L].equals(t[L+1]);)L++;if(!(T<(U?3:2))){s==="bevel"&&(m=1.05);var P,z=this.overscaling<=16?122880/(512*this.overscaling):0,G=this.segments.prepareSegment(10*T,this.layoutVertexArray,this.indexArray),Z=void 0,re=void 0,ne=void 0,de=void 0;this.e1=this.e2=-1,U&&(de=t[L].sub(P=t[T-2])._unit()._perp());for(var ue=L;ue<T;ue++)if(!(re=ue===T-1?U?t[L+1]:void 0:t[ue+1])||!t[ue].equals(re)){de&&(ne=de),P&&(Z=P),P=t[ue],de=re?re.sub(P)._unit()._perp():ne;var be=(ne=ne||de).add(de);be.x===0&&be.y===0||be._unit();var Ie=ne.x*de.x+ne.y*de.y,ke=be.x*de.x+be.y*de.y,He=ke!==0?1/ke:1/0,qe=2*Math.sqrt(2-2*ke),nt=ke<SB&&Z&&re,ft=ne.x*de.y-ne.y*de.x>0;if(nt&&ue>L){var kt=P.dist(Z);if(kt>2*z){var vt=P.sub(P.sub(Z)._mult(z/kt)._round());this.updateDistance(Z,vt),this.addCurrentVertex(vt,ne,0,0,G),Z=vt}}var Ht=Z&&re,Bt=Ht?s:U?"butt":f;if(Ht&&Bt==="round"&&(He<v?Bt="miter":He<=2&&(Bt="fakeround")),Bt==="miter"&&He>m&&(Bt="bevel"),Bt==="bevel"&&(He>2&&(Bt="flipbevel"),He<m&&(Bt="miter")),Z&&this.updateDistance(Z,P),Bt==="miter")be._mult(He),this.addCurrentVertex(P,be,0,0,G);else if(Bt==="flipbevel"){if(He>100)be=de.mult(-1);else{var pr=He*ne.add(de).mag()/ne.sub(de).mag();be._perp()._mult(pr*(ft?-1:1))}this.addCurrentVertex(P,be,0,0,G),this.addCurrentVertex(P,be.mult(-1),0,0,G)}else if(Bt==="bevel"||Bt==="fakeround"){var Zt=-Math.sqrt(He*He-1),Qt=ft?Zt:0,mr=ft?0:Zt;if(Z&&this.addCurrentVertex(P,ne,Qt,mr,G),Bt==="fakeround")for(var or=Math.round(180*qe/Math.PI/20),kr=1;kr<or;kr++){var zt=kr/or;if(zt!==.5){var Vr=zt-.5;zt+=zt*Vr*(zt-1)*((1.0904+Ie*(Ie*(3.55645-1.43519*Ie)-3.2452))*Vr*Vr+(.848013+Ie*(.215638*Ie-1.06021)))}var xi=de.sub(ne)._mult(zt)._add(ne)._unit()._mult(ft?-1:1);this.addHalfVertex(P,xi.x,xi.y,!1,ft,0,G)}re&&this.addCurrentVertex(P,de,-Qt,-mr,G)}else if(Bt==="butt")this.addCurrentVertex(P,be,0,0,G);else if(Bt==="square"){var zi=Z?1:-1;this.addCurrentVertex(P,be,zi,zi,G)}else Bt==="round"&&(Z&&(this.addCurrentVertex(P,ne,0,0,G),this.addCurrentVertex(P,ne,1,1,G,!0)),re&&(this.addCurrentVertex(P,de,-1,-1,G,!0),this.addCurrentVertex(P,de,0,0,G)));if(nt&&ue<T-1){var Li=P.dist(re);if(Li>2*z){var Ci=P.add(re.sub(P)._mult(z/Li)._round());this.updateDistance(P,Ci),this.addCurrentVertex(Ci,de,0,0,G),P=Ci}}}}},rA.prototype.addCurrentVertex=function(t,A,s,f,m,v){v===void 0&&(v=!1);var B=A.y*f-A.x,U=-A.y-A.x*f;this.addHalfVertex(t,A.x+A.y*s,A.y-A.x*s,v,!1,s,m),this.addHalfVertex(t,B,U,v,!0,-f,m),this.distance>dm/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(t,A,s,f,m,v))},rA.prototype.addHalfVertex=function(t,A,s,f,m,v,B){var U=.5*(this.lineClips?this.scaledDistance*(dm-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(f?1:0),(t.y<<1)+(m?1:0),Math.round(63*A)+128,Math.round(63*s)+128,1+(v===0?0:v<0?-1:1)|(63&U)<<2,U>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var T=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,T),B.primitiveLength++),m?this.e2=T:this.e1=T},rA.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},rA.prototype.updateDistance=function(t,A){this.distance+=t.dist(A),this.updateScaledDistance()},Ft("LineBucket",rA,{omit:["layers","patternFeatures"]});var TB=new Mn({"line-cap":new Dt(X.layout_line["line-cap"]),"line-join":new Ut(X.layout_line["line-join"]),"line-miter-limit":new Dt(X.layout_line["line-miter-limit"]),"line-round-limit":new Dt(X.layout_line["line-round-limit"]),"line-sort-key":new Ut(X.layout_line["line-sort-key"])}),gm={paint:new Mn({"line-opacity":new Ut(X.paint_line["line-opacity"]),"line-color":new Ut(X.paint_line["line-color"]),"line-translate":new Dt(X.paint_line["line-translate"]),"line-translate-anchor":new Dt(X.paint_line["line-translate-anchor"]),"line-width":new Ut(X.paint_line["line-width"]),"line-gap-width":new Ut(X.paint_line["line-gap-width"]),"line-offset":new Ut(X.paint_line["line-offset"]),"line-blur":new Ut(X.paint_line["line-blur"]),"line-dasharray":new Zn(X.paint_line["line-dasharray"]),"line-pattern":new Al(X.paint_line["line-pattern"]),"line-gradient":new NA(X.paint_line["line-gradient"])}),layout:TB},mm=new(function(t){function A(){t.apply(this,arguments)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.possiblyEvaluate=function(s,f){return f=new _r(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),t.prototype.possiblyEvaluate.call(this,s,f)},A.prototype.evaluate=function(s,f,m,v){return f=V({},f,{zoom:Math.floor(f.zoom)}),t.prototype.evaluate.call(this,s,f,m,v)},A}(Ut))(gm.paint.properties["line-width"].specification);mm.useIntegerZoom=!0;var kB=function(t){function A(s){t.call(this,s,gm),this.gradientVersion=0}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype._handleSpecialPaintPropertyUpdate=function(s){s==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof sA,this.gradientVersion=(this.gradientVersion+1)%M)},A.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},A.prototype.recalculate=function(s,f){t.prototype.recalculate.call(this,s,f),this.paint._values["line-floorwidth"]=mm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)},A.prototype.createBucket=function(s){return new rA(s)},A.prototype.queryRadius=function(s){var f=s,m=ym(no("line-width",this,f),no("line-gap-width",this,f)),v=no("line-offset",this,f);return m/2+Math.abs(v)+ln(this.paint.get("line-translate"))},A.prototype.queryIntersectsFeature=function(s,f,m,v,B,U,T){var L=po(s,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),U.angle,T),P=T/2*ym(this.paint.get("line-width").evaluate(f,m),this.paint.get("line-gap-width").evaluate(f,m)),z=this.paint.get("line-offset").evaluate(f,m);return z&&(v=function(G,Z){for(var re=[],ne=new Q(0,0),de=0;de<G.length;de++){for(var ue=G[de],be=[],Ie=0;Ie<ue.length;Ie++){var ke=ue[Ie],He=ue[Ie+1],qe=Ie===0?ne:ke.sub(ue[Ie-1])._unit()._perp(),nt=Ie===ue.length-1?ne:He.sub(ke)._unit()._perp(),ft=qe._add(nt)._unit();ft._mult(1/(ft.x*nt.x+ft.y*nt.y)),be.push(ft._mult(Z)._add(ke))}re.push(be)}return re}(v,z*T)),function(G,Z,re){for(var ne=0;ne<Z.length;ne++){var de=Z[ne];if(G.length>=3){for(var ue=0;ue<de.length;ue++)if(io(G,de[ue]))return!0}if(TA(G,de,re))return!0}return!1}(L,v,P)},A.prototype.isTileClipped=function(){return!0},A}(to);function ym(t,A){return A>0?A+2*t:t}var LB=yn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),MB=yn([{name:"a_projected_pos",components:3,type:"Float32"}],4),DB=(yn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),yn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),_m=(yn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),yn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),PB=yn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function HB(t,A,s){return t.sections.forEach(function(f){f.text=function(m,v,B){var U=v.layout.get("text-transform").evaluate(B,{});return U==="uppercase"?m=m.toLocaleUpperCase():U==="lowercase"&&(m=m.toLocaleLowerCase()),BA.applyArabicShaping&&(m=BA.applyArabicShaping(m)),m}(f.text,A,s)}),t}yn([{name:"triangle",components:3,type:"Uint16"}]),yn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),yn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),yn([{type:"Float32",name:"offsetX"}]),yn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var zu={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},vm=function(t,A,s,f,m){var v,B,U=8*m-f-1,T=(1<<U)-1,L=T>>1,P=-7,z=s?m-1:0,G=s?-1:1,Z=t[A+z];for(z+=G,v=Z&(1<<-P)-1,Z>>=-P,P+=U;P>0;v=256*v+t[A+z],z+=G,P-=8);for(B=v&(1<<-P)-1,v>>=-P,P+=f;P>0;B=256*B+t[A+z],z+=G,P-=8);if(v===0)v=1-L;else{if(v===T)return B?NaN:1/0*(Z?-1:1);B+=Math.pow(2,f),v-=L}return(Z?-1:1)*B*Math.pow(2,v-f)},wm=function(t,A,s,f,m,v){var B,U,T,L=8*v-m-1,P=(1<<L)-1,z=P>>1,G=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=f?0:v-1,re=f?1:-1,ne=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(U=isNaN(A)?1:0,B=P):(B=Math.floor(Math.log(A)/Math.LN2),A*(T=Math.pow(2,-B))<1&&(B--,T*=2),(A+=B+z>=1?G/T:G*Math.pow(2,1-z))*T>=2&&(B++,T/=2),B+z>=P?(U=0,B=P):B+z>=1?(U=(A*T-1)*Math.pow(2,m),B+=z):(U=A*Math.pow(2,z-1)*Math.pow(2,m),B=0));m>=8;t[s+Z]=255&U,Z+=re,U/=256,m-=8);for(B=B<<m|U,L+=m;L>0;t[s+Z]=255&B,Z+=re,B/=256,L-=8);t[s+Z-re]|=128*ne},Fh=di;function di(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}di.Varint=0,di.Fixed64=1,di.Bytes=2,di.Fixed32=5;var Bm=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function pa(t){return t.type===di.Bytes?t.readVarint()+t.pos:t.pos+1}function dl(t,A,s){return s?4294967296*A+(t>>>0):4294967296*(A>>>0)+(t>>>0)}function bm(t,A,s){var f=A<=16383?1:A<=2097151?2:A<=268435455?3:Math.floor(Math.log(A)/(7*Math.LN2));s.realloc(f);for(var m=s.pos-1;m>=t;m--)s.buf[m+f]=s.buf[m]}function zB(t,A){for(var s=0;s<t.length;s++)A.writeVarint(t[s])}function RB(t,A){for(var s=0;s<t.length;s++)A.writeSVarint(t[s])}function OB(t,A){for(var s=0;s<t.length;s++)A.writeFloat(t[s])}function KB(t,A){for(var s=0;s<t.length;s++)A.writeDouble(t[s])}function NB(t,A){for(var s=0;s<t.length;s++)A.writeBoolean(t[s])}function VB(t,A){for(var s=0;s<t.length;s++)A.writeFixed32(t[s])}function GB(t,A){for(var s=0;s<t.length;s++)A.writeSFixed32(t[s])}function XB(t,A){for(var s=0;s<t.length;s++)A.writeFixed64(t[s])}function jB(t,A){for(var s=0;s<t.length;s++)A.writeSFixed64(t[s])}function Eh(t,A){return(t[A]|t[A+1]<<8|t[A+2]<<16)+16777216*t[A+3]}function gl(t,A,s){t[s]=A,t[s+1]=A>>>8,t[s+2]=A>>>16,t[s+3]=A>>>24}function xm(t,A){return(t[A]|t[A+1]<<8|t[A+2]<<16)+(t[A+3]<<24)}function ZB(t,A,s){t===1&&s.readMessage(qB,A)}function qB(t,A,s){if(t===3){var f=s.readMessage(WB,{}),m=f.width,v=f.height,B=f.left,U=f.top,T=f.advance;A.push({id:f.id,bitmap:new Cs({width:m+6,height:v+6},f.bitmap),metrics:{width:m,height:v,left:B,top:U,advance:T}})}}function WB(t,A,s){t===1?A.id=s.readVarint():t===2?A.bitmap=s.readBytes():t===3?A.width=s.readVarint():t===4?A.height=s.readVarint():t===5?A.left=s.readSVarint():t===6?A.top=s.readSVarint():t===7&&(A.advance=s.readVarint())}function Cm(t){for(var A=0,s=0,f=0,m=t;f<m.length;f+=1){var v=m[f];A+=v.w*v.h,s=Math.max(s,v.w)}t.sort(function(ne,de){return de.h-ne.h});for(var B=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(A/.95)),s),h:1/0}],U=0,T=0,L=0,P=t;L<P.length;L+=1)for(var z=P[L],G=B.length-1;G>=0;G--){var Z=B[G];if(!(z.w>Z.w||z.h>Z.h)){if(z.x=Z.x,z.y=Z.y,T=Math.max(T,z.y+z.h),U=Math.max(U,z.x+z.w),z.w===Z.w&&z.h===Z.h){var re=B.pop();G<B.length&&(B[G]=re)}else z.h===Z.h?(Z.x+=z.w,Z.w-=z.w):z.w===Z.w?(Z.y+=z.h,Z.h-=z.h):(B.push({x:Z.x+z.w,y:Z.y,w:Z.w-z.w,h:z.h}),Z.y+=z.h,Z.h-=z.h);break}}return{w:U,h:T,fill:A/(U*T)||0}}di.prototype={destroy:function(){this.buf=null},readFields:function(t,A,s){for(s=s||this.length;this.pos<s;){var f=this.readVarint(),m=f>>3,v=this.pos;this.type=7&f,t(m,A,this),this.pos===v&&this.skip(f)}return A},readMessage:function(t,A){return this.readFields(t,A,this.readVarint()+this.pos)},readFixed32:function(){var t=Eh(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=xm(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Eh(this.buf,this.pos)+4294967296*Eh(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Eh(this.buf,this.pos)+4294967296*xm(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=vm(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=vm(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var A,s,f=this.buf;return A=127&(s=f[this.pos++]),s<128?A:(A|=(127&(s=f[this.pos++]))<<7,s<128?A:(A|=(127&(s=f[this.pos++]))<<14,s<128?A:(A|=(127&(s=f[this.pos++]))<<21,s<128?A:function(m,v,B){var U,T,L=B.buf;if(U=(112&(T=L[B.pos++]))>>4,T<128||(U|=(127&(T=L[B.pos++]))<<3,T<128)||(U|=(127&(T=L[B.pos++]))<<10,T<128)||(U|=(127&(T=L[B.pos++]))<<17,T<128)||(U|=(127&(T=L[B.pos++]))<<24,T<128)||(U|=(1&(T=L[B.pos++]))<<31,T<128))return dl(m,U,v);throw new Error("Expected varint not more than 10 bytes")}(A|=(15&(s=f[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,A=this.pos;return this.pos=t,t-A>=12&&Bm?function(s,f,m){return Bm.decode(s.subarray(f,m))}(this.buf,A,t):function(s,f,m){for(var v="",B=f;B<m;){var U,T,L,P=s[B],z=null,G=P>239?4:P>223?3:P>191?2:1;if(B+G>m)break;G===1?P<128&&(z=P):G===2?(192&(U=s[B+1]))==128&&(z=(31&P)<<6|63&U)<=127&&(z=null):G===3?(T=s[B+2],(192&(U=s[B+1]))==128&&(192&T)==128&&((z=(15&P)<<12|(63&U)<<6|63&T)<=2047||z>=55296&&z<=57343)&&(z=null)):G===4&&(T=s[B+2],L=s[B+3],(192&(U=s[B+1]))==128&&(192&T)==128&&(192&L)==128&&((z=(15&P)<<18|(63&U)<<12|(63&T)<<6|63&L)<=65535||z>=1114112)&&(z=null)),z===null?(z=65533,G=1):z>65535&&(z-=65536,v+=String.fromCharCode(z>>>10&1023|55296),z=56320|1023&z),v+=String.fromCharCode(z),B+=G}return v}(this.buf,A,t)},readBytes:function(){var t=this.readVarint()+this.pos,A=this.buf.subarray(this.pos,t);return this.pos=t,A},readPackedVarint:function(t,A){if(this.type!==di.Bytes)return t.push(this.readVarint(A));var s=pa(this);for(t=t||[];this.pos<s;)t.push(this.readVarint(A));return t},readPackedSVarint:function(t){if(this.type!==di.Bytes)return t.push(this.readSVarint());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==di.Bytes)return t.push(this.readBoolean());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==di.Bytes)return t.push(this.readFloat());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==di.Bytes)return t.push(this.readDouble());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==di.Bytes)return t.push(this.readFixed32());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==di.Bytes)return t.push(this.readSFixed32());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==di.Bytes)return t.push(this.readFixed64());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==di.Bytes)return t.push(this.readSFixed64());var A=pa(this);for(t=t||[];this.pos<A;)t.push(this.readSFixed64());return t},skip:function(t){var A=7&t;if(A===di.Varint)for(;this.buf[this.pos++]>127;);else if(A===di.Bytes)this.pos=this.readVarint()+this.pos;else if(A===di.Fixed32)this.pos+=4;else{if(A!==di.Fixed64)throw new Error("Unimplemented type: "+A);this.pos+=8}},writeTag:function(t,A){this.writeVarint(t<<3|A)},realloc:function(t){for(var A=this.length||16;A<this.pos+t;)A*=2;if(A!==this.length){var s=new Uint8Array(A);s.set(this.buf),this.buf=s,this.length=A}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),gl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),gl(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),gl(this.buf,-1&t,this.pos),gl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),gl(this.buf,-1&t,this.pos),gl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(A,s){var f,m;if(A>=0?(f=A%4294967296|0,m=A/4294967296|0):(m=~(-A/4294967296),4294967295^(f=~(-A%4294967296))?f=f+1|0:(f=0,m=m+1|0)),A>=18446744073709552e3||A<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");s.realloc(10),function(v,B,U){U.buf[U.pos++]=127&v|128,v>>>=7,U.buf[U.pos++]=127&v|128,v>>>=7,U.buf[U.pos++]=127&v|128,v>>>=7,U.buf[U.pos++]=127&v|128,U.buf[U.pos]=127&(v>>>=7)}(f,0,s),function(v,B){var U=(7&v)<<4;B.buf[B.pos++]|=U|((v>>>=3)?128:0),v&&(B.buf[B.pos++]=127&v|((v>>>=7)?128:0),v&&(B.buf[B.pos++]=127&v|((v>>>=7)?128:0),v&&(B.buf[B.pos++]=127&v|((v>>>=7)?128:0),v&&(B.buf[B.pos++]=127&v|((v>>>=7)?128:0),v&&(B.buf[B.pos++]=127&v)))))}(m,s)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var A=this.pos;this.pos=function(f,m,v){for(var B,U,T=0;T<m.length;T++){if((B=m.charCodeAt(T))>55295&&B<57344){if(!U){B>56319||T+1===m.length?(f[v++]=239,f[v++]=191,f[v++]=189):U=B;continue}if(B<56320){f[v++]=239,f[v++]=191,f[v++]=189,U=B;continue}B=U-55296<<10|B-56320|65536,U=null}else U&&(f[v++]=239,f[v++]=191,f[v++]=189,U=null);B<128?f[v++]=B:(B<2048?f[v++]=B>>6|192:(B<65536?f[v++]=B>>12|224:(f[v++]=B>>18|240,f[v++]=B>>12&63|128),f[v++]=B>>6&63|128),f[v++]=63&B|128)}return v}(this.buf,t,this.pos);var s=this.pos-A;s>=128&&bm(A,s,this),this.pos=A-1,this.writeVarint(s),this.pos+=s},writeFloat:function(t){this.realloc(4),wm(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),wm(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var A=t.length;this.writeVarint(A),this.realloc(A);for(var s=0;s<A;s++)this.buf[this.pos++]=t[s]},writeRawMessage:function(t,A){this.pos++;var s=this.pos;t(A,this);var f=this.pos-s;f>=128&&bm(s,f,this),this.pos=s-1,this.writeVarint(f),this.pos+=f},writeMessage:function(t,A,s){this.writeTag(t,di.Bytes),this.writeRawMessage(A,s)},writePackedVarint:function(t,A){A.length&&this.writeMessage(t,zB,A)},writePackedSVarint:function(t,A){A.length&&this.writeMessage(t,RB,A)},writePackedBoolean:function(t,A){A.length&&this.writeMessage(t,NB,A)},writePackedFloat:function(t,A){A.length&&this.writeMessage(t,OB,A)},writePackedDouble:function(t,A){A.length&&this.writeMessage(t,KB,A)},writePackedFixed32:function(t,A){A.length&&this.writeMessage(t,VB,A)},writePackedSFixed32:function(t,A){A.length&&this.writeMessage(t,GB,A)},writePackedFixed64:function(t,A){A.length&&this.writeMessage(t,XB,A)},writePackedSFixed64:function(t,A){A.length&&this.writeMessage(t,jB,A)},writeBytesField:function(t,A){this.writeTag(t,di.Bytes),this.writeBytes(A)},writeFixed32Field:function(t,A){this.writeTag(t,di.Fixed32),this.writeFixed32(A)},writeSFixed32Field:function(t,A){this.writeTag(t,di.Fixed32),this.writeSFixed32(A)},writeFixed64Field:function(t,A){this.writeTag(t,di.Fixed64),this.writeFixed64(A)},writeSFixed64Field:function(t,A){this.writeTag(t,di.Fixed64),this.writeSFixed64(A)},writeVarintField:function(t,A){this.writeTag(t,di.Varint),this.writeVarint(A)},writeSVarintField:function(t,A){this.writeTag(t,di.Varint),this.writeSVarint(A)},writeStringField:function(t,A){this.writeTag(t,di.Bytes),this.writeString(A)},writeFloatField:function(t,A){this.writeTag(t,di.Fixed32),this.writeFloat(A)},writeDoubleField:function(t,A){this.writeTag(t,di.Fixed64),this.writeDouble(A)},writeBooleanField:function(t,A){this.writeVarintField(t,Boolean(A))}};var Uh=function(t,A){var s=A.pixelRatio,f=A.version,m=A.stretchX,v=A.stretchY,B=A.content;this.paddedRect=t,this.pixelRatio=s,this.stretchX=m,this.stretchY=v,this.content=B,this.version=f},Ru={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ru.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ru.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ru.tlbr.get=function(){return this.tl.concat(this.br)},Ru.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Uh.prototype,Ru);var Ou=function(t,A){var s={},f={};this.haveRenderCallbacks=[];var m=[];this.addImages(t,s,m),this.addImages(A,f,m);var v=Cm(m),B=new dA({width:v.w||1,height:v.h||1});for(var U in t){var T=t[U],L=s[U].paddedRect;dA.copy(T.data,B,{x:0,y:0},{x:L.x+1,y:L.y+1},T.data)}for(var P in A){var z=A[P],G=f[P].paddedRect,Z=G.x+1,re=G.y+1,ne=z.data.width,de=z.data.height;dA.copy(z.data,B,{x:0,y:0},{x:Z,y:re},z.data),dA.copy(z.data,B,{x:0,y:de-1},{x:Z,y:re-1},{width:ne,height:1}),dA.copy(z.data,B,{x:0,y:0},{x:Z,y:re+de},{width:ne,height:1}),dA.copy(z.data,B,{x:ne-1,y:0},{x:Z-1,y:re},{width:1,height:de}),dA.copy(z.data,B,{x:0,y:0},{x:Z+ne,y:re},{width:1,height:de})}this.image=B,this.iconPositions=s,this.patternPositions=f};Ou.prototype.addImages=function(t,A,s){for(var f in t){var m=t[f],v={x:0,y:0,w:m.data.width+2,h:m.data.height+2};s.push(v),A[f]=new Uh(v,m),m.hasRenderCallback&&this.haveRenderCallbacks.push(f)}},Ou.prototype.patchUpdatedImages=function(t,A){for(var s in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[s],t.getImage(s),A),this.patchUpdatedImage(this.patternPositions[s],t.getImage(s),A)},Ou.prototype.patchUpdatedImage=function(t,A,s){if(t&&A&&t.version!==A.version){t.version=A.version;var f=t.tl;s.update(A.data,void 0,{x:f[0],y:f[1]})}},Ft("ImagePosition",Uh),Ft("ImageAtlas",Ou);var kA={horizontal:1,vertical:2,horizontalOnly:3},ml=function(){this.scale=1,this.fontStack="",this.imageName=null};ml.forText=function(t,A){var s=new ml;return s.scale=t||1,s.fontStack=A,s},ml.forImage=function(t){var A=new ml;return A.imageName=t,A};var Wn=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Qh(t,A,s,f,m,v,B,U,T,L,P,z,G,Z,re,ne){var de,ue=Wn.fromFeature(t,m);z===kA.vertical&&ue.verticalizePunctuation();var be=BA.processBidirectionalText,Ie=BA.processStyledBidirectionalText;if(be&&ue.sections.length===1){de=[];for(var ke=0,He=be(ue.toString(),Kp(ue,L,v,A,f,Z,re));ke<He.length;ke+=1){var qe=He[ke],nt=new Wn;nt.text=qe,nt.sections=ue.sections;for(var ft=0;ft<qe.length;ft++)nt.sectionIndex.push(0);de.push(nt)}}else if(Ie){de=[];for(var kt=0,vt=Ie(ue.text,ue.sectionIndex,Kp(ue,L,v,A,f,Z,re));kt<vt.length;kt+=1){var Ht=vt[kt],Bt=new Wn;Bt.text=Ht[0],Bt.sectionIndex=Ht[1],Bt.sections=ue.sections,de.push(Bt)}}else de=function(Qt,mr){for(var or=[],kr=Qt.text,zt=0,Vr=0,xi=mr;Vr<xi.length;Vr+=1){var zi=xi[Vr];or.push(Qt.substring(zt,zi)),zt=zi}return zt<kr.length&&or.push(Qt.substring(zt,kr.length)),or}(ue,Kp(ue,L,v,A,f,Z,re));var pr=[],Zt={positionedLines:pr,text:ue.toString(),top:P[1],bottom:P[1],left:P[0],right:P[0],writingMode:z,iconsInText:!1,verticalizable:!1};return function(Qt,mr,or,kr,zt,Vr,xi,zi,Li,Ci,Ri,un){for(var cn=0,Jn=-17,wn=0,Yn=0,Ni=zi==="right"?1:zi==="left"?0:.5,Bn=0,Br=0,ai=zt;Br<ai.length;Br+=1){var $r=ai[Br];$r.trim();var Hr=$r.getMaxScale(),iA=24*(Hr-1),Nn={positionedGlyphs:[],lineOffset:0};Qt.positionedLines[Bn]=Nn;var _i=Nn.positionedGlyphs,Zi=0;if($r.length()){for(var Vn=0;Vn<$r.length();Vn++){var Gr=$r.getSection(Vn),Po=$r.getSectionIndex(Vn),LA=$r.getCharCode(Vn),Ho=0,Vi=null,zo=null,Ao=null,Cl=24,Qs=!(Li===kA.horizontal||!Ri&&!rl(LA)||Ri&&(Ih[LA]||(ya=LA,yt.Arabic(ya)||yt["Arabic Supplement"](ya)||yt["Arabic Extended-A"](ya)||yt["Arabic Presentation Forms-A"](ya)||yt["Arabic Presentation Forms-B"](ya))));if(Gr.imageName){var Fl=kr[Gr.imageName];if(!Fl)continue;Ao=Gr.imageName,Qt.iconsInText=Qt.iconsInText||!0,zo=Fl.paddedRect;var ma=Fl.displaySize;Gr.scale=24*Gr.scale/un,Ho=iA+(24-ma[1]*Gr.scale),Cl=(Vi={width:ma[0],height:ma[1],left:1,top:-3,advance:Qs?ma[1]:ma[0]}).advance;var El=Qs?ma[0]*Gr.scale-24*Hr:ma[1]*Gr.scale-24*Hr;El>0&&El>Zi&&(Zi=El)}else{var zh=or[Gr.fontStack],Ul=zh&&zh[LA];if(Ul&&Ul.rect)zo=Ul.rect,Vi=Ul.metrics;else{var Vu=mr[Gr.fontStack],Rh=Vu&&Vu[LA];if(!Rh)continue;Vi=Rh.metrics}Ho=24*(Hr-Gr.scale)}Qs?(Qt.verticalizable=!0,_i.push({glyph:LA,imageName:Ao,x:cn,y:Jn+Ho,vertical:Qs,scale:Gr.scale,fontStack:Gr.fontStack,sectionIndex:Po,metrics:Vi,rect:zo}),cn+=Cl*Gr.scale+Ci):(_i.push({glyph:LA,imageName:Ao,x:cn,y:Jn+Ho,vertical:Qs,scale:Gr.scale,fontStack:Gr.fontStack,sectionIndex:Po,metrics:Vi,rect:zo}),cn+=Vi.advance*Gr.scale+Ci)}_i.length!==0&&(wn=Math.max(cn-Ci,wn),YB(_i,0,_i.length-1,Ni,Zi)),cn=0;var Oh=Vr*Hr+Zi;Nn.lineOffset=Math.max(Zi,iA),Jn+=Oh,Yn=Math.max(Oh,Yn),++Bn}else Jn+=Vr,++Bn}var ya,Gu=Jn- -17,Ql=Np(xi),Na=Ql.horizontalAlign,Il=Ql.verticalAlign;(function(Kh,Nh,Xu,ju,Vh,Zu,qu,Wu,Gh){var Sl,Xh=(Nh-Xu)*Vh;Sl=Zu!==qu?-Wu*ju- -17:(-ju*Gh+.5)*qu;for(var Tl=0,Ju=Kh;Tl<Ju.length;Tl+=1)for(var Is=0,Yu=Ju[Tl].positionedGlyphs;Is<Yu.length;Is+=1){var kl=Yu[Is];kl.x+=Xh,kl.y+=Sl}})(Qt.positionedLines,Ni,Na,Il,wn,Yn,Vr,Gu,zt.length),Qt.top+=-Il*Gu,Qt.bottom=Qt.top+Gu,Qt.left+=-Na*wn,Qt.right=Qt.left+wn}(Zt,A,s,f,de,B,U,T,z,L,G,ne),!function(Qt){for(var mr=0,or=Qt;mr<or.length;mr+=1)if(or[mr].positionedGlyphs.length!==0)return!1;return!0}(pr)&&Zt}Wn.fromFeature=function(t,A){for(var s=new Wn,f=0;f<t.sections.length;f++){var m=t.sections[f];m.image?s.addImageSection(m):s.addTextSection(m,A)}return s},Wn.prototype.length=function(){return this.text.length},Wn.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Wn.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Wn.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Wn.prototype.verticalizePunctuation=function(){this.text=function(t){for(var A="",s=0;s<t.length;s++){var f=t.charCodeAt(s+1)||null,m=t.charCodeAt(s-1)||null;A+=f&&xu(f)&&!zu[t[s+1]]||m&&xu(m)&&!zu[t[s-1]]||!zu[t[s]]?t[s]:zu[t[s]]}return A}(this.text)},Wn.prototype.trim=function(){for(var t=0,A=0;A<this.text.length&&Ih[this.text.charCodeAt(A)];A++)t++;for(var s=this.text.length,f=this.text.length-1;f>=0&&f>=t&&Ih[this.text.charCodeAt(f)];f--)s--;this.text=this.text.substring(t,s),this.sectionIndex=this.sectionIndex.slice(t,s)},Wn.prototype.substring=function(t,A){var s=new Wn;return s.text=this.text.substring(t,A),s.sectionIndex=this.sectionIndex.slice(t,A),s.sections=this.sections,s},Wn.prototype.toString=function(){return this.text},Wn.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(A,s){return Math.max(A,t.sections[s].scale)},0)},Wn.prototype.addTextSection=function(t,A){this.text+=t.text,this.sections.push(ml.forText(t.scale,t.fontStack||A));for(var s=this.sections.length-1,f=0;f<t.text.length;++f)this.sectionIndex.push(s)},Wn.prototype.addImageSection=function(t){var A=t.image?t.image.name:"";if(A.length!==0){var s=this.getNextImageSectionCharCode();s?(this.text+=String.fromCharCode(s),this.sections.push(ml.forImage(A)),this.sectionIndex.push(this.sections.length-1)):Qe("Reached maximum number of images 6401")}else Qe("Can't add FormattedSection with an empty image.")},Wn.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ih={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},xA={};function Fm(t,A,s,f,m,v){if(A.imageName){var B=f[A.imageName];return B?B.displaySize[0]*A.scale*24/v+m:0}var U=s[A.fontStack],T=U&&U[t];return T?T.metrics.advance*A.scale+m:0}function Em(t,A,s,f){var m=Math.pow(t-A,2);return f?t<A?m/2:2*m:m+Math.abs(s)*s}function JB(t,A,s){var f=0;return t===10&&(f-=1e4),s&&(f+=150),t!==40&&t!==65288||(f+=50),A!==41&&A!==65289||(f+=50),f}function Um(t,A,s,f,m,v){for(var B=null,U=Em(A,s,m,v),T=0,L=f;T<L.length;T+=1){var P=L[T],z=Em(A-P.x,s,m,v)+P.badness;z<=U&&(B=P,U=z)}return{index:t,x:A,priorBreak:B,badness:U}}function Kp(t,A,s,f,m,v,B){if(v!=="point")return[];if(!t)return[];for(var U,T=[],L=function(de,ue,be,Ie,ke,He){for(var qe=0,nt=0;nt<de.length();nt++){var ft=de.getSection(nt);qe+=Fm(de.getCharCode(nt),ft,Ie,ke,ue,He)}return qe/Math.max(1,Math.ceil(qe/be))}(t,A,s,f,m,B),P=t.text.indexOf("\u200B")>=0,z=0,G=0;G<t.length();G++){var Z=t.getSection(G),re=t.getCharCode(G);if(Ih[re]||(z+=Fm(re,Z,f,m,A,B)),G<t.length()-1){var ne=!((U=re)<11904||!(yt["Bopomofo Extended"](U)||yt.Bopomofo(U)||yt["CJK Compatibility Forms"](U)||yt["CJK Compatibility Ideographs"](U)||yt["CJK Compatibility"](U)||yt["CJK Radicals Supplement"](U)||yt["CJK Strokes"](U)||yt["CJK Symbols and Punctuation"](U)||yt["CJK Unified Ideographs Extension A"](U)||yt["CJK Unified Ideographs"](U)||yt["Enclosed CJK Letters and Months"](U)||yt["Halfwidth and Fullwidth Forms"](U)||yt.Hiragana(U)||yt["Ideographic Description Characters"](U)||yt["Kangxi Radicals"](U)||yt["Katakana Phonetic Extensions"](U)||yt.Katakana(U)||yt["Vertical Forms"](U)||yt["Yi Radicals"](U)||yt["Yi Syllables"](U)));(xA[re]||ne||Z.imageName)&&T.push(Um(G+1,z,L,T,JB(re,t.getCharCode(G+1),ne&&P),!1))}}return function de(ue){return ue?de(ue.priorBreak).concat(ue.index):[]}(Um(t.length(),z,L,T,0,!0))}function Np(t){var A=.5,s=.5;switch(t){case"right":case"top-right":case"bottom-right":A=1;break;case"left":case"top-left":case"bottom-left":A=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:A,verticalAlign:s}}function YB(t,A,s,f,m){if(f||m)for(var v=t[s],B=(t[s].x+v.metrics.advance*v.scale)*f,U=A;U<=s;U++)t[U].x-=B,t[U].y+=m}function Qm(t,A,s,f,m,v){var B,U=t.image;if(U.content){var T=U.content,L=U.pixelRatio||1;B=[T[0]/L,T[1]/L,U.displaySize[0]-T[2]/L,U.displaySize[1]-T[3]/L]}var P,z,G,Z,re=A.left*v,ne=A.right*v;s==="width"||s==="both"?(Z=m[0]+re-f[3],z=m[0]+ne+f[1]):z=(Z=m[0]+(re+ne-U.displaySize[0])/2)+U.displaySize[0];var de=A.top*v,ue=A.bottom*v;return s==="height"||s==="both"?(P=m[1]+de-f[0],G=m[1]+ue+f[2]):G=(P=m[1]+(de+ue-U.displaySize[1])/2)+U.displaySize[1],{image:U,top:P,right:z,bottom:G,left:Z,collisionPadding:B}}xA[10]=!0,xA[32]=!0,xA[38]=!0,xA[40]=!0,xA[41]=!0,xA[43]=!0,xA[45]=!0,xA[47]=!0,xA[173]=!0,xA[183]=!0,xA[8203]=!0,xA[8208]=!0,xA[8211]=!0,xA[8231]=!0;var yl=function(t){function A(s,f,m,v){t.call(this,s,f),this.angle=m,v!==void 0&&(this.segment=v)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.clone=function(){return new A(this.x,this.y,this.angle,this.segment)},A}(Q);function Vp(t,A){var s=A.expression;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new _r(t+1))};if(s.kind==="source")return{kind:"source"};for(var f=s.zoomStops,m=s.interpolationType,v=0;v<f.length&&f[v]<=t;)v++;for(var B=v=Math.max(0,v-1);B<f.length&&f[B]<t+1;)B++;B=Math.min(f.length-1,B);var U=f[v],T=f[B];return s.kind==="composite"?{kind:"composite",minZoom:U,maxZoom:T,interpolationType:m}:{kind:"camera",minZoom:U,maxZoom:T,minSize:s.evaluate(new _r(U)),maxSize:s.evaluate(new _r(T)),interpolationType:m}}function Im(t,A,s){var f=A.uSize,m=s.lowerSize;return t.kind==="source"?m/128:t.kind==="composite"?Xi(m/128,s.upperSize/128,A.uSizeT):f}function Sm(t,A){var s=0,f=0;if(t.kind==="constant")f=t.layoutSize;else if(t.kind!=="source"){var m=t.interpolationType,v=m?$(kn.interpolationFactor(m,A,t.minZoom,t.maxZoom),0,1):0;t.kind==="camera"?f=Xi(t.minSize,t.maxSize,v):s=v}return{uSizeT:s,uSize:f}}Ft("Anchor",yl);var $B=Object.freeze({__proto__:null,getSizeData:Vp,evaluateSizeForFeature:Im,evaluateSizeForZoom:Sm,SIZE_PACK_FACTOR:128});function Tm(t,A,s,f,m){if(A.segment===void 0)return!0;for(var v=A,B=A.segment+1,U=0;U>-s/2;){if(--B<0)return!1;U-=t[B].dist(v),v=t[B]}U+=t[B].dist(t[B+1]),B++;for(var T=[],L=0;U<s/2;){var P=t[B],z=t[B+1];if(!z)return!1;var G=t[B-1].angleTo(P)-P.angleTo(z);for(G=Math.abs((G+3*Math.PI)%(2*Math.PI)-Math.PI),T.push({distance:U,angleDelta:G}),L+=G;U-T[0].distance>f;)L-=T.shift().angleDelta;if(L>m)return!1;B++,U+=P.dist(z)}return!0}function km(t){for(var A=0,s=0;s<t.length-1;s++)A+=t[s].dist(t[s+1]);return A}function Lm(t,A,s){return t?.6*A*s:0}function Mm(t,A){return Math.max(t?t.right-t.left:0,A?A.right-A.left:0)}function eb(t,A,s,f,m,v){for(var B=Lm(s,m,v),U=Mm(s,f)*v,T=0,L=km(t)/2,P=0;P<t.length-1;P++){var z=t[P],G=t[P+1],Z=z.dist(G);if(T+Z>L){var re=(L-T)/Z,ne=Xi(z.x,G.x,re),de=Xi(z.y,G.y,re),ue=new yl(ne,de,G.angleTo(z),P);return ue._round(),!B||Tm(t,ue,U,B,A)?ue:void 0}T+=Z}}function tb(t,A,s,f,m,v,B,U,T){var L=Lm(f,v,B),P=Mm(f,m),z=P*B,G=t[0].x===0||t[0].x===T||t[0].y===0||t[0].y===T;return A-z<A/4&&(A=z+A/4),function Z(re,ne,de,ue,be,Ie,ke,He,qe){for(var nt=Ie/2,ft=km(re),kt=0,vt=ne-de,Ht=[],Bt=0;Bt<re.length-1;Bt++){for(var pr=re[Bt],Zt=re[Bt+1],Qt=pr.dist(Zt),mr=Zt.angleTo(pr);vt+de<kt+Qt;){var or=((vt+=de)-kt)/Qt,kr=Xi(pr.x,Zt.x,or),zt=Xi(pr.y,Zt.y,or);if(kr>=0&&kr<qe&&zt>=0&&zt<qe&&vt-nt>=0&&vt+nt<=ft){var Vr=new yl(kr,zt,mr,Bt);Vr._round(),ue&&!Tm(re,Vr,Ie,ue,be)||Ht.push(Vr)}}kt+=Qt}return He||Ht.length||ke||(Ht=Z(re,kt/2,de,ue,be,Ie,ke,!0,qe)),Ht}(t,G?A/2*U%A:(P/2+2*v)*B*U%A,A,L,s,z,G,!1,T)}function Dm(t,A,s,f,m){for(var v=[],B=0;B<t.length;B++)for(var U=t[B],T=void 0,L=0;L<U.length-1;L++){var P=U[L],z=U[L+1];P.x<A&&z.x<A||(P.x<A?P=new Q(A,P.y+(A-P.x)/(z.x-P.x)*(z.y-P.y))._round():z.x<A&&(z=new Q(A,P.y+(A-P.x)/(z.x-P.x)*(z.y-P.y))._round()),P.y<s&&z.y<s||(P.y<s?P=new Q(P.x+(s-P.y)/(z.y-P.y)*(z.x-P.x),s)._round():z.y<s&&(z=new Q(P.x+(s-P.y)/(z.y-P.y)*(z.x-P.x),s)._round()),P.x>=f&&z.x>=f||(P.x>=f?P=new Q(f,P.y+(f-P.x)/(z.x-P.x)*(z.y-P.y))._round():z.x>=f&&(z=new Q(f,P.y+(f-P.x)/(z.x-P.x)*(z.y-P.y))._round()),P.y>=m&&z.y>=m||(P.y>=m?P=new Q(P.x+(m-P.y)/(z.y-P.y)*(z.x-P.x),m)._round():z.y>=m&&(z=new Q(P.x+(m-P.y)/(z.y-P.y)*(z.x-P.x),m)._round()),T&&P.equals(T[T.length-1])||v.push(T=[P]),T.push(z)))))}return v}function Pm(t,A,s,f){var m=[],v=t.image,B=v.pixelRatio,U=v.paddedRect.w-2,T=v.paddedRect.h-2,L=t.right-t.left,P=t.bottom-t.top,z=v.stretchX||[[0,U]],G=v.stretchY||[[0,T]],Z=function(kr,zt){return kr+zt[1]-zt[0]},re=z.reduce(Z,0),ne=G.reduce(Z,0),de=U-re,ue=T-ne,be=0,Ie=re,ke=0,He=ne,qe=0,nt=de,ft=0,kt=ue;if(v.content&&f){var vt=v.content;be=Sh(z,0,vt[0]),ke=Sh(G,0,vt[1]),Ie=Sh(z,vt[0],vt[2]),He=Sh(G,vt[1],vt[3]),qe=vt[0]-be,ft=vt[1]-ke,nt=vt[2]-vt[0]-Ie,kt=vt[3]-vt[1]-He}var Ht=function(kr,zt,Vr,xi){var zi=Th(kr.stretch-be,Ie,L,t.left),Li=kh(kr.fixed-qe,nt,kr.stretch,re),Ci=Th(zt.stretch-ke,He,P,t.top),Ri=kh(zt.fixed-ft,kt,zt.stretch,ne),un=Th(Vr.stretch-be,Ie,L,t.left),cn=kh(Vr.fixed-qe,nt,Vr.stretch,re),Jn=Th(xi.stretch-ke,He,P,t.top),wn=kh(xi.fixed-ft,kt,xi.stretch,ne),Yn=new Q(zi,Ci),Ni=new Q(un,Ci),Bn=new Q(un,Jn),Br=new Q(zi,Jn),ai=new Q(Li/B,Ri/B),$r=new Q(cn/B,wn/B),Hr=A*Math.PI/180;if(Hr){var iA=Math.sin(Hr),Nn=Math.cos(Hr),_i=[Nn,-iA,iA,Nn];Yn._matMult(_i),Ni._matMult(_i),Br._matMult(_i),Bn._matMult(_i)}var Zi=kr.stretch+kr.fixed,Vn=zt.stretch+zt.fixed;return{tl:Yn,tr:Ni,bl:Br,br:Bn,tex:{x:v.paddedRect.x+1+Zi,y:v.paddedRect.y+1+Vn,w:Vr.stretch+Vr.fixed-Zi,h:xi.stretch+xi.fixed-Vn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ai,pixelOffsetBR:$r,minFontScaleX:nt/B/L,minFontScaleY:kt/B/P,isSDF:s}};if(f&&(v.stretchX||v.stretchY))for(var Bt=Hm(z,de,re),pr=Hm(G,ue,ne),Zt=0;Zt<Bt.length-1;Zt++)for(var Qt=Bt[Zt],mr=Bt[Zt+1],or=0;or<pr.length-1;or++)m.push(Ht(Qt,pr[or],mr,pr[or+1]));else m.push(Ht({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:U+1},{fixed:0,stretch:T+1}));return m}function Sh(t,A,s){for(var f=0,m=0,v=t;m<v.length;m+=1){var B=v[m];f+=Math.max(A,Math.min(s,B[1]))-Math.max(A,Math.min(s,B[0]))}return f}function Hm(t,A,s){for(var f=[{fixed:-1,stretch:0}],m=0,v=t;m<v.length;m+=1){var B=v[m],U=B[0],T=B[1],L=f[f.length-1];f.push({fixed:U-L.stretch,stretch:L.stretch}),f.push({fixed:U-L.stretch,stretch:L.stretch+(T-U)})}return f.push({fixed:A+1,stretch:s}),f}function Th(t,A,s,f){return t/A*s+f}function kh(t,A,s,f){return t-A*s/f}var Lh=function(t,A,s,f,m,v,B,U,T,L){if(this.boxStartIndex=t.length,T){var P=v.top,z=v.bottom,G=v.collisionPadding;G&&(P-=G[1],z+=G[3]);var Z=z-P;Z>0&&(Z=Math.max(10,Z),this.circleDiameter=Z)}else{var re=v.top*B-U,ne=v.bottom*B+U,de=v.left*B-U,ue=v.right*B+U,be=v.collisionPadding;if(be&&(de-=be[0]*B,re-=be[1]*B,ue+=be[2]*B,ne+=be[3]*B),L){var Ie=new Q(de,re),ke=new Q(ue,re),He=new Q(de,ne),qe=new Q(ue,ne),nt=L*Math.PI/180;Ie._rotate(nt),ke._rotate(nt),He._rotate(nt),qe._rotate(nt),de=Math.min(Ie.x,ke.x,He.x,qe.x),ue=Math.max(Ie.x,ke.x,He.x,qe.x),re=Math.min(Ie.y,ke.y,He.y,qe.y),ne=Math.max(Ie.y,ke.y,He.y,qe.y)}t.emplaceBack(A.x,A.y,de,re,ue,ne,s,f,m)}this.boxEndIndex=t.length},_l=function(t,A){if(t===void 0&&(t=[]),A===void 0&&(A=rb),this.data=t,this.length=this.data.length,this.compare=A,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)};function rb(t,A){return t<A?-1:t>A?1:0}function ib(t,A,s){A===void 0&&(A=1),s===void 0&&(s=!1);for(var f=1/0,m=1/0,v=-1/0,B=-1/0,U=t[0],T=0;T<U.length;T++){var L=U[T];(!T||L.x<f)&&(f=L.x),(!T||L.y<m)&&(m=L.y),(!T||L.x>v)&&(v=L.x),(!T||L.y>B)&&(B=L.y)}var P=Math.min(v-f,B-m),z=P/2,G=new _l([],nb);if(P===0)return new Q(f,m);for(var Z=f;Z<v;Z+=P)for(var re=m;re<B;re+=P)G.push(new vl(Z+z,re+z,z,t));for(var ne=function(be){for(var Ie=0,ke=0,He=0,qe=be[0],nt=0,ft=qe.length,kt=ft-1;nt<ft;kt=nt++){var vt=qe[nt],Ht=qe[kt],Bt=vt.x*Ht.y-Ht.x*vt.y;ke+=(vt.x+Ht.x)*Bt,He+=(vt.y+Ht.y)*Bt,Ie+=3*Bt}return new vl(ke/Ie,He/Ie,0,be)}(t),de=G.length;G.length;){var ue=G.pop();(ue.d>ne.d||!ne.d)&&(ne=ue,s&&console.log("found best %d after %d probes",Math.round(1e4*ue.d)/1e4,de)),ue.max-ne.d<=A||(G.push(new vl(ue.p.x-(z=ue.h/2),ue.p.y-z,z,t)),G.push(new vl(ue.p.x+z,ue.p.y-z,z,t)),G.push(new vl(ue.p.x-z,ue.p.y+z,z,t)),G.push(new vl(ue.p.x+z,ue.p.y+z,z,t)),de+=4)}return s&&(console.log("num probes: "+de),console.log("best distance: "+ne.d)),ne.p}function nb(t,A){return A.max-t.max}function vl(t,A,s,f){this.p=new Q(t,A),this.h=s,this.d=function(m,v){for(var B=!1,U=1/0,T=0;T<v.length;T++)for(var L=v[T],P=0,z=L.length,G=z-1;P<z;G=P++){var Z=L[P],re=L[G];Z.y>m.y!=re.y>m.y&&m.x<(re.x-Z.x)*(m.y-Z.y)/(re.y-Z.y)+Z.x&&(B=!B),U=Math.min(U,za(m,Z,re))}return(B?1:-1)*Math.sqrt(U)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}_l.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},_l.prototype.pop=function(){if(this.length!==0){var t=this.data[0],A=this.data.pop();return this.length--,this.length>0&&(this.data[0]=A,this._down(0)),t}},_l.prototype.peek=function(){return this.data[0]},_l.prototype._up=function(t){for(var A=this.data,s=this.compare,f=A[t];t>0;){var m=t-1>>1,v=A[m];if(s(f,v)>=0)break;A[t]=v,t=m}A[t]=f},_l.prototype._down=function(t){for(var A=this.data,s=this.compare,f=this.length>>1,m=A[t];t<f;){var v=1+(t<<1),B=A[v],U=v+1;if(U<this.length&&s(A[U],B)<0&&(v=U,B=A[U]),s(B,m)>=0)break;A[t]=B,t=v}A[t]=m};var Gp=Number.POSITIVE_INFINITY;function zm(t,A){return A[1]!==Gp?function(s,f,m){var v=0,B=0;switch(f=Math.abs(f),m=Math.abs(m),s){case"top-right":case"top-left":case"top":B=m-7;break;case"bottom-right":case"bottom-left":case"bottom":B=7-m}switch(s){case"top-right":case"bottom-right":case"right":v=-f;break;case"top-left":case"bottom-left":case"left":v=f}return[v,B]}(t,A[0],A[1]):function(s,f){var m=0,v=0;f<0&&(f=0);var B=f/Math.sqrt(2);switch(s){case"top-right":case"top-left":v=B-7;break;case"bottom-right":case"bottom-left":v=7-B;break;case"bottom":v=7-f;break;case"top":v=f-7}switch(s){case"top-right":case"bottom-right":m=-B;break;case"top-left":case"bottom-left":m=B;break;case"left":m=f;break;case"right":m=-f}return[m,v]}(t,A[0])}function Xp(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Rm(t,A,s,f,m,v,B,U,T,L,P,z,G,Z,re){var ne=function(ke,He,qe,nt,ft,kt,vt,Ht){for(var Bt=nt.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,pr=[],Zt=0,Qt=He.positionedLines;Zt<Qt.length;Zt+=1)for(var mr=Qt[Zt],or=0,kr=mr.positionedGlyphs;or<kr.length;or+=1){var zt=kr[or];if(zt.rect){var Vr=zt.rect||{},xi=4,zi=!0,Li=1,Ci=0,Ri=(ft||Ht)&&zt.vertical,un=zt.metrics.advance*zt.scale/2;if(Ht&&He.verticalizable&&(Ci=mr.lineOffset/2-(zt.imageName?-(24-zt.metrics.width*zt.scale)/2:24*(zt.scale-1))),zt.imageName){var cn=vt[zt.imageName];zi=cn.sdf,xi=1/(Li=cn.pixelRatio)}var Jn=ft?[zt.x+un,zt.y]:[0,0],wn=ft?[0,0]:[zt.x+un+qe[0],zt.y+qe[1]-Ci],Yn=[0,0];Ri&&(Yn=wn,wn=[0,0]);var Ni=(zt.metrics.left-xi)*zt.scale-un+wn[0],Bn=(-zt.metrics.top-xi)*zt.scale+wn[1],Br=Ni+Vr.w*zt.scale/Li,ai=Bn+Vr.h*zt.scale/Li,$r=new Q(Ni,Bn),Hr=new Q(Br,Bn),iA=new Q(Ni,ai),Nn=new Q(Br,ai);if(Ri){var _i=new Q(-un,un- -17),Zi=-Math.PI/2,Vn=12-un,Gr=new Q(22-Vn,-(zt.imageName?Vn:0)),Po=new(Function.prototype.bind.apply(Q,[null].concat(Yn)));$r._rotateAround(Zi,_i)._add(Gr)._add(Po),Hr._rotateAround(Zi,_i)._add(Gr)._add(Po),iA._rotateAround(Zi,_i)._add(Gr)._add(Po),Nn._rotateAround(Zi,_i)._add(Gr)._add(Po)}if(Bt){var LA=Math.sin(Bt),Ho=Math.cos(Bt),Vi=[Ho,-LA,LA,Ho];$r._matMult(Vi),Hr._matMult(Vi),iA._matMult(Vi),Nn._matMult(Vi)}var zo=new Q(0,0),Ao=new Q(0,0);pr.push({tl:$r,tr:Hr,bl:iA,br:Nn,tex:Vr,writingMode:He.writingMode,glyphOffset:Jn,sectionIndex:zt.sectionIndex,isSDF:zi,pixelOffsetTL:zo,pixelOffsetBR:Ao,minFontScaleX:0,minFontScaleY:0})}}return pr}(0,s,U,m,v,B,f,t.allowVerticalPlacement),de=t.textSizeData,ue=null;de.kind==="source"?(ue=[128*m.layout.get("text-size").evaluate(B,{})])[0]>32640&&Qe(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):de.kind==="composite"&&((ue=[128*Z.compositeTextSizes[0].evaluate(B,{},re),128*Z.compositeTextSizes[1].evaluate(B,{},re)])[0]>32640||ue[1]>32640)&&Qe(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,ne,ue,U,v,B,L,A,T.lineStartIndex,T.lineLength,G,re);for(var be=0,Ie=P;be<Ie.length;be+=1)z[Ie[be]]=t.text.placedSymbolArray.length-1;return 4*ne.length}function Om(t){for(var A in t)return t[A];return null}function Ab(t,A,s,f){var m=t.compareText;if(A in m){for(var v=m[A],B=v.length-1;B>=0;B--)if(f.dist(v[B])<s)return!0}else m[A]=[];return m[A].push(f),!1}var ob=pl.VectorTileFeature.types,ab=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Mh(t,A,s,f,m,v,B,U,T,L,P,z,G){var Z=U?Math.min(32640,Math.round(U[0])):0,re=U?Math.min(32640,Math.round(U[1])):0;t.emplaceBack(A,s,Math.round(32*f),Math.round(32*m),v,B,(Z<<1)+(T?1:0),re,16*L,16*P,256*z,256*G)}function jp(t,A,s){t.emplaceBack(A.x,A.y,s),t.emplaceBack(A.x,A.y,s),t.emplaceBack(A.x,A.y,s),t.emplaceBack(A.x,A.y,s)}function sb(t){for(var A=0,s=t.sections;A<s.length;A+=1)if(il(s[A].text))return!0;return!1}var wl=function(t){this.layoutVertexArray=new al,this.indexArray=new So,this.programConfigurations=t,this.segments=new W,this.dynamicLayoutVertexArray=new Da,this.opacityVertexArray=new _s,this.placedSymbolArray=new d};wl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},wl.prototype.upload=function(t,A,s,f){this.isEmpty()||(s&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,LB.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,A),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,MB.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,ab,!0),this.opacityVertexBuffer.itemSize=1),(s||f)&&this.programConfigurations.upload(t))},wl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ft("SymbolBuffers",wl);var Ku=function(t,A,s){this.layoutVertexArray=new t,this.layoutAttributes=A,this.indexArray=new s,this.segments=new W,this.collisionVertexArray=new Iu};Ku.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,DB.members,!0)},Ku.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ft("CollisionBuffers",Ku);var ni=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(v){return v.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=bA([]),this.placementViewportMatrix=bA([]);var A=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Vp(this.zoom,A["text-size"]),this.iconSizeData=Vp(this.zoom,A["icon-size"]);var s=this.layers[0].layout,f=s.get("symbol-sort-key"),m=s.get("symbol-z-order");this.canOverlap=s.get("text-allow-overlap")||s.get("icon-allow-overlap")||s.get("text-ignore-placement")||s.get("icon-ignore-placement"),this.sortFeaturesByKey=m!=="viewport-y"&&f.constantOr(1)!==void 0,this.sortFeaturesByY=(m==="viewport-y"||m==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,s.get("symbol-placement")==="point"&&(this.writingModes=s.get("text-writing-mode").map(function(v){return kA[v]})),this.stateDependentLayerIds=this.layers.filter(function(v){return v.isStateDependent()}).map(function(v){return v.id}),this.sourceID=t.sourceID};ni.prototype.createArrays=function(){this.text=new wl(new Xt(this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new wl(new Xt(this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.glyphOffsetArray=new E,this.lineVertexArray=new S,this.symbolInstances=new C},ni.prototype.calculateGlyphDependencies=function(t,A,s,f,m){for(var v=0;v<t.length;v++)if(A[t.charCodeAt(v)]=!0,(s||f)&&m){var B=zu[t.charAt(v)];B&&(A[B.charCodeAt(0)]=!0)}},ni.prototype.populate=function(t,A,s){var f=this.layers[0],m=f.layout,v=m.get("text-font"),B=m.get("text-field"),U=m.get("icon-image"),T=(B.value.kind!=="constant"||B.value.value instanceof Di&&!B.value.value.isEmpty()||B.value.value.toString().length>0)&&(v.value.kind!=="constant"||v.value.value.length>0),L=U.value.kind!=="constant"||!!U.value.value||Object.keys(U.parameters).length>0,P=m.get("symbol-sort-key");if(this.features=[],T||L){for(var z=A.iconDependencies,G=A.glyphDependencies,Z=A.availableImages,re=new _r(this.zoom),ne=0,de=t;ne<de.length;ne+=1){var ue=de[ne],be=ue.feature,Ie=ue.id,ke=ue.index,He=ue.sourceLayerIndex,qe=f._featureFilter.needGeometry,nt=Ki(be,qe);if(f._featureFilter.filter(re,nt,s)){qe||(nt.geometry=ki(be));var ft=void 0;if(T){var kt=f.getValueAndResolveTokens("text-field",nt,s,Z),vt=Di.factory(kt);sb(vt)&&(this.hasRTLText=!0),(!this.hasRTLText||Fu()==="unavailable"||this.hasRTLText&&BA.isParsed())&&(ft=HB(vt,f,nt))}var Ht=void 0;if(L){var Bt=f.getValueAndResolveTokens("icon-image",nt,s,Z);Ht=Bt instanceof an?Bt:an.fromString(Bt)}if(ft||Ht){var pr=this.sortFeaturesByKey?P.evaluate(nt,{},s):void 0;if(this.features.push({id:Ie,text:ft,icon:Ht,index:ke,sourceLayerIndex:He,geometry:nt.geometry,properties:be.properties,type:ob[be.type],sortKey:pr}),Ht&&(z[Ht.name]=!0),ft){var Zt=v.evaluate(nt,{},s).join(","),Qt=m.get("text-rotation-alignment")==="map"&&m.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(kA.vertical)>=0;for(var mr=0,or=ft.sections;mr<or.length;mr+=1){var kr=or[mr];if(kr.image)z[kr.image.name]=!0;else{var zt=bu(ft.toString()),Vr=kr.fontStack||Zt,xi=G[Vr]=G[Vr]||{};this.calculateGlyphDependencies(kr.text,xi,Qt,this.allowVerticalPlacement,zt)}}}}}}m.get("symbol-placement")==="line"&&(this.features=function(zi){var Li={},Ci={},Ri=[],un=0;function cn(_i){Ri.push(zi[_i]),un++}function Jn(_i,Zi,Vn){var Gr=Ci[_i];return delete Ci[_i],Ci[Zi]=Gr,Ri[Gr].geometry[0].pop(),Ri[Gr].geometry[0]=Ri[Gr].geometry[0].concat(Vn[0]),Gr}function wn(_i,Zi,Vn){var Gr=Li[Zi];return delete Li[Zi],Li[_i]=Gr,Ri[Gr].geometry[0].shift(),Ri[Gr].geometry[0]=Vn[0].concat(Ri[Gr].geometry[0]),Gr}function Yn(_i,Zi,Vn){var Gr=Vn?Zi[0][Zi[0].length-1]:Zi[0][0];return _i+":"+Gr.x+":"+Gr.y}for(var Ni=0;Ni<zi.length;Ni++){var Bn=zi[Ni],Br=Bn.geometry,ai=Bn.text?Bn.text.toString():null;if(ai){var $r=Yn(ai,Br),Hr=Yn(ai,Br,!0);if($r in Ci&&Hr in Li&&Ci[$r]!==Li[Hr]){var iA=wn($r,Hr,Br),Nn=Jn($r,Hr,Ri[iA].geometry);delete Li[$r],delete Ci[Hr],Ci[Yn(ai,Ri[Nn].geometry,!0)]=Nn,Ri[iA].geometry=null}else $r in Ci?Jn($r,Hr,Br):Hr in Li?wn($r,Hr,Br):(cn(Ni),Li[$r]=un-1,Ci[Hr]=un-1)}else cn(Ni)}return Ri.filter(function(_i){return _i.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(zi,Li){return zi.sortKey-Li.sortKey})}},ni.prototype.update=function(t,A,s){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,A,this.layers,s),this.icon.programConfigurations.updatePaintArrays(t,A,this.layers,s))},ni.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},ni.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ni.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ni.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ni.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ni.prototype.addToLineVertexArray=function(t,A){var s=this.lineVertexArray.length;if(t.segment!==void 0){for(var f=t.dist(A[t.segment+1]),m=t.dist(A[t.segment]),v={},B=t.segment+1;B<A.length;B++)v[B]={x:A[B].x,y:A[B].y,tileUnitDistanceFromAnchor:f},B<A.length-1&&(f+=A[B+1].dist(A[B]));for(var U=t.segment||0;U>=0;U--)v[U]={x:A[U].x,y:A[U].y,tileUnitDistanceFromAnchor:m},U>0&&(m+=A[U-1].dist(A[U]));for(var T=0;T<A.length;T++){var L=v[T];this.lineVertexArray.emplaceBack(L.x,L.y,L.tileUnitDistanceFromAnchor)}}return{lineStartIndex:s,lineLength:this.lineVertexArray.length-s}},ni.prototype.addSymbols=function(t,A,s,f,m,v,B,U,T,L,P,z){for(var G=t.indexArray,Z=t.layoutVertexArray,re=t.segments.prepareSegment(4*A.length,Z,G,this.canOverlap?v.sortKey:void 0),ne=this.glyphOffsetArray.length,de=re.vertexLength,ue=this.allowVerticalPlacement&&B===kA.vertical?Math.PI/2:0,be=v.text&&v.text.sections,Ie=0;Ie<A.length;Ie++){var ke=A[Ie],He=ke.tl,qe=ke.tr,nt=ke.bl,ft=ke.br,kt=ke.tex,vt=ke.pixelOffsetTL,Ht=ke.pixelOffsetBR,Bt=ke.minFontScaleX,pr=ke.minFontScaleY,Zt=ke.glyphOffset,Qt=ke.isSDF,mr=ke.sectionIndex,or=re.vertexLength,kr=Zt[1];Mh(Z,U.x,U.y,He.x,kr+He.y,kt.x,kt.y,s,Qt,vt.x,vt.y,Bt,pr),Mh(Z,U.x,U.y,qe.x,kr+qe.y,kt.x+kt.w,kt.y,s,Qt,Ht.x,vt.y,Bt,pr),Mh(Z,U.x,U.y,nt.x,kr+nt.y,kt.x,kt.y+kt.h,s,Qt,vt.x,Ht.y,Bt,pr),Mh(Z,U.x,U.y,ft.x,kr+ft.y,kt.x+kt.w,kt.y+kt.h,s,Qt,Ht.x,Ht.y,Bt,pr),jp(t.dynamicLayoutVertexArray,U,ue),G.emplaceBack(or,or+1,or+2),G.emplaceBack(or+1,or+2,or+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Zt[0]),Ie!==A.length-1&&mr===A[Ie+1].sectionIndex||t.programConfigurations.populatePaintArrays(Z.length,v,v.index,{},z,be&&be[mr])}t.placedSymbolArray.emplaceBack(U.x,U.y,ne,this.glyphOffsetArray.length-ne,de,T,L,U.segment,s?s[0]:0,s?s[1]:0,f[0],f[1],B,0,!1,0,P)},ni.prototype._addCollisionDebugVertex=function(t,A,s,f,m,v){return A.emplaceBack(0,0),t.emplaceBack(s.x,s.y,f,m,Math.round(v.x),Math.round(v.y))},ni.prototype.addCollisionDebugVertices=function(t,A,s,f,m,v,B){var U=m.segments.prepareSegment(4,m.layoutVertexArray,m.indexArray),T=U.vertexLength,L=m.layoutVertexArray,P=m.collisionVertexArray,z=B.anchorX,G=B.anchorY;this._addCollisionDebugVertex(L,P,v,z,G,new Q(t,A)),this._addCollisionDebugVertex(L,P,v,z,G,new Q(s,A)),this._addCollisionDebugVertex(L,P,v,z,G,new Q(s,f)),this._addCollisionDebugVertex(L,P,v,z,G,new Q(t,f)),U.vertexLength+=4;var Z=m.indexArray;Z.emplaceBack(T,T+1),Z.emplaceBack(T+1,T+2),Z.emplaceBack(T+2,T+3),Z.emplaceBack(T+3,T),U.primitiveLength+=4},ni.prototype.addDebugCollisionBoxes=function(t,A,s,f){for(var m=t;m<A;m++){var v=this.collisionBoxArray.get(m);this.addCollisionDebugVertices(v.x1,v.y1,v.x2,v.y2,f?this.textCollisionBox:this.iconCollisionBox,v.anchorPoint,s)}},ni.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ku(Pa,_m.members,vs),this.iconCollisionBox=new Ku(Pa,_m.members,vs);for(var t=0;t<this.symbolInstances.length;t++){var A=this.symbolInstances.get(t);this.addDebugCollisionBoxes(A.textBoxStartIndex,A.textBoxEndIndex,A,!0),this.addDebugCollisionBoxes(A.verticalTextBoxStartIndex,A.verticalTextBoxEndIndex,A,!0),this.addDebugCollisionBoxes(A.iconBoxStartIndex,A.iconBoxEndIndex,A,!1),this.addDebugCollisionBoxes(A.verticalIconBoxStartIndex,A.verticalIconBoxEndIndex,A,!1)}},ni.prototype._deserializeCollisionBoxesForSymbol=function(t,A,s,f,m,v,B,U,T){for(var L={},P=A;P<s;P++){var z=t.get(P);L.textBox={x1:z.x1,y1:z.y1,x2:z.x2,y2:z.y2,anchorPointX:z.anchorPointX,anchorPointY:z.anchorPointY},L.textFeatureIndex=z.featureIndex;break}for(var G=f;G<m;G++){var Z=t.get(G);L.verticalTextBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},L.verticalTextFeatureIndex=Z.featureIndex;break}for(var re=v;re<B;re++){var ne=t.get(re);L.iconBox={x1:ne.x1,y1:ne.y1,x2:ne.x2,y2:ne.y2,anchorPointX:ne.anchorPointX,anchorPointY:ne.anchorPointY},L.iconFeatureIndex=ne.featureIndex;break}for(var de=U;de<T;de++){var ue=t.get(de);L.verticalIconBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},L.verticalIconFeatureIndex=ue.featureIndex;break}return L},ni.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var A=0;A<this.symbolInstances.length;A++){var s=this.symbolInstances.get(A);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,s.textBoxStartIndex,s.textBoxEndIndex,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex))}},ni.prototype.hasTextData=function(){return this.text.segments.get().length>0},ni.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ni.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ni.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ni.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ni.prototype.addIndicesForPlacedSymbol=function(t,A){for(var s=t.placedSymbolArray.get(A),f=s.vertexStartIndex+4*s.numGlyphs,m=s.vertexStartIndex;m<f;m+=4)t.indexArray.emplaceBack(m,m+1,m+2),t.indexArray.emplaceBack(m+1,m+2,m+3)},ni.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var A=Math.sin(t),s=Math.cos(t),f=[],m=[],v=[],B=0;B<this.symbolInstances.length;++B){v.push(B);var U=this.symbolInstances.get(B);f.push(0|Math.round(A*U.anchorX+s*U.anchorY)),m.push(U.featureIndex)}return v.sort(function(T,L){return f[T]-f[L]||m[L]-m[T]}),v},ni.prototype.addToSortKeyRanges=function(t,A){var s=this.sortKeyRanges[this.sortKeyRanges.length-1];s&&s.sortKey===A?s.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:A,symbolInstanceStart:t,symbolInstanceEnd:t+1})},ni.prototype.sortFeatures=function(t){var A=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var s=0,f=this.symbolInstanceIndexes;s<f.length;s+=1){var m=this.symbolInstances.get(f[s]);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach(function(v,B,U){v>=0&&U.indexOf(v)===B&&A.addIndicesForPlacedSymbol(A.text,v)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ft("SymbolBucket",ni,{omit:["layers","collisionBoxArray","features","compareText"]}),ni.MAX_GLYPHS=65535,ni.addDynamicAttributes=jp;var lb=new Mn({"symbol-placement":new Dt(X.layout_symbol["symbol-placement"]),"symbol-spacing":new Dt(X.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Dt(X.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ut(X.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Dt(X.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Dt(X.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Dt(X.layout_symbol["icon-ignore-placement"]),"icon-optional":new Dt(X.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Dt(X.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ut(X.layout_symbol["icon-size"]),"icon-text-fit":new Dt(X.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Dt(X.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ut(X.layout_symbol["icon-image"]),"icon-rotate":new Ut(X.layout_symbol["icon-rotate"]),"icon-padding":new Dt(X.layout_symbol["icon-padding"]),"icon-keep-upright":new Dt(X.layout_symbol["icon-keep-upright"]),"icon-offset":new Ut(X.layout_symbol["icon-offset"]),"icon-anchor":new Ut(X.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Dt(X.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Dt(X.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Dt(X.layout_symbol["text-rotation-alignment"]),"text-field":new Ut(X.layout_symbol["text-field"]),"text-font":new Ut(X.layout_symbol["text-font"]),"text-size":new Ut(X.layout_symbol["text-size"]),"text-max-width":new Ut(X.layout_symbol["text-max-width"]),"text-line-height":new Dt(X.layout_symbol["text-line-height"]),"text-letter-spacing":new Ut(X.layout_symbol["text-letter-spacing"]),"text-justify":new Ut(X.layout_symbol["text-justify"]),"text-radial-offset":new Ut(X.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Dt(X.layout_symbol["text-variable-anchor"]),"text-anchor":new Ut(X.layout_symbol["text-anchor"]),"text-max-angle":new Dt(X.layout_symbol["text-max-angle"]),"text-writing-mode":new Dt(X.layout_symbol["text-writing-mode"]),"text-rotate":new Ut(X.layout_symbol["text-rotate"]),"text-padding":new Dt(X.layout_symbol["text-padding"]),"text-keep-upright":new Dt(X.layout_symbol["text-keep-upright"]),"text-transform":new Ut(X.layout_symbol["text-transform"]),"text-offset":new Ut(X.layout_symbol["text-offset"]),"text-allow-overlap":new Dt(X.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Dt(X.layout_symbol["text-ignore-placement"]),"text-optional":new Dt(X.layout_symbol["text-optional"])}),Zp={paint:new Mn({"icon-opacity":new Ut(X.paint_symbol["icon-opacity"]),"icon-color":new Ut(X.paint_symbol["icon-color"]),"icon-halo-color":new Ut(X.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ut(X.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ut(X.paint_symbol["icon-halo-blur"]),"icon-translate":new Dt(X.paint_symbol["icon-translate"]),"icon-translate-anchor":new Dt(X.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ut(X.paint_symbol["text-opacity"]),"text-color":new Ut(X.paint_symbol["text-color"],{runtimeType:ht,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Ut(X.paint_symbol["text-halo-color"]),"text-halo-width":new Ut(X.paint_symbol["text-halo-width"]),"text-halo-blur":new Ut(X.paint_symbol["text-halo-blur"]),"text-translate":new Dt(X.paint_symbol["text-translate"]),"text-translate-anchor":new Dt(X.paint_symbol["text-translate-anchor"])}),layout:lb},Bl=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:_t,this.defaultValue=t};Bl.prototype.evaluate=function(t){if(t.formattedSection){var A=this.defaultValue.property.overrides;if(A&&A.hasOverride(t.formattedSection))return A.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Bl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Bl.prototype.outputDefined=function(){return!1},Bl.prototype.serialize=function(){return null},Ft("FormatSectionOverride",Bl,{omit:["defaultValue"]});var ub=function(t){function A(s){t.call(this,s,Zp)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.recalculate=function(s,f){if(t.prototype.recalculate.call(this,s,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var m=this.layout.get("text-writing-mode");if(m){for(var v=[],B=0,U=m;B<U.length;B+=1){var T=U[B];v.indexOf(T)<0&&v.push(T)}this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},A.prototype.getValueAndResolveTokens=function(s,f,m,v){var B=this.layout.get(s).evaluate(f,{},m,v),U=this._unevaluatedLayout._values[s];return U.isDataDriven()||ss(U.value)||!B?B:function(T,L){return L.replace(/{([^{}]+)}/g,function(P,z){return z in T?String(T[z]):""})}(f.properties,B)},A.prototype.createBucket=function(s){return new ni(s)},A.prototype.queryRadius=function(){return 0},A.prototype.queryIntersectsFeature=function(){return!1},A.prototype._setPaintOverrides=function(){for(var s=0,f=Zp.paint.overridableProperties;s<f.length;s+=1){var m=f[s];if(A.hasPaintOverride(this.layout,m)){var v,B=this.paint.get(m),U=new Bl(B),T=new Ia(U,B.property.specification);v=B.value.kind==="constant"||B.value.kind==="source"?new ls("source",T):new Sa("composite",T,B.value.zoomStops,B.value._interpolationType),this.paint._values[m]=new jn(B.property,v,B.parameters)}}},A.prototype._handleOverridablePaintPropertyUpdate=function(s,f,m){return!(!this.layout||f.isDataDriven()||m.isDataDriven())&&A.hasPaintOverride(this.layout,s)},A.hasPaintOverride=function(s,f){var m=s.get("text-field"),v=Zp.paint.properties[f],B=!1,U=function(P){for(var z=0,G=P;z<G.length;z+=1)if(v.overrides&&v.overrides.hasOverride(G[z]))return void(B=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Di)U(m.value.value.sections);else if(m.value.kind==="source"){var T=function(P){B||(P instanceof Ji&&mi(P.value)===Mr?U(P.value.sections):P instanceof oA?U(P.sections):P.eachChild(T))},L=m.value;L._styleExpression&&T(L._styleExpression.expression)}return B},A}(to),cb={paint:new Mn({"background-color":new Dt(X.paint_background["background-color"]),"background-pattern":new Zn(X.paint_background["background-pattern"]),"background-opacity":new Dt(X.paint_background["background-opacity"])})},hb=function(t){function A(s){t.call(this,s,cb)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A}(to),fb={paint:new Mn({"raster-opacity":new Dt(X.paint_raster["raster-opacity"]),"raster-hue-rotate":new Dt(X.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Dt(X.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Dt(X.paint_raster["raster-brightness-max"]),"raster-saturation":new Dt(X.paint_raster["raster-saturation"]),"raster-contrast":new Dt(X.paint_raster["raster-contrast"]),"raster-resampling":new Dt(X.paint_raster["raster-resampling"]),"raster-fade-duration":new Dt(X.paint_raster["raster-fade-duration"])})},pb=function(t){function A(s){t.call(this,s,fb)}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A}(to),db=function(t){function A(s){t.call(this,s,{}),this.implementation=s}return t&&(A.__proto__=t),(A.prototype=Object.create(t&&t.prototype)).constructor=A,A.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},A.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},A.prototype.recalculate=function(){},A.prototype.updateTransitions=function(){},A.prototype.hasTransition=function(){},A.prototype.serialize=function(){},A.prototype.onAdd=function(s){this.implementation.onAdd&&this.implementation.onAdd(s,s.painter.context.gl)},A.prototype.onRemove=function(s){this.implementation.onRemove&&this.implementation.onRemove(s,s.painter.context.gl)},A}(to),gb={circle:Tp,heatmap:$w,hillshade:tB,fill:yB,"fill-extrusion":EB,line:kB,symbol:ub,background:hb,raster:pb},Km=I.HTMLImageElement,Nm=I.HTMLCanvasElement,Vm=I.HTMLVideoElement,Gm=I.ImageData,Dh=I.ImageBitmap,Fs=function(t,A,s,f){this.context=t,this.format=s,this.texture=t.gl.createTexture(),this.update(A,f)};Fs.prototype.update=function(t,A,s){var f=t.width,m=t.height,v=!(this.size&&this.size[0]===f&&this.size[1]===m||s),B=this.context,U=B.gl;if(this.useMipmap=Boolean(A&&A.useMipmap),U.bindTexture(U.TEXTURE_2D,this.texture),B.pixelStoreUnpackFlipY.set(!1),B.pixelStoreUnpack.set(1),B.pixelStoreUnpackPremultiplyAlpha.set(this.format===U.RGBA&&(!A||A.premultiply!==!1)),v)this.size=[f,m],t instanceof Km||t instanceof Nm||t instanceof Vm||t instanceof Gm||Dh&&t instanceof Dh?U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,U.UNSIGNED_BYTE,t):U.texImage2D(U.TEXTURE_2D,0,this.format,f,m,0,this.format,U.UNSIGNED_BYTE,t.data);else{var T=s||{x:0,y:0},L=T.x,P=T.y;t instanceof Km||t instanceof Nm||t instanceof Vm||t instanceof Gm||Dh&&t instanceof Dh?U.texSubImage2D(U.TEXTURE_2D,0,L,P,U.RGBA,U.UNSIGNED_BYTE,t):U.texSubImage2D(U.TEXTURE_2D,0,L,P,f,m,U.RGBA,U.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&U.generateMipmap(U.TEXTURE_2D)},Fs.prototype.bind=function(t,A,s){var f=this.context.gl;f.bindTexture(f.TEXTURE_2D,this.texture),s!==f.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(s=f.LINEAR),t!==this.filter&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,t),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,s||t),this.filter=t),A!==this.wrap&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,A),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,A),this.wrap=A)},Fs.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Fs.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var qp=function(t){var A=this;this._callback=t,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){A._triggered=!1,A._callback()})};qp.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},qp.prototype.remove=function(){delete this._channel,this._callback=function(){}};var bl=function(t,A,s){this.target=t,this.parent=A,this.mapId=s,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Ge(["receive","process"],this),this.invoker=new qp(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Fe()?t:I};function Xm(t,A,s){var f=2*Math.PI*6378137/256/Math.pow(2,s);return[t*f-2*Math.PI*6378137/2,A*f-2*Math.PI*6378137/2]}bl.prototype.send=function(t,A,s,f,m){var v=this;m===void 0&&(m=!1);var B=Math.round(1e18*Math.random()).toString(36).substring(0,10);s&&(this.callbacks[B]=s);var U=Tt(this.globalScope)?void 0:[];return this.target.postMessage({id:B,type:t,hasCallback:!!s,targetMapId:f,mustQueue:m,sourceMapId:this.mapId,data:RA(A,U)},U),{cancel:function(){s&&delete v.callbacks[B],v.target.postMessage({id:B,type:"<cancel>",targetMapId:f,sourceMapId:v.mapId})}}},bl.prototype.receive=function(t){var A=t.data,s=A.id;if(s&&(!A.targetMapId||this.mapId===A.targetMapId))if(A.type==="<cancel>"){delete this.tasks[s];var f=this.cancelCallbacks[s];delete this.cancelCallbacks[s],f&&f()}else Fe()||A.mustQueue?(this.tasks[s]=A,this.taskQueue.push(s),this.invoker.trigger()):this.processTask(s,A)},bl.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),A=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),A&&this.processTask(t,A)}},bl.prototype.processTask=function(t,A){var s=this;if(A.type==="<response>"){var f=this.callbacks[t];delete this.callbacks[t],f&&(A.error?f(uA(A.error)):f(null,uA(A.data)))}else{var m=!1,v=Tt(this.globalScope)?void 0:[],B=A.hasCallback?function(P,z){m=!0,delete s.cancelCallbacks[t],s.target.postMessage({id:t,type:"<response>",sourceMapId:s.mapId,error:P?RA(P):null,data:RA(z,v)},v)}:function(P){m=!0},U=null,T=uA(A.data);if(this.parent[A.type])U=this.parent[A.type](A.sourceMapId,T,B);else if(this.parent.getWorkerSource){var L=A.type.split(".");U=this.parent.getWorkerSource(A.sourceMapId,L[0],T.source)[L[1]](T,B)}else B(new Error("Could not find function "+A.type));!m&&U&&U.cancel&&(this.cancelCallbacks[t]=U.cancel)}},bl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var rn=function(t,A){t&&(A?this.setSouthWest(t).setNorthEast(A):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};rn.prototype.setNorthEast=function(t){return this._ne=t instanceof bi?new bi(t.lng,t.lat):bi.convert(t),this},rn.prototype.setSouthWest=function(t){return this._sw=t instanceof bi?new bi(t.lng,t.lat):bi.convert(t),this},rn.prototype.extend=function(t){var A,s,f=this._sw,m=this._ne;if(t instanceof bi)A=t,s=t;else{if(!(t instanceof rn))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(rn.convert(t)):this.extend(bi.convert(t)):this;if(s=t._ne,!(A=t._sw)||!s)return this}return f||m?(f.lng=Math.min(A.lng,f.lng),f.lat=Math.min(A.lat,f.lat),m.lng=Math.max(s.lng,m.lng),m.lat=Math.max(s.lat,m.lat)):(this._sw=new bi(A.lng,A.lat),this._ne=new bi(s.lng,s.lat)),this},rn.prototype.getCenter=function(){return new bi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},rn.prototype.getSouthWest=function(){return this._sw},rn.prototype.getNorthEast=function(){return this._ne},rn.prototype.getNorthWest=function(){return new bi(this.getWest(),this.getNorth())},rn.prototype.getSouthEast=function(){return new bi(this.getEast(),this.getSouth())},rn.prototype.getWest=function(){return this._sw.lng},rn.prototype.getSouth=function(){return this._sw.lat},rn.prototype.getEast=function(){return this._ne.lng},rn.prototype.getNorth=function(){return this._ne.lat},rn.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},rn.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},rn.prototype.isEmpty=function(){return!(this._sw&&this._ne)},rn.prototype.contains=function(t){var A=bi.convert(t),s=A.lng,f=A.lat,m=this._sw.lng<=s&&s<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=s&&s>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&m},rn.convert=function(t){return!t||t instanceof rn?t:new rn(t)};var bi=function(t,A){if(isNaN(t)||isNaN(A))throw new Error("Invalid LngLat object: ("+t+", "+A+")");if(this.lng=+t,this.lat=+A,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};bi.prototype.wrap=function(){return new bi(R(this.lng,-180,180),this.lat)},bi.prototype.toArray=function(){return[this.lng,this.lat]},bi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},bi.prototype.distanceTo=function(t){var A=Math.PI/180,s=this.lat*A,f=t.lat*A,m=Math.sin(s)*Math.sin(f)+Math.cos(s)*Math.cos(f)*Math.cos((t.lng-this.lng)*A);return 63710088e-1*Math.acos(Math.min(m,1))},bi.prototype.toBounds=function(t){t===void 0&&(t=0);var A=360*t/40075017,s=A/Math.cos(Math.PI/180*this.lat);return new rn(new bi(this.lng-s,this.lat-A),new bi(this.lng+s,this.lat+A))},bi.convert=function(t){if(t instanceof bi)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new bi(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new bi(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var jm=2*Math.PI*63710088e-1;function Zm(t){return jm*Math.cos(t*Math.PI/180)}function qm(t){return(180+t)/360}function Wm(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Jm(t,A){return t/Zm(A)}function Wp(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Es=function(t,A,s){s===void 0&&(s=0),this.x=+t,this.y=+A,this.z=+s};Es.fromLngLat=function(t,A){A===void 0&&(A=0);var s=bi.convert(t);return new Es(qm(s.lng),Wm(s.lat),Jm(A,s.lat))},Es.prototype.toLngLat=function(){return new bi(360*this.x-180,Wp(this.y))},Es.prototype.toAltitude=function(){return this.z*Zm(Wp(this.y))},Es.prototype.meterInMercatorCoordinateUnits=function(){return 1/jm*(t=Wp(this.y),1/Math.cos(t*Math.PI/180));var t};var Us=function(t,A,s){this.z=t,this.x=A,this.y=s,this.key=Nu(0,t,t,A,s)};Us.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Us.prototype.url=function(t,A){var s,f,m,v,B,U=(f=this.y,m=this.z,v=Xm(256*(s=this.x),256*(f=Math.pow(2,m)-f-1),m),B=Xm(256*(s+1),256*(f+1),m),v[0]+","+v[1]+","+B[0]+","+B[1]),T=function(L,P,z){for(var G,Z="",re=L;re>0;re--)Z+=(P&(G=1<<re-1)?1:0)+(z&G?2:0);return Z}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(A==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",T).replace("{bbox-epsg-3857}",U)},Us.prototype.getTilePoint=function(t){var A=Math.pow(2,this.z);return new Q(8192*(t.x*A-this.x),8192*(t.y*A-this.y))},Us.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Ym=function(t,A){this.wrap=t,this.canonical=A,this.key=Nu(t,A.z,A.z,A.x,A.y)},nn=function(t,A,s,f,m){this.overscaledZ=t,this.wrap=A,this.canonical=new Us(s,+f,+m),this.key=Nu(A,t,s,f,m)};function Nu(t,A,s,f,m){(t*=2)<0&&(t=-1*t-1);var v=1<<s;return(v*v*t+v*m+f).toString(36)+s.toString(36)+A.toString(36)}nn.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},nn.prototype.scaledTo=function(t){var A=this.canonical.z-t;return t>this.canonical.z?new nn(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new nn(t,this.wrap,t,this.canonical.x>>A,this.canonical.y>>A)},nn.prototype.calculateScaledKey=function(t,A){var s=this.canonical.z-t;return t>this.canonical.z?Nu(this.wrap*+A,t,this.canonical.z,this.canonical.x,this.canonical.y):Nu(this.wrap*+A,t,t,this.canonical.x>>s,this.canonical.y>>s)},nn.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var A=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>A&&t.canonical.y===this.canonical.y>>A},nn.prototype.children=function(t){if(this.overscaledZ>=t)return[new nn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var A=this.canonical.z+1,s=2*this.canonical.x,f=2*this.canonical.y;return[new nn(A,this.wrap,A,s,f),new nn(A,this.wrap,A,s+1,f),new nn(A,this.wrap,A,s,f+1),new nn(A,this.wrap,A,s+1,f+1)]},nn.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},nn.prototype.wrapped=function(){return new nn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},nn.prototype.unwrapTo=function(t){return new nn(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},nn.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},nn.prototype.toUnwrapped=function(){return new Ym(this.wrap,this.canonical)},nn.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},nn.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Es(t.x-this.wrap,t.y))},Ft("CanonicalTileID",Us),Ft("OverscaledTileID",nn,{omit:["posMatrix"]});var da=function(t,A,s){if(this.uid=t,A.height!==A.width)throw new RangeError("DEM tiles must be square");if(s&&s!=="mapbox"&&s!=="terrarium")return Qe('"'+s+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=A.height;var f=this.dim=A.height-2;this.data=new Uint32Array(A.data.buffer),this.encoding=s||"mapbox";for(var m=0;m<f;m++)this.data[this._idx(-1,m)]=this.data[this._idx(0,m)],this.data[this._idx(f,m)]=this.data[this._idx(f-1,m)],this.data[this._idx(m,-1)]=this.data[this._idx(m,0)],this.data[this._idx(m,f)]=this.data[this._idx(m,f-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(f,-1)]=this.data[this._idx(f-1,0)],this.data[this._idx(-1,f)]=this.data[this._idx(0,f-1)],this.data[this._idx(f,f)]=this.data[this._idx(f-1,f-1)]};da.prototype.get=function(t,A){var s=new Uint8Array(this.data.buffer),f=4*this._idx(t,A);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(s[f],s[f+1],s[f+2])},da.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},da.prototype._idx=function(t,A){if(t<-1||t>=this.dim+1||A<-1||A>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(A+1)*this.stride+(t+1)},da.prototype._unpackMapbox=function(t,A,s){return(256*t*256+256*A+s)/10-1e4},da.prototype._unpackTerrarium=function(t,A,s){return 256*t+A+s/256-32768},da.prototype.getPixels=function(){return new dA({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},da.prototype.backfillBorder=function(t,A,s){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var f=A*this.dim,m=A*this.dim+this.dim,v=s*this.dim,B=s*this.dim+this.dim;switch(A){case-1:f=m-1;break;case 1:m=f+1}switch(s){case-1:v=B-1;break;case 1:B=v+1}for(var U=-A*this.dim,T=-s*this.dim,L=v;L<B;L++)for(var P=f;P<m;P++)this.data[this._idx(P,L)]=t.data[this._idx(P+U,L+T)]},Ft("DEMData",da);var Ph=function(t){this._stringToNumber={},this._numberToString=[];for(var A=0;A<t.length;A++){var s=t[A];this._stringToNumber[s]=A,this._numberToString[A]=s}};Ph.prototype.encode=function(t){return this._stringToNumber[t]},Ph.prototype.decode=function(t){return this._numberToString[t]};var Hh=function(t,A,s,f,m){this.type="Feature",this._vectorTileFeature=t,t._z=A,t._x=s,t._y=f,this.properties=t.properties,this.id=m},Jp={geometry:{configurable:!0}};Jp.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Jp.geometry.set=function(t){this._geometry=t},Hh.prototype.toJSON=function(){var t={geometry:this.geometry};for(var A in this)A!=="_geometry"&&A!=="_vectorTileFeature"&&(t[A]=this[A]);return t},Object.defineProperties(Hh.prototype,Jp);var xl=function(){this.state={},this.stateChanges={},this.deletedStates={}};xl.prototype.updateState=function(t,A,s){var f=String(A);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][f]=this.stateChanges[t][f]||{},V(this.stateChanges[t][f],s),this.deletedStates[t]===null)for(var m in this.deletedStates[t]={},this.state[t])m!==f&&(this.deletedStates[t][m]=null);else if(this.deletedStates[t]&&this.deletedStates[t][f]===null)for(var v in this.deletedStates[t][f]={},this.state[t][f])s[v]||(this.deletedStates[t][f][v]=null);else for(var B in s)this.deletedStates[t]&&this.deletedStates[t][f]&&this.deletedStates[t][f][B]===null&&delete this.deletedStates[t][f][B]},xl.prototype.removeFeatureState=function(t,A,s){if(this.deletedStates[t]!==null){var f=String(A);if(this.deletedStates[t]=this.deletedStates[t]||{},s&&A!==void 0)this.deletedStates[t][f]!==null&&(this.deletedStates[t][f]=this.deletedStates[t][f]||{},this.deletedStates[t][f][s]=null);else if(A!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][f])for(s in this.deletedStates[t][f]={},this.stateChanges[t][f])this.deletedStates[t][f][s]=null;else this.deletedStates[t][f]=null;else this.deletedStates[t]=null}},xl.prototype.getState=function(t,A){var s=String(A),f=V({},(this.state[t]||{})[s],(this.stateChanges[t]||{})[s]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){var m=this.deletedStates[t][A];if(m===null)return{};for(var v in m)delete f[v]}return f},xl.prototype.initializeTileState=function(t,A){t.setFeatureState(this.state,A)},xl.prototype.coalesceChanges=function(t,A){var s={};for(var f in this.stateChanges){this.state[f]=this.state[f]||{};var m={};for(var v in this.stateChanges[f])this.state[f][v]||(this.state[f][v]={}),V(this.state[f][v],this.stateChanges[f][v]),m[v]=this.state[f][v];s[f]=m}for(var B in this.deletedStates){this.state[B]=this.state[B]||{};var U={};if(this.deletedStates[B]===null)for(var T in this.state[B])U[T]={},this.state[B][T]={};else for(var L in this.deletedStates[B]){if(this.deletedStates[B][L]===null)this.state[B][L]={};else for(var P=0,z=Object.keys(this.deletedStates[B][L]);P<z.length;P+=1)delete this.state[B][L][z[P]];U[L]=this.state[B][L]}s[B]=s[B]||{},V(s[B],U)}if(this.stateChanges={},this.deletedStates={},Object.keys(s).length!==0)for(var G in t)t[G].setFeatureState(s,A)};var ga=function(t,A){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new co(8192,16,0),this.grid3D=new co(8192,16,0),this.featureIndexArray=new O,this.promoteId=A};function $m(t,A,s,f,m){return fe(t,function(v,B){var U=A instanceof ys?A.get(B):null;return U&&U.evaluate?U.evaluate(s,f,m):U})}function ey(t){for(var A=1/0,s=1/0,f=-1/0,m=-1/0,v=0,B=t;v<B.length;v+=1){var U=B[v];A=Math.min(A,U.x),s=Math.min(s,U.y),f=Math.max(f,U.x),m=Math.max(m,U.y)}return{minX:A,minY:s,maxX:f,maxY:m}}function mb(t,A){return A-t}ga.prototype.insert=function(t,A,s,f,m,v){var B=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(s,f,m);for(var U=v?this.grid3D:this.grid,T=0;T<A.length;T++){for(var L=A[T],P=[1/0,1/0,-1/0,-1/0],z=0;z<L.length;z++){var G=L[z];P[0]=Math.min(P[0],G.x),P[1]=Math.min(P[1],G.y),P[2]=Math.max(P[2],G.x),P[3]=Math.max(P[3],G.y)}P[0]<8192&&P[1]<8192&&P[2]>=0&&P[3]>=0&&U.insert(B,P[0],P[1],P[2],P[3])}},ga.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new pl.VectorTile(new Fh(this.rawTileData)).layers,this.sourceLayerCoder=new Ph(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ga.prototype.query=function(t,A,s,f){var m=this;this.loadVTLayers();for(var v=t.params||{},B=8192/t.tileSize/t.scale,U=Js(v.filter),T=t.queryGeometry,L=t.queryPadding*B,P=ey(T),z=this.grid.query(P.minX-L,P.minY-L,P.maxX+L,P.maxY+L),G=ey(t.cameraQueryGeometry),Z=this.grid3D.query(G.minX-L,G.minY-L,G.maxX+L,G.maxY+L,function(ke,He,qe,nt){return function(ft,kt,vt,Ht,Bt){for(var pr=0,Zt=ft;pr<Zt.length;pr+=1){var Qt=Zt[pr];if(kt<=Qt.x&&vt<=Qt.y&&Ht>=Qt.x&&Bt>=Qt.y)return!0}var mr=[new Q(kt,vt),new Q(kt,Bt),new Q(Ht,Bt),new Q(Ht,vt)];if(ft.length>2){for(var or=0,kr=mr;or<kr.length;or+=1)if(io(ft,kr[or]))return!0}for(var zt=0;zt<ft.length-1;zt++)if(bs(ft[zt],ft[zt+1],mr))return!0;return!1}(t.cameraQueryGeometry,ke-L,He-L,qe+L,nt+L)}),re=0,ne=Z;re<ne.length;re+=1)z.push(ne[re]);z.sort(mb);for(var de,ue={},be=function(ke){var He=z[ke];if(He!==de){de=He;var qe=m.featureIndexArray.get(He),nt=null;m.loadMatchingFeature(ue,qe.bucketIndex,qe.sourceLayerIndex,qe.featureIndex,U,v.layers,v.availableImages,A,s,f,function(ft,kt,vt){return nt||(nt=ki(ft)),kt.queryIntersectsFeature(T,ft,vt,nt,m.z,t.transform,B,t.pixelPosMatrix)})}},Ie=0;Ie<z.length;Ie++)be(Ie);return ue},ga.prototype.loadMatchingFeature=function(t,A,s,f,m,v,B,U,T,L,P){var z=this.bucketLayerIDs[A];if(!v||function(ft,kt){for(var vt=0;vt<ft.length;vt++)if(kt.indexOf(ft[vt])>=0)return!0;return!1}(v,z)){var G=this.sourceLayerCoder.decode(s),Z=this.vtLayers[G].feature(f);if(m.needGeometry){var re=Ki(Z,!0);if(!m.filter(new _r(this.tileID.overscaledZ),re,this.tileID.canonical))return}else if(!m.filter(new _r(this.tileID.overscaledZ),Z))return;for(var ne=this.getId(Z,G),de=0;de<z.length;de++){var ue=z[de];if(!(v&&v.indexOf(ue)<0)){var be=U[ue];if(be){var Ie={};ne!==void 0&&L&&(Ie=L.getState(be.sourceLayer||"_geojsonTileLayer",ne));var ke=V({},T[ue]);ke.paint=$m(ke.paint,be.paint,Z,Ie,B),ke.layout=$m(ke.layout,be.layout,Z,Ie,B);var He=!P||P(Z,be,Ie);if(He){var qe=new Hh(Z,this.z,this.x,this.y,ne);qe.layer=ke;var nt=t[ue];nt===void 0&&(nt=t[ue]=[]),nt.push({featureIndex:f,feature:qe,intersectionZ:He})}}}}}},ga.prototype.lookupSymbolFeatures=function(t,A,s,f,m,v,B,U){var T={};this.loadVTLayers();for(var L=Js(m),P=0,z=t;P<z.length;P+=1)this.loadMatchingFeature(T,s,f,z[P],L,v,B,U,A);return T},ga.prototype.hasLayer=function(t){for(var A=0,s=this.bucketLayerIDs;A<s.length;A+=1)for(var f=0,m=s[A];f<m.length;f+=1)if(t===m[f])return!0;return!1},ga.prototype.getId=function(t,A){var s=t.id;return this.promoteId&&typeof(s=t.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[A]])=="boolean"&&(s=Number(s)),s},Ft("FeatureIndex",ga,{omit:["rawTileData","sourceLayerCoder"]});var vn=function(t,A){this.tileID=t,this.uid=ee(),this.uses=0,this.tileSize=A,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};vn.prototype.registerFadeDuration=function(t){var A=t+this.timeAdded;A<it.now()||this.fadeEndTime&&A<this.fadeEndTime||(this.fadeEndTime=A)},vn.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},vn.prototype.loadVectorData=function(t,A,s){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var f in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(L,P){var z={};if(!P)return z;for(var G=function(){var ne=re[Z],de=ne.layerIds.map(function(Ie){return P.getLayer(Ie)}).filter(Boolean);if(de.length!==0){ne.layers=de,ne.stateDependentLayerIds&&(ne.stateDependentLayers=ne.stateDependentLayerIds.map(function(Ie){return de.filter(function(ke){return ke.id===Ie})[0]}));for(var ue=0,be=de;ue<be.length;ue+=1)z[be[ue].id]=ne}},Z=0,re=L;Z<re.length;Z+=1)G();return z}(t.buckets,A.style),this.hasSymbolBuckets=!1,this.buckets){var m=this.buckets[f];if(m instanceof ni){if(this.hasSymbolBuckets=!0,!s)break;m.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var v in this.buckets){var B=this.buckets[v];if(B instanceof ni&&B.hasRTLText){this.hasRTLText=!0,BA.isLoading()||BA.isLoaded()||Fu()!=="deferred"||OA();break}}for(var U in this.queryPadding=0,this.buckets){var T=this.buckets[U];this.queryPadding=Math.max(this.queryPadding,A.style.getLayer(U).queryRadius(T))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new h},vn.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},vn.prototype.getBucket=function(t){return this.buckets[t.id]},vn.prototype.upload=function(t){for(var A in this.buckets){var s=this.buckets[A];s.uploadPending()&&s.upload(t)}var f=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Fs(t,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Fs(t,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)},vn.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},vn.prototype.queryRenderedFeatures=function(t,A,s,f,m,v,B,U,T,L){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:f,cameraQueryGeometry:m,scale:v,tileSize:this.tileSize,pixelPosMatrix:L,transform:U,params:B,queryPadding:this.queryPadding*T},t,A,s):{}},vn.prototype.querySourceFeatures=function(t,A){var s=this.latestFeatureIndex;if(s&&s.rawTileData){var f=s.loadVTLayers(),m=A?A.sourceLayer:"",v=f._geojsonTileLayer||f[m];if(v)for(var B=Js(A&&A.filter),U=this.tileID.canonical,T=U.z,L=U.x,P=U.y,z={z:T,x:L,y:P},G=0;G<v.length;G++){var Z=v.feature(G);if(B.needGeometry){var re=Ki(Z,!0);if(!B.filter(new _r(this.tileID.overscaledZ),re,this.tileID.canonical))continue}else if(!B.filter(new _r(this.tileID.overscaledZ),Z))continue;var ne=s.getId(Z,m),de=new Hh(Z,T,L,P,ne);de.tile=z,t.push(de)}}},vn.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},vn.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},vn.prototype.setExpiryData=function(t){var A=this.expirationTime;if(t.cacheControl){var s=rt(t.cacheControl);s["max-age"]&&(this.expirationTime=Date.now()+1e3*s["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var f=Date.now(),m=!1;if(this.expirationTime>f)m=!1;else if(A)if(this.expirationTime<A)m=!0;else{var v=this.expirationTime-A;v?this.expirationTime=f+Math.max(v,3e4):m=!0}else m=!0;m?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},vn.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},vn.prototype.setFeatureState=function(t,A){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(t).length!==0){var s=this.latestFeatureIndex.loadVTLayers();for(var f in this.buckets)if(A.style.hasLayer(f)){var m=this.buckets[f],v=m.layers[0].sourceLayer||"_geojsonTileLayer",B=s[v],U=t[v];if(B&&U&&Object.keys(U).length!==0){m.update(U,B,this.imageAtlas&&this.imageAtlas.patternPositions||{});var T=A&&A.style&&A.style.getLayer(f);T&&(this.queryPadding=Math.max(this.queryPadding,T.queryRadius(m)))}}}},vn.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},vn.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<it.now()},vn.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},vn.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=it.now()+t},vn.prototype.setDependencies=function(t,A){for(var s={},f=0,m=A;f<m.length;f+=1)s[m[f]]=!0;this.dependencies[t]=s},vn.prototype.hasDependency=function(t,A){for(var s=0,f=t;s<f.length;s+=1){var m=this.dependencies[f[s]];if(m){for(var v=0,B=A;v<B.length;v+=1)if(m[B[v]])return!0}}return!1};var Ka=I.performance,ty=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},Ka.mark(this._marks.start)};ty.prototype.finish=function(){Ka.mark(this._marks.end);var t=Ka.getEntriesByName(this._marks.measure);return t.length===0&&(Ka.measure(this._marks.measure,this._marks.start,this._marks.end),t=Ka.getEntriesByName(this._marks.measure),Ka.clearMarks(this._marks.start),Ka.clearMarks(this._marks.end),Ka.clearMeasures(this._marks.measure)),t},a.Actor=bl,a.AlphaImage=Cs,a.CanonicalTileID=Us,a.CollisionBoxArray=h,a.Color=xr,a.DEMData=da,a.DataConstantProperty=Dt,a.DictionaryCoder=Ph,a.EXTENT=8192,a.ErrorEvent=ge,a.EvaluationParameters=_r,a.Event=ie,a.Evented=ye,a.FeatureIndex=ga,a.FillBucket=go,a.FillExtrusionBucket=mo,a.ImageAtlas=Ou,a.ImagePosition=Uh,a.LineBucket=rA,a.LngLat=bi,a.LngLatBounds=rn,a.MercatorCoordinate=Es,a.ONE_EM=24,a.OverscaledTileID=nn,a.Point=Q,a.Point$1=Q,a.Properties=Mn,a.Protobuf=Fh,a.RGBAImage=dA,a.RequestManager=Kt,a.RequestPerformance=ty,a.ResourceType=ui,a.SegmentVector=W,a.SourceFeatureState=xl,a.StructArrayLayout1ui2=Tu,a.StructArrayLayout2f1f2i16=ca,a.StructArrayLayout2i4=ua,a.StructArrayLayout3ui6=So,a.StructArrayLayout4i8=Uu,a.SymbolBucket=ni,a.Texture=Fs,a.Tile=vn,a.Transitionable=Ln,a.Uniform1f=ut,a.Uniform1i=et,a.Uniform2f=st,a.Uniform3f=bt,a.Uniform4f=Pt,a.UniformColor=Vt,a.UniformMatrix4f=Pr,a.UnwrappedTileID=Ym,a.ValidationError=oe,a.WritingMode=kA,a.ZoomHistory=Bu,a.add=function(t,A,s){return t[0]=A[0]+s[0],t[1]=A[1]+s[1],t[2]=A[2]+s[2],t},a.addDynamicAttributes=jp,a.asyncAll=function(t,A,s){if(!t.length)return s(null,[]);var f=t.length,m=new Array(t.length),v=null;t.forEach(function(B,U){A(B,function(T,L){T&&(v=T),m[U]=L,--f==0&&s(v,m)})})},a.bezier=k,a.bindAll=Ge,a.browser=it,a.cacheEntryPossiblyAdded=function(t){++ci>li&&(t.getActor().send("enforceCacheSizeLimit",je),ci=0)},a.clamp=$,a.clearTileCache=function(t){var A=I.caches.delete("mapbox-tiles");t&&A.catch(t).then(function(){return t()})},a.clipLine=Dm,a.clone=function(t){var A=new Xr(16);return A[0]=t[0],A[1]=t[1],A[2]=t[2],A[3]=t[3],A[4]=t[4],A[5]=t[5],A[6]=t[6],A[7]=t[7],A[8]=t[8],A[9]=t[9],A[10]=t[10],A[11]=t[11],A[12]=t[12],A[13]=t[13],A[14]=t[14],A[15]=t[15],A},a.clone$1=ve,a.clone$2=function(t){var A=new Xr(3);return A[0]=t[0],A[1]=t[1],A[2]=t[2],A},a.collisionCircleLayout=PB,a.config=wt,a.create=function(){var t=new Xr(16);return Xr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},a.create$1=function(){var t=new Xr(9);return Xr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},a.create$2=function(){var t=new Xr(4);return Xr!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},a.createCommonjsModule=_,a.createExpression=qs,a.createLayout=yn,a.createStyleLayer=function(t){return t.type==="custom"?new db(t):new gb[t.type](t)},a.cross=function(t,A,s){var f=A[0],m=A[1],v=A[2],B=s[0],U=s[1],T=s[2];return t[0]=m*T-v*U,t[1]=v*B-f*T,t[2]=f*U-m*B,t},a.deepEqual=function t(A,s){if(Array.isArray(A)){if(!Array.isArray(s)||A.length!==s.length)return!1;for(var f=0;f<A.length;f++)if(!t(A[f],s[f]))return!1;return!0}if(typeof A=="object"&&A!==null&&s!==null){if(typeof s!="object"||Object.keys(A).length!==Object.keys(s).length)return!1;for(var m in A)if(!t(A[m],s[m]))return!1;return!0}return A===s},a.dot=function(t,A){return t[0]*A[0]+t[1]*A[1]+t[2]*A[2]},a.dot$1=function(t,A){return t[0]*A[0]+t[1]*A[1]+t[2]*A[2]+t[3]*A[3]},a.ease=K,a.emitValidationErrors=ds,a.endsWith=Le,a.enforceCacheSizeLimit=function(t){Se(),Ai&&Ai.then(function(A){A.keys().then(function(s){for(var f=0;f<s.length-t;f++)A.delete(s[f])})})},a.evaluateSizeForFeature=Im,a.evaluateSizeForZoom=Sm,a.evaluateVariableOffset=zm,a.evented=Cu,a.extend=V,a.featureFilter=Js,a.filterObject=Ee,a.fromRotation=function(t,A){var s=Math.sin(A),f=Math.cos(A);return t[0]=f,t[1]=s,t[2]=0,t[3]=-s,t[4]=f,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.getAnchorAlignment=Np,a.getAnchorJustification=Xp,a.getArrayBuffer=Tn,a.getImage=N,a.getJSON=function(t,A){return pn(V(t,{type:"json"}),A)},a.getRTLTextPluginStatus=Fu,a.getReferrer=Sn,a.getVideo=function(t,A){var s,f,m=I.document.createElement("video");m.muted=!0,m.onloadstart=function(){A(null,m)};for(var v=0;v<t.length;v++){var B=I.document.createElement("source");s=t[v],f=void 0,(f=I.document.createElement("a")).href=s,(f.protocol!==I.document.location.protocol||f.host!==I.document.location.host)&&(m.crossOrigin="Anonymous"),B.src=t[v],m.appendChild(B)}return{cancel:function(){}}},a.identity=bA,a.invert=function(t,A){var s=A[0],f=A[1],m=A[2],v=A[3],B=A[4],U=A[5],T=A[6],L=A[7],P=A[8],z=A[9],G=A[10],Z=A[11],re=A[12],ne=A[13],de=A[14],ue=A[15],be=s*U-f*B,Ie=s*T-m*B,ke=s*L-v*B,He=f*T-m*U,qe=f*L-v*U,nt=m*L-v*T,ft=P*ne-z*re,kt=P*de-G*re,vt=P*ue-Z*re,Ht=z*de-G*ne,Bt=z*ue-Z*ne,pr=G*ue-Z*de,Zt=be*pr-Ie*Bt+ke*Ht+He*vt-qe*kt+nt*ft;return Zt?(t[0]=(U*pr-T*Bt+L*Ht)*(Zt=1/Zt),t[1]=(m*Bt-f*pr-v*Ht)*Zt,t[2]=(ne*nt-de*qe+ue*He)*Zt,t[3]=(G*qe-z*nt-Z*He)*Zt,t[4]=(T*vt-B*pr-L*kt)*Zt,t[5]=(s*pr-m*vt+v*kt)*Zt,t[6]=(de*ke-re*nt-ue*Ie)*Zt,t[7]=(P*nt-G*ke+Z*Ie)*Zt,t[8]=(B*Bt-U*vt+L*ft)*Zt,t[9]=(f*vt-s*Bt-v*ft)*Zt,t[10]=(re*qe-ne*ke+ue*be)*Zt,t[11]=(z*ke-P*qe-Z*be)*Zt,t[12]=(U*kt-B*Ht-T*ft)*Zt,t[13]=(s*Ht-f*kt+m*ft)*Zt,t[14]=(ne*Ie-re*He-de*be)*Zt,t[15]=(P*He-z*Ie+G*be)*Zt,t):null},a.isChar=yt,a.isMapboxURL=tr,a.keysDifference=function(t,A){var s=[];for(var f in t)f in A||s.push(f);return s},a.makeRequest=pn,a.mapObject=fe,a.mercatorXfromLng=qm,a.mercatorYfromLat=Wm,a.mercatorZfromAltitude=Jm,a.mul=Sp,a.multiply=tA,a.mvt=pl,a.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},a.normalize=function(t,A){var s=A[0],f=A[1],m=A[2],v=s*s+f*f+m*m;return v>0&&(v=1/Math.sqrt(v)),t[0]=A[0]*v,t[1]=A[1]*v,t[2]=A[2]*v,t},a.number=Xi,a.offscreenCanvasSupported=hi,a.ortho=function(t,A,s,f,m,v,B){var U=1/(A-s),T=1/(f-m),L=1/(v-B);return t[0]=-2*U,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*T,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*L,t[11]=0,t[12]=(A+s)*U,t[13]=(m+f)*T,t[14]=(B+v)*L,t[15]=1,t},a.parseGlyphPBF=function(t){return new Fh(t).readFields(ZB,[])},a.pbf=Fh,a.performSymbolLayout=function(t,A,s,f,m,v,B){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var U=t.layers[0].layout,T=t.layers[0]._unevaluatedLayout._values,L={};if(t.textSizeData.kind==="composite"){var P=t.textSizeData,z=P.maxZoom;L.compositeTextSizes=[T["text-size"].possiblyEvaluate(new _r(P.minZoom),B),T["text-size"].possiblyEvaluate(new _r(z),B)]}if(t.iconSizeData.kind==="composite"){var G=t.iconSizeData,Z=G.maxZoom;L.compositeIconSizes=[T["icon-size"].possiblyEvaluate(new _r(G.minZoom),B),T["icon-size"].possiblyEvaluate(new _r(Z),B)]}L.layoutTextSize=T["text-size"].possiblyEvaluate(new _r(t.zoom+1),B),L.layoutIconSize=T["icon-size"].possiblyEvaluate(new _r(t.zoom+1),B),L.textMaxSize=T["text-size"].possiblyEvaluate(new _r(18));for(var re=24*U.get("text-line-height"),ne=U.get("text-rotation-alignment")==="map"&&U.get("symbol-placement")!=="point",de=U.get("text-keep-upright"),ue=U.get("text-size"),be=function(){var He=ke[Ie],qe=U.get("text-font").evaluate(He,{},B).join(","),nt=ue.evaluate(He,{},B),ft=L.layoutTextSize.evaluate(He,{},B),kt=L.layoutIconSize.evaluate(He,{},B),vt={horizontal:{},vertical:void 0},Ht=He.text,Bt=[0,0];if(Ht){var pr=Ht.toString(),Zt=24*U.get("text-letter-spacing").evaluate(He,{},B),Qt=function(Br){for(var ai=0,$r=Br;ai<$r.length;ai+=1)if(Hr=$r[ai].charCodeAt(0),yt.Arabic(Hr)||yt["Arabic Supplement"](Hr)||yt["Arabic Extended-A"](Hr)||yt["Arabic Presentation Forms-A"](Hr)||yt["Arabic Presentation Forms-B"](Hr))return!1;var Hr;return!0}(pr)?Zt:0,mr=U.get("text-anchor").evaluate(He,{},B),or=U.get("text-variable-anchor");if(!or){var kr=U.get("text-radial-offset").evaluate(He,{},B);Bt=kr?zm(mr,[24*kr,Gp]):U.get("text-offset").evaluate(He,{},B).map(function(Br){return 24*Br})}var zt=ne?"center":U.get("text-justify").evaluate(He,{},B),Vr=U.get("symbol-placement"),xi=Vr==="point"?24*U.get("text-max-width").evaluate(He,{},B):0,zi=function(){t.allowVerticalPlacement&&bu(pr)&&(vt.vertical=Qh(Ht,A,s,m,qe,xi,re,mr,"left",Qt,Bt,kA.vertical,!0,Vr,ft,nt))};if(!ne&&or){for(var Li=zt==="auto"?or.map(function(Br){return Xp(Br)}):[zt],Ci=!1,Ri=0;Ri<Li.length;Ri++){var un=Li[Ri];if(!vt.horizontal[un])if(Ci)vt.horizontal[un]=vt.horizontal[0];else{var cn=Qh(Ht,A,s,m,qe,xi,re,"center",un,Qt,Bt,kA.horizontal,!1,Vr,ft,nt);cn&&(vt.horizontal[un]=cn,Ci=cn.positionedLines.length===1)}}zi()}else{zt==="auto"&&(zt=Xp(mr));var Jn=Qh(Ht,A,s,m,qe,xi,re,mr,zt,Qt,Bt,kA.horizontal,!1,Vr,ft,nt);Jn&&(vt.horizontal[zt]=Jn),zi(),bu(pr)&&ne&&de&&(vt.vertical=Qh(Ht,A,s,m,qe,xi,re,mr,zt,Qt,Bt,kA.vertical,!1,Vr,ft,nt))}}var wn=void 0,Yn=!1;if(He.icon&&He.icon.name){var Ni=f[He.icon.name];Ni&&(wn=function(Br,ai,$r){var Hr=Np($r),iA=ai[0]-Br.displaySize[0]*Hr.horizontalAlign,Nn=ai[1]-Br.displaySize[1]*Hr.verticalAlign;return{image:Br,top:Nn,bottom:Nn+Br.displaySize[1],left:iA,right:iA+Br.displaySize[0]}}(m[He.icon.name],U.get("icon-offset").evaluate(He,{},B),U.get("icon-anchor").evaluate(He,{},B)),Yn=Ni.sdf,t.sdfIcons===void 0?t.sdfIcons=Ni.sdf:t.sdfIcons!==Ni.sdf&&Qe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ni.pixelRatio!==t.pixelRatio||U.get("icon-rotate").constantOr(1)!==0)&&(t.iconsNeedLinear=!0))}var Bn=Om(vt.horizontal)||vt.vertical;t.iconsInText=!!Bn&&Bn.iconsInText,(Bn||wn)&&function(Br,ai,$r,Hr,iA,Nn,_i,Zi,Vn,Gr,Po){var LA=Nn.textMaxSize.evaluate(ai,{});LA===void 0&&(LA=_i);var Ho,Vi=Br.layers[0].layout,zo=Vi.get("icon-offset").evaluate(ai,{},Po),Ao=Om($r.horizontal),Cl=_i/24,Qs=Br.tilePixelRatio*Cl,Fl=Br.tilePixelRatio*LA/24,ma=Br.tilePixelRatio*Zi,El=Br.tilePixelRatio*Vi.get("symbol-spacing"),zh=Vi.get("text-padding")*Br.tilePixelRatio,Ul=Vi.get("icon-padding")*Br.tilePixelRatio,Vu=Vi.get("text-max-angle")/180*Math.PI,Rh=Vi.get("text-rotation-alignment")==="map"&&Vi.get("symbol-placement")!=="point",Oh=Vi.get("icon-rotation-alignment")==="map"&&Vi.get("symbol-placement")!=="point",ya=Vi.get("symbol-placement"),Gu=El/2,Ql=Vi.get("icon-text-fit");Hr&&Ql!=="none"&&(Br.allowVerticalPlacement&&$r.vertical&&(Ho=Qm(Hr,$r.vertical,Ql,Vi.get("icon-text-fit-padding"),zo,Cl)),Ao&&(Hr=Qm(Hr,Ao,Ql,Vi.get("icon-text-fit-padding"),zo,Cl)));var Na=function(yb,$u){$u.x<0||$u.x>=8192||$u.y<0||$u.y>=8192||function(Gi,yo,_b,Va,td,ny,jh,Ro,Zh,ec,qh,Wh,rd,Ay,tc,oy,ay,sy,ly,uy,MA,Jh,cy,Oo,vb){var hy,Ss,Ll,Ml,Dl,Pl=Gi.addToLineVertexArray(yo,_b),fy=0,py=0,dy=0,gy=0,id=-1,nd=-1,_a={},my=te(""),Ad=0,od=0;if(Ro._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ad=(hy=Ro.layout.get("text-offset").evaluate(MA,{},Oo).map(function(ic){return 24*ic}))[0],od=hy[1]):(Ad=24*Ro.layout.get("text-radial-offset").evaluate(MA,{},Oo),od=Gp),Gi.allowVerticalPlacement&&Va.vertical){var yy=Ro.layout.get("text-rotate").evaluate(MA,{},Oo)+90;Ml=new Lh(Zh,yo,ec,qh,Wh,Va.vertical,rd,Ay,tc,yy),jh&&(Dl=new Lh(Zh,yo,ec,qh,Wh,jh,ay,sy,tc,yy))}if(td){var ad=Ro.layout.get("icon-rotate").evaluate(MA,{}),_y=Ro.layout.get("icon-text-fit")!=="none",vy=Pm(td,ad,cy,_y),sd=jh?Pm(jh,ad,cy,_y):void 0;Ll=new Lh(Zh,yo,ec,qh,Wh,td,ay,sy,!1,ad),fy=4*vy.length;var wy=Gi.iconSizeData,rc=null;wy.kind==="source"?(rc=[128*Ro.layout.get("icon-size").evaluate(MA,{})])[0]>32640&&Qe(Gi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):wy.kind==="composite"&&((rc=[128*Jh.compositeIconSizes[0].evaluate(MA,{},Oo),128*Jh.compositeIconSizes[1].evaluate(MA,{},Oo)])[0]>32640||rc[1]>32640)&&Qe(Gi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Gi.addSymbols(Gi.icon,vy,rc,uy,ly,MA,!1,yo,Pl.lineStartIndex,Pl.lineLength,-1,Oo),id=Gi.icon.placedSymbolArray.length-1,sd&&(py=4*sd.length,Gi.addSymbols(Gi.icon,sd,rc,uy,ly,MA,kA.vertical,yo,Pl.lineStartIndex,Pl.lineLength,-1,Oo),nd=Gi.icon.placedSymbolArray.length-1)}for(var By in Va.horizontal){var Yh=Va.horizontal[By];if(!Ss){my=te(Yh.text);var wb=Ro.layout.get("text-rotate").evaluate(MA,{},Oo);Ss=new Lh(Zh,yo,ec,qh,Wh,Yh,rd,Ay,tc,wb)}var by=Yh.positionedLines.length===1;if(dy+=Rm(Gi,yo,Yh,ny,Ro,tc,MA,oy,Pl,Va.vertical?kA.horizontal:kA.horizontalOnly,by?Object.keys(Va.horizontal):[By],_a,id,Jh,Oo),by)break}Va.vertical&&(gy+=Rm(Gi,yo,Va.vertical,ny,Ro,tc,MA,oy,Pl,kA.vertical,["vertical"],_a,nd,Jh,Oo));var Bb=Ss?Ss.boxStartIndex:Gi.collisionBoxArray.length,bb=Ss?Ss.boxEndIndex:Gi.collisionBoxArray.length,xb=Ml?Ml.boxStartIndex:Gi.collisionBoxArray.length,Cb=Ml?Ml.boxEndIndex:Gi.collisionBoxArray.length,Fb=Ll?Ll.boxStartIndex:Gi.collisionBoxArray.length,Eb=Ll?Ll.boxEndIndex:Gi.collisionBoxArray.length,Ub=Dl?Dl.boxStartIndex:Gi.collisionBoxArray.length,Qb=Dl?Dl.boxEndIndex:Gi.collisionBoxArray.length,Ko=-1,$h=function(ic,Cy){return ic&&ic.circleDiameter?Math.max(ic.circleDiameter,Cy):Cy};Ko=$h(Ss,Ko),Ko=$h(Ml,Ko),Ko=$h(Ll,Ko);var xy=(Ko=$h(Dl,Ko))>-1?1:0;xy&&(Ko*=vb/24),Gi.glyphOffsetArray.length>=ni.MAX_GLYPHS&&Qe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),MA.sortKey!==void 0&&Gi.addToSortKeyRanges(Gi.symbolInstances.length,MA.sortKey),Gi.symbolInstances.emplaceBack(yo.x,yo.y,_a.right>=0?_a.right:-1,_a.center>=0?_a.center:-1,_a.left>=0?_a.left:-1,_a.vertical||-1,id,nd,my,Bb,bb,xb,Cb,Fb,Eb,Ub,Qb,ec,dy,gy,fy,py,xy,0,rd,Ad,od,Ko)}(Br,$u,yb,$r,Hr,iA,Ho,Br.layers[0],Br.collisionBoxArray,ai.index,ai.sourceLayerIndex,Br.index,Qs,zh,Rh,Vn,ma,Ul,Oh,zo,ai,Nn,Gr,Po,_i)};if(ya==="line")for(var Il=0,Kh=Dm(ai.geometry,0,0,8192,8192);Il<Kh.length;Il+=1)for(var Nh=Kh[Il],Xu=0,ju=tb(Nh,El,Vu,$r.vertical||Ao,Hr,24,Fl,Br.overscaling,8192);Xu<ju.length;Xu+=1){var Vh=ju[Xu];Ao&&Ab(Br,Ao.text,Gu,Vh)||Na(Nh,Vh)}else if(ya==="line-center")for(var Zu=0,qu=ai.geometry;Zu<qu.length;Zu+=1){var Wu=qu[Zu];if(Wu.length>1){var Gh=eb(Wu,Vu,$r.vertical||Ao,Hr,24,Fl);Gh&&Na(Wu,Gh)}}else if(ai.type==="Polygon")for(var Sl=0,Xh=Hp(ai.geometry,0);Sl<Xh.length;Sl+=1){var Tl=Xh[Sl],Ju=ib(Tl,16);Na(Tl[0],new yl(Ju.x,Ju.y,0))}else if(ai.type==="LineString")for(var Is=0,Yu=ai.geometry;Is<Yu.length;Is+=1){var kl=Yu[Is];Na(kl,new yl(kl[0].x,kl[0].y,0))}else if(ai.type==="Point")for(var Yp=0,ry=ai.geometry;Yp<ry.length;Yp+=1)for(var $p=0,iy=ry[Yp];$p<iy.length;$p+=1){var ed=iy[$p];Na([ed],new yl(ed.x,ed.y,0))}}(t,He,vt,wn,f,L,ft,kt,Bt,Yn,B)},Ie=0,ke=t.features;Ie<ke.length;Ie+=1)be();v&&t.generateCollisionDebugBuffers()},a.perspective=function(t,A,s,f,m){var v,B=1/Math.tan(A/2);return t[0]=B/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=B,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,m!=null&&m!==1/0?(t[10]=(m+f)*(v=1/(f-m)),t[14]=2*m*f*v):(t[10]=-1,t[14]=-2*f),t},a.pick=function(t,A){for(var s={},f=0;f<A.length;f++){var m=A[f];m in t&&(s[m]=t[m])}return s},a.plugin=BA,a.polygonIntersectsPolygon=Lo,a.postMapLoadEvent=In,a.postTurnstileEvent=Qn,a.potpack=Cm,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Ft,a.registerForPluginStateChange=function(t){return t({pluginStatus:hA,pluginURL:ho}),Cu.on("pluginStateChange",t),t},a.renderColorRamp=om,a.rotate=function(t,A,s){var f=A[0],m=A[1],v=A[2],B=A[3],U=Math.sin(s),T=Math.cos(s);return t[0]=f*T+v*U,t[1]=m*T+B*U,t[2]=f*-U+v*T,t[3]=m*-U+B*T,t},a.rotateX=function(t,A,s){var f=Math.sin(s),m=Math.cos(s),v=A[4],B=A[5],U=A[6],T=A[7],L=A[8],P=A[9],z=A[10],G=A[11];return A!==t&&(t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[4]=v*m+L*f,t[5]=B*m+P*f,t[6]=U*m+z*f,t[7]=T*m+G*f,t[8]=L*m-v*f,t[9]=P*m-B*f,t[10]=z*m-U*f,t[11]=G*m-T*f,t},a.rotateZ=function(t,A,s){var f=Math.sin(s),m=Math.cos(s),v=A[0],B=A[1],U=A[2],T=A[3],L=A[4],P=A[5],z=A[6],G=A[7];return A!==t&&(t[8]=A[8],t[9]=A[9],t[10]=A[10],t[11]=A[11],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[0]=v*m+L*f,t[1]=B*m+P*f,t[2]=U*m+z*f,t[3]=T*m+G*f,t[4]=L*m-v*f,t[5]=P*m-B*f,t[6]=z*m-U*f,t[7]=G*m-T*f,t},a.scale=function(t,A,s){var f=s[0],m=s[1],v=s[2];return t[0]=A[0]*f,t[1]=A[1]*f,t[2]=A[2]*f,t[3]=A[3]*f,t[4]=A[4]*m,t[5]=A[5]*m,t[6]=A[6]*m,t[7]=A[7]*m,t[8]=A[8]*v,t[9]=A[9]*v,t[10]=A[10]*v,t[11]=A[11]*v,t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15],t},a.scale$1=function(t,A,s){return t[0]=A[0]*s,t[1]=A[1]*s,t[2]=A[2]*s,t[3]=A[3]*s,t},a.scale$2=function(t,A,s){return t[0]=A[0]*s,t[1]=A[1]*s,t[2]=A[2]*s,t},a.setCacheLimits=function(t,A){je=t,li=A},a.setRTLTextPlugin=function(t,A,s){if(s===void 0&&(s=!1),hA==="deferred"||hA==="loading"||hA==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");ho=it.resolveURL(t),hA="deferred",nl=A,ms(),s||OA()},a.sphericalToCartesian=function(t){var A=t[0],s=t[1],f=t[2];return s+=90,s*=Math.PI/180,f*=Math.PI/180,{x:A*Math.cos(s)*Math.sin(f),y:A*Math.sin(s)*Math.sin(f),z:A*Math.cos(f)}},a.sqrLen=function(t){var A=t[0],s=t[1];return A*A+s*s},a.styleSpec=X,a.sub=function(t,A,s){return t[0]=A[0]-s[0],t[1]=A[1]-s[1],t[2]=A[2]-s[2],t},a.symbolSize=$B,a.transformMat3=function(t,A,s){var f=A[0],m=A[1],v=A[2];return t[0]=f*s[0]+m*s[3]+v*s[6],t[1]=f*s[1]+m*s[4]+v*s[7],t[2]=f*s[2]+m*s[5]+v*s[8],t},a.transformMat4=ul,a.translate=function(t,A,s){var f,m,v,B,U,T,L,P,z,G,Z,re,ne=s[0],de=s[1],ue=s[2];return A===t?(t[12]=A[0]*ne+A[4]*de+A[8]*ue+A[12],t[13]=A[1]*ne+A[5]*de+A[9]*ue+A[13],t[14]=A[2]*ne+A[6]*de+A[10]*ue+A[14],t[15]=A[3]*ne+A[7]*de+A[11]*ue+A[15]):(m=A[1],v=A[2],B=A[3],U=A[4],T=A[5],L=A[6],P=A[7],z=A[8],G=A[9],Z=A[10],re=A[11],t[0]=f=A[0],t[1]=m,t[2]=v,t[3]=B,t[4]=U,t[5]=T,t[6]=L,t[7]=P,t[8]=z,t[9]=G,t[10]=Z,t[11]=re,t[12]=f*ne+U*de+z*ue+A[12],t[13]=m*ne+T*de+G*ue+A[13],t[14]=v*ne+L*de+Z*ue+A[14],t[15]=B*ne+P*de+re*ue+A[15]),t},a.triggerPluginCompletionEvent=_h,a.uniqueId=ee,a.validateCustomStyleLayer=function(t){var A=[],s=t.id;return s===void 0&&A.push({message:"layers."+s+': missing required property "id"'}),t.render===void 0&&A.push({message:"layers."+s+': missing required method "render"'}),t.renderingMode&&t.renderingMode!=="2d"&&t.renderingMode!=="3d"&&A.push({message:"layers."+s+': property "renderingMode" must be either "2d" or "3d"'}),A},a.validateLight=Qp,a.validateStyle=fs,a.values=function(t){var A=[];for(var s in t)A.push(t[s]);return A},a.vectorTile=pl,a.version="1.13.2",a.warnOnce=Qe,a.webpSupported=vr,a.window=I,a.wrap=R}),p(["./shared"],function(a){function _(H){var N=typeof H;if(N==="number"||N==="boolean"||N==="string"||H==null)return JSON.stringify(H);if(Array.isArray(H)){for(var j="[",Y=0,ie=H;Y<ie.length;Y+=1)j+=_(ie[Y])+",";return j+"]"}for(var ge=Object.keys(H).sort(),ye="{",X=0;X<ge.length;X++)ye+=JSON.stringify(ge[X])+":"+_(H[ge[X]])+",";return ye+"}"}function y(H){for(var N="",j=0,Y=a.refProperties;j<Y.length;j+=1)N+="/"+_(H[Y[j]]);return N}var F=function(H){this.keyCache={},H&&this.replace(H)};F.prototype.replace=function(H){this._layerConfigs={},this._layers={},this.update(H,[])},F.prototype.update=function(H,N){for(var j=this,Y=0,ie=H;Y<ie.length;Y+=1){var ge=ie[Y];this._layerConfigs[ge.id]=ge;var ye=this._layers[ge.id]=a.createStyleLayer(ge);ye._featureFilter=a.featureFilter(ye.filter),this.keyCache[ge.id]&&delete this.keyCache[ge.id]}for(var X=0,oe=N;X<oe.length;X+=1){var Ce=oe[X];delete this.keyCache[Ce],delete this._layerConfigs[Ce],delete this._layers[Ce]}this.familiesBySource={};for(var Je=0,tt=function(lt,ht){for(var rr={},gt=0;gt<lt.length;gt++){var cr=ht&&ht[lt[gt].id]||y(lt[gt]);ht&&(ht[lt[gt].id]=cr);var Mr=rr[cr];Mr||(Mr=rr[cr]=[]),Mr.push(lt[gt])}var se=[];for(var mt in rr)se.push(rr[mt]);return se}(a.values(this._layerConfigs),this.keyCache);Je<tt.length;Je+=1){var Re=tt[Je].map(function(lt){return j._layers[lt.id]}),$e=Re[0];if($e.visibility!=="none"){var xt=$e.source||"",_t=this.familiesBySource[xt];_t||(_t=this.familiesBySource[xt]={});var ze=$e.sourceLayer||"_geojsonTileLayer",dt=_t[ze];dt||(dt=_t[ze]=[]),dt.push(Re)}}};var Q=function(H){var N={},j=[];for(var Y in H){var ie=H[Y],ge=N[Y]={};for(var ye in ie){var X=ie[+ye];if(X&&X.bitmap.width!==0&&X.bitmap.height!==0){var oe={x:0,y:0,w:X.bitmap.width+2,h:X.bitmap.height+2};j.push(oe),ge[ye]={rect:oe,metrics:X.metrics}}}}var Ce=a.potpack(j),Je=new a.AlphaImage({width:Ce.w||1,height:Ce.h||1});for(var tt in H){var Re=H[tt];for(var $e in Re){var xt=Re[+$e];if(xt&&xt.bitmap.width!==0&&xt.bitmap.height!==0){var _t=N[tt][$e].rect;a.AlphaImage.copy(xt.bitmap,Je,{x:0,y:0},{x:_t.x+1,y:_t.y+1},xt.bitmap)}}}this.image=Je,this.positions=N};a.register("GlyphAtlas",Q);var x=function(H){this.tileID=new a.OverscaledTileID(H.tileID.overscaledZ,H.tileID.wrap,H.tileID.canonical.z,H.tileID.canonical.x,H.tileID.canonical.y),this.uid=H.uid,this.zoom=H.zoom,this.pixelRatio=H.pixelRatio,this.tileSize=H.tileSize,this.source=H.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=H.showCollisionBoxes,this.collectResourceTiming=!!H.collectResourceTiming,this.returnDependencies=!!H.returnDependencies,this.promoteId=H.promoteId};function I(H,N,j){for(var Y=new a.EvaluationParameters(N),ie=0,ge=H;ie<ge.length;ie+=1)ge[ie].recalculate(Y,j)}function M(H,N){var j=a.getArrayBuffer(H.request,function(Y,ie,ge,ye){Y?N(Y):ie&&N(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(ie)),rawData:ie,cacheControl:ge,expires:ye})});return function(){j.cancel(),N()}}x.prototype.parse=function(H,N,j,Y,ie){var ge=this;this.status="parsing",this.data=H,this.collisionBoxArray=new a.CollisionBoxArray;var ye=new a.DictionaryCoder(Object.keys(H.layers).sort()),X=new a.FeatureIndex(this.tileID,this.promoteId);X.bucketLayerIDs=[];var oe,Ce,Je,tt,Re={},$e={featureIndex:X,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:j},xt=N.familiesBySource[this.source];for(var _t in xt){var ze=H.layers[_t];if(ze){ze.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+_t+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var dt=ye.encode(_t),lt=[],ht=0;ht<ze.length;ht++){var rr=ze.feature(ht),gt=X.getId(rr,_t);lt.push({feature:rr,id:gt,index:ht,sourceLayerIndex:dt})}for(var cr=0,Mr=xt[_t];cr<Mr.length;cr+=1){var se=Mr[cr],mt=se[0];mt.minzoom&&this.zoom<Math.floor(mt.minzoom)||mt.maxzoom&&this.zoom>=mt.maxzoom||mt.visibility!=="none"&&(I(se,this.zoom,j),(Re[mt.id]=mt.createBucket({index:X.bucketLayerIDs.length,layers:se,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:dt,sourceID:this.source})).populate(lt,$e,this.tileID.canonical),X.bucketLayerIDs.push(se.map(function(zr){return zr.id})))}}}var It=a.mapObject($e.glyphDependencies,function(zr){return Object.keys(zr).map(Number)});Object.keys(It).length?Y.send("getGlyphs",{uid:this.uid,stacks:It},function(zr,fr){oe||(oe=zr,Ce=fr,Dr.call(ge))}):Ce={};var qr=Object.keys($e.iconDependencies);qr.length?Y.send("getImages",{icons:qr,source:this.source,tileID:this.tileID,type:"icons"},function(zr,fr){oe||(oe=zr,Je=fr,Dr.call(ge))}):Je={};var hr=Object.keys($e.patternDependencies);function Dr(){if(oe)return ie(oe);if(Ce&&Je&&tt){var zr=new Q(Ce),fr=new a.ImageAtlas(Je,tt);for(var xr in Re){var Wi=Re[xr];Wi instanceof a.SymbolBucket?(I(Wi.layers,this.zoom,j),a.performSymbolLayout(Wi,Ce,zr.positions,Je,fr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Wi.hasPattern&&(Wi instanceof a.LineBucket||Wi instanceof a.FillBucket||Wi instanceof a.FillExtrusionBucket)&&(I(Wi.layers,this.zoom,j),Wi.addFeatures($e,this.tileID.canonical,fr.patternPositions))}this.status="done",ie(null,{buckets:a.values(Re).filter(function(HA){return!HA.isEmpty()}),featureIndex:X,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:zr.image,imageAtlas:fr,glyphMap:this.returnDependencies?Ce:null,iconMap:this.returnDependencies?Je:null,glyphPositions:this.returnDependencies?zr.positions:null})}}hr.length?Y.send("getImages",{icons:hr,source:this.source,tileID:this.tileID,type:"patterns"},function(zr,fr){oe||(oe=zr,tt=fr,Dr.call(ge))}):tt={},Dr.call(this)};var k=function(H,N,j,Y){this.actor=H,this.layerIndex=N,this.availableImages=j,this.loadVectorData=Y||M,this.loading={},this.loaded={}};k.prototype.loadTile=function(H,N){var j=this,Y=H.uid;this.loading||(this.loading={});var ie=!!(H&&H.request&&H.request.collectResourceTiming)&&new a.RequestPerformance(H.request),ge=this.loading[Y]=new x(H);ge.abort=this.loadVectorData(H,function(ye,X){if(delete j.loading[Y],ye||!X)return ge.status="done",j.loaded[Y]=ge,N(ye);var oe=X.rawData,Ce={};X.expires&&(Ce.expires=X.expires),X.cacheControl&&(Ce.cacheControl=X.cacheControl);var Je={};if(ie){var tt=ie.finish();tt&&(Je.resourceTiming=JSON.parse(JSON.stringify(tt)))}ge.vectorTile=X.vectorTile,ge.parse(X.vectorTile,j.layerIndex,j.availableImages,j.actor,function(Re,$e){if(Re||!$e)return N(Re);N(null,a.extend({rawTileData:oe.slice(0)},$e,Ce,Je))}),j.loaded=j.loaded||{},j.loaded[Y]=ge})},k.prototype.reloadTile=function(H,N){var j=this,Y=this.loaded,ie=H.uid,ge=this;if(Y&&Y[ie]){var ye=Y[ie];ye.showCollisionBoxes=H.showCollisionBoxes;var X=function(oe,Ce){var Je=ye.reloadCallback;Je&&(delete ye.reloadCallback,ye.parse(ye.vectorTile,ge.layerIndex,j.availableImages,ge.actor,Je)),N(oe,Ce)};ye.status==="parsing"?ye.reloadCallback=X:ye.status==="done"&&(ye.vectorTile?ye.parse(ye.vectorTile,this.layerIndex,this.availableImages,this.actor,X):X())}},k.prototype.abortTile=function(H,N){var j=this.loading,Y=H.uid;j&&j[Y]&&j[Y].abort&&(j[Y].abort(),delete j[Y]),N()},k.prototype.removeTile=function(H,N){var j=this.loaded,Y=H.uid;j&&j[Y]&&delete j[Y],N()};var K=a.window.ImageBitmap,$=function(){this.loaded={}};function R(H,N){if(H.length!==0){V(H[0],N);for(var j=1;j<H.length;j++)V(H[j],!N)}}function V(H,N){for(var j=0,Y=0,ie=H.length,ge=ie-1;Y<ie;ge=Y++)j+=(H[Y][0]-H[ge][0])*(H[ge][1]+H[Y][1]);j>=0!=!!N&&H.reverse()}$.prototype.loadTile=function(H,N){var j=H.uid,Y=H.encoding,ie=H.rawImageData,ge=K&&ie instanceof K?this.getImageData(ie):ie,ye=new a.DEMData(j,ge,Y);this.loaded=this.loaded||{},this.loaded[j]=ye,N(null,ye)},$.prototype.getImageData=function(H){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(H.width,H.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=H.width,this.offscreenCanvas.height=H.height,this.offscreenCanvasContext.drawImage(H,0,0,H.width,H.height);var N=this.offscreenCanvasContext.getImageData(-1,-1,H.width+2,H.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:N.width,height:N.height},N.data)},$.prototype.removeTile=function(H){var N=this.loaded,j=H.uid;N&&N[j]&&delete N[j]};var le=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,ee=function(H){this._feature=H,this.extent=a.EXTENT,this.type=H.type,this.properties=H.tags,"id"in H&&!isNaN(H.id)&&(this.id=parseInt(H.id,10))};ee.prototype.loadGeometry=function(){if(this._feature.type===1){for(var H=[],N=0,j=this._feature.geometry;N<j.length;N+=1){var Y=j[N];H.push([new a.Point$1(Y[0],Y[1])])}return H}for(var ie=[],ge=0,ye=this._feature.geometry;ge<ye.length;ge+=1){for(var X=[],oe=0,Ce=ye[ge];oe<Ce.length;oe+=1){var Je=Ce[oe];X.push(new a.Point$1(Je[0],Je[1]))}ie.push(X)}return ie},ee.prototype.toGeoJSON=function(H,N,j){return le.call(this,H,N,j)};var me=function(H){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=H.length,this._features=H};me.prototype.feature=function(H){return new ee(this._features[H])};var we=a.vectorTile.VectorTileFeature,Ge=Le;function Le(H,N){this.options=N||{},this.features=H,this.length=H.length}function fe(H,N){this.id=typeof H.id=="number"?H.id:void 0,this.type=H.type,this.rawGeometry=H.type===1?[H.geometry]:H.geometry,this.properties=H.tags,this.extent=N||4096}Le.prototype.feature=function(H){return new fe(this.features[H],this.options.extent)},fe.prototype.loadGeometry=function(){var H=this.rawGeometry;this.geometry=[];for(var N=0;N<H.length;N++){for(var j=H[N],Y=[],ie=0;ie<j.length;ie++)Y.push(new a.Point$1(j[ie][0],j[ie][1]));this.geometry.push(Y)}return this.geometry},fe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var H=this.geometry,N=1/0,j=-1/0,Y=1/0,ie=-1/0,ge=0;ge<H.length;ge++)for(var ye=H[ge],X=0;X<ye.length;X++){var oe=ye[X];N=Math.min(N,oe.x),j=Math.max(j,oe.x),Y=Math.min(Y,oe.y),ie=Math.max(ie,oe.y)}return[N,Y,j,ie]},fe.prototype.toGeoJSON=we.prototype.toGeoJSON;var Ee=De,ve=Ge;function De(H){var N=new a.pbf;return function(j,Y){for(var ie in j.layers)Y.writeMessage(3,Qe,j.layers[ie])}(H,N),N.finish()}function Qe(H,N){var j;N.writeVarintField(15,H.version||1),N.writeStringField(1,H.name||""),N.writeVarintField(5,H.extent||4096);var Y={keys:[],values:[],keycache:{},valuecache:{}};for(j=0;j<H.length;j++)Y.feature=H.feature(j),N.writeMessage(2,Ze,Y);var ie=Y.keys;for(j=0;j<ie.length;j++)N.writeStringField(3,ie[j]);var ge=Y.values;for(j=0;j<ge.length;j++)N.writeMessage(4,Tt,ge[j])}function Ze(H,N){var j=H.feature;j.id!==void 0&&N.writeVarintField(1,j.id),N.writeMessage(2,Ne,H),N.writeVarintField(3,j.type),N.writeMessage(4,ct,j)}function Ne(H,N){var j=H.feature,Y=H.keys,ie=H.values,ge=H.keycache,ye=H.valuecache;for(var X in j.properties){var oe=ge[X];oe===void 0&&(Y.push(X),ge[X]=oe=Y.length-1),N.writeVarint(oe);var Ce=j.properties[X],Je=typeof Ce;Je!=="string"&&Je!=="boolean"&&Je!=="number"&&(Ce=JSON.stringify(Ce));var tt=Je+":"+Ce,Re=ye[tt];Re===void 0&&(ie.push(Ce),ye[tt]=Re=ie.length-1),N.writeVarint(Re)}}function Fe(H,N){return(N<<3)+(7&H)}function rt(H){return H<<1^H>>31}function ct(H,N){for(var j=H.loadGeometry(),Y=H.type,ie=0,ge=0,ye=j.length,X=0;X<ye;X++){var oe=j[X],Ce=1;Y===1&&(Ce=oe.length),N.writeVarint(Fe(1,Ce));for(var Je=Y===3?oe.length-1:oe.length,tt=0;tt<Je;tt++){tt===1&&Y!==1&&N.writeVarint(Fe(2,Je-1));var Re=oe[tt].x-ie,$e=oe[tt].y-ge;N.writeVarint(rt(Re)),N.writeVarint(rt($e)),ie+=Re,ge+=$e}Y===3&&N.writeVarint(Fe(7,1))}}function Tt(H,N){var j=typeof H;j==="string"?N.writeStringField(1,H):j==="boolean"?N.writeBooleanField(7,H):j==="number"&&(H%1!=0?N.writeDoubleField(3,H):H<0?N.writeSVarintField(6,H):N.writeVarintField(5,H))}function at(H,N,j,Y){ot(H,j,Y),ot(N,2*j,2*Y),ot(N,2*j+1,2*Y+1)}function ot(H,N,j){var Y=H[N];H[N]=H[j],H[j]=Y}function jt(H,N,j,Y){var ie=H-j,ge=N-Y;return ie*ie+ge*ge}Ee.fromVectorTileJs=De,Ee.fromGeojsonVt=function(H,N){N=N||{};var j={};for(var Y in H)j[Y]=new Ge(H[Y].features,N),j[Y].name=Y,j[Y].version=N.version,j[Y].extent=N.extent;return De({layers:j})},Ee.GeoJSONWrapper=ve;var Yt=function(H){return H[0]},pt=function(H){return H[1]},We=function(H,N,j,Y,ie){N===void 0&&(N=Yt),j===void 0&&(j=pt),Y===void 0&&(Y=64),ie===void 0&&(ie=Float64Array),this.nodeSize=Y,this.points=H;for(var ge=H.length<65536?Uint16Array:Uint32Array,ye=this.ids=new ge(H.length),X=this.coords=new ie(2*H.length),oe=0;oe<H.length;oe++)ye[oe]=oe,X[2*oe]=N(H[oe]),X[2*oe+1]=j(H[oe]);(function Ce(Je,tt,Re,$e,xt,_t){if(!(xt-$e<=Re)){var ze=$e+xt>>1;(function dt(lt,ht,rr,gt,cr,Mr){for(;cr>gt;){if(cr-gt>600){var se=cr-gt+1,mt=rr-gt+1,It=Math.log(se),qr=.5*Math.exp(2*It/3),hr=.5*Math.sqrt(It*qr*(se-qr)/se)*(mt-se/2<0?-1:1);dt(lt,ht,rr,Math.max(gt,Math.floor(rr-mt*qr/se+hr)),Math.min(cr,Math.floor(rr+(se-mt)*qr/se+hr)),Mr)}var Dr=ht[2*rr+Mr],zr=gt,fr=cr;for(at(lt,ht,gt,rr),ht[2*cr+Mr]>Dr&&at(lt,ht,gt,cr);zr<fr;){for(at(lt,ht,zr,fr),zr++,fr--;ht[2*zr+Mr]<Dr;)zr++;for(;ht[2*fr+Mr]>Dr;)fr--}ht[2*gt+Mr]===Dr?at(lt,ht,gt,fr):at(lt,ht,++fr,cr),fr<=rr&&(gt=fr+1),rr<=fr&&(cr=fr-1)}})(Je,tt,ze,$e,xt,_t%2),Ce(Je,tt,Re,$e,ze-1,_t+1),Ce(Je,tt,Re,ze+1,xt,_t+1)}})(ye,X,Y,0,ye.length-1,0)};We.prototype.range=function(H,N,j,Y){return function(ie,ge,ye,X,oe,Ce,Je){for(var tt,Re,$e=[0,ie.length-1,0],xt=[];$e.length;){var _t=$e.pop(),ze=$e.pop(),dt=$e.pop();if(ze-dt<=Je)for(var lt=dt;lt<=ze;lt++)Re=ge[2*lt+1],(tt=ge[2*lt])>=ye&&tt<=oe&&Re>=X&&Re<=Ce&&xt.push(ie[lt]);else{var ht=Math.floor((dt+ze)/2);Re=ge[2*ht+1],(tt=ge[2*ht])>=ye&&tt<=oe&&Re>=X&&Re<=Ce&&xt.push(ie[ht]);var rr=(_t+1)%2;(_t===0?ye<=tt:X<=Re)&&($e.push(dt),$e.push(ht-1),$e.push(rr)),(_t===0?oe>=tt:Ce>=Re)&&($e.push(ht+1),$e.push(ze),$e.push(rr))}}return xt}(this.ids,this.coords,H,N,j,Y,this.nodeSize)},We.prototype.within=function(H,N,j){return function(Y,ie,ge,ye,X,oe){for(var Ce=[0,Y.length-1,0],Je=[],tt=X*X;Ce.length;){var Re=Ce.pop(),$e=Ce.pop(),xt=Ce.pop();if($e-xt<=oe)for(var _t=xt;_t<=$e;_t++)jt(ie[2*_t],ie[2*_t+1],ge,ye)<=tt&&Je.push(Y[_t]);else{var ze=Math.floor((xt+$e)/2),dt=ie[2*ze],lt=ie[2*ze+1];jt(dt,lt,ge,ye)<=tt&&Je.push(Y[ze]);var ht=(Re+1)%2;(Re===0?ge-X<=dt:ye-X<=lt)&&(Ce.push(xt),Ce.push(ze-1),Ce.push(ht)),(Re===0?ge+X>=dt:ye+X>=lt)&&(Ce.push(ze+1),Ce.push($e),Ce.push(ht))}}return Je}(this.ids,this.coords,H,N,j,this.nodeSize)};var Ar={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(H){return H}},St=function(H){this.options=Kr(Object.create(Ar),H),this.trees=new Array(this.options.maxZoom+1)};function it(H,N,j,Y,ie){return{x:H,y:N,zoom:1/0,id:j,parentId:-1,numPoints:Y,properties:ie}}function wt(H,N){var j=H.geometry.coordinates,Y=j[1];return{x:$t(j[0]),y:Gt(Y),zoom:1/0,index:N,parentId:-1}}function vr(H){return{type:"Feature",id:H.id,properties:wr(H),geometry:{type:"Point",coordinates:[(Y=H.x,360*(Y-.5)),(N=H.y,j=(180-360*N)*Math.PI/180,360*Math.atan(Math.exp(j))/Math.PI-90)]}};var N,j,Y}function wr(H){var N=H.numPoints,j=N>=1e4?Math.round(N/1e3)+"k":N>=1e3?Math.round(N/100)/10+"k":N;return Kr(Kr({},H.properties),{cluster:!0,cluster_id:H.id,point_count:N,point_count_abbreviated:j})}function $t(H){return H/360+.5}function Gt(H){var N=Math.sin(H*Math.PI/180),j=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return j<0?0:j>1?1:j}function Kr(H,N){for(var j in N)H[j]=N[j];return H}function Kt(H){return H.x}function tr(H){return H.y}function ei(H,N,j,Y,ie,ge){var ye=ie-j,X=ge-Y;if(ye!==0||X!==0){var oe=((H-j)*ye+(N-Y)*X)/(ye*ye+X*X);oe>1?(j=ie,Y=ge):oe>0&&(j+=ye*oe,Y+=X*oe)}return(ye=H-j)*ye+(X=N-Y)*X}function ti(H,N,j,Y){var ie={id:H===void 0?null:H,type:N,geometry:j,tags:Y,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ge){var ye=ge.geometry,X=ge.type;if(X==="Point"||X==="MultiPoint"||X==="LineString")ri(ge,ye);else if(X==="Polygon"||X==="MultiLineString")for(var oe=0;oe<ye.length;oe++)ri(ge,ye[oe]);else if(X==="MultiPolygon")for(oe=0;oe<ye.length;oe++)for(var Ce=0;Ce<ye[oe].length;Ce++)ri(ge,ye[oe][Ce])}(ie),ie}function ri(H,N){for(var j=0;j<N.length;j+=3)H.minX=Math.min(H.minX,N[j]),H.minY=Math.min(H.minY,N[j+1]),H.maxX=Math.max(H.maxX,N[j]),H.maxY=Math.max(H.maxY,N[j+1])}function Nr(H,N,j,Y){if(N.geometry){var ie=N.geometry.coordinates,ge=N.geometry.type,ye=Math.pow(j.tolerance/((1<<j.maxZoom)*j.extent),2),X=[],oe=N.id;if(j.promoteId?oe=N.properties[j.promoteId]:j.generateId&&(oe=Y||0),ge==="Point")Mi(ie,X);else if(ge==="MultiPoint")for(var Ce=0;Ce<ie.length;Ce++)Mi(ie[Ce],X);else if(ge==="LineString")Ui(ie,X,ye,!1);else if(ge==="MultiLineString"){if(j.lineMetrics){for(Ce=0;Ce<ie.length;Ce++)Ui(ie[Ce],X=[],ye,!1),H.push(ti(oe,"LineString",X,N.properties));return}si(ie,X,ye,!1)}else if(ge==="Polygon")si(ie,X,ye,!0);else{if(ge!=="MultiPolygon"){if(ge==="GeometryCollection"){for(Ce=0;Ce<N.geometry.geometries.length;Ce++)Nr(H,{id:oe,geometry:N.geometry.geometries[Ce],properties:N.properties},j,Y);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ce=0;Ce<ie.length;Ce++){var Je=[];si(ie[Ce],Je,ye,!0),X.push(Je)}}H.push(ti(oe,ge,X,N.properties))}}function Mi(H,N){N.push(Ai(H[0])),N.push(Si(H[1])),N.push(0)}function Ui(H,N,j,Y){for(var ie,ge,ye=0,X=0;X<H.length;X++){var oe=Ai(H[X][0]),Ce=Si(H[X][1]);N.push(oe),N.push(Ce),N.push(0),X>0&&(ye+=Y?(ie*Ce-oe*ge)/2:Math.sqrt(Math.pow(oe-ie,2)+Math.pow(Ce-ge,2))),ie=oe,ge=Ce}var Je=N.length-3;N[2]=1,function tt(Re,$e,xt,_t){for(var ze,dt=_t,lt=xt-$e>>1,ht=xt-$e,rr=Re[$e],gt=Re[$e+1],cr=Re[xt],Mr=Re[xt+1],se=$e+3;se<xt;se+=3){var mt=ei(Re[se],Re[se+1],rr,gt,cr,Mr);if(mt>dt)ze=se,dt=mt;else if(mt===dt){var It=Math.abs(se-lt);It<ht&&(ze=se,ht=It)}}dt>_t&&(ze-$e>3&&tt(Re,$e,ze,_t),Re[ze+2]=dt,xt-ze>3&&tt(Re,ze,xt,_t))}(N,0,Je,j),N[Je+2]=1,N.size=Math.abs(ye),N.start=0,N.end=N.size}function si(H,N,j,Y){for(var ie=0;ie<H.length;ie++){var ge=[];Ui(H[ie],ge,j,Y),N.push(ge)}}function Ai(H){return H/360+.5}function Si(H){var N=Math.sin(H*Math.PI/180),j=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return j<0?0:j>1?1:j}function Zr(H,N,j,Y,ie,ge,ye,X){if(Y/=N,ge>=(j/=N)&&ye<Y)return H;if(ye<j||ge>=Y)return null;for(var oe=[],Ce=0;Ce<H.length;Ce++){var Je=H[Ce],tt=Je.geometry,Re=Je.type,$e=ie===0?Je.minX:Je.minY,xt=ie===0?Je.maxX:Je.maxY;if($e>=j&&xt<Y)oe.push(Je);else if(!(xt<j||$e>=Y)){var _t=[];if(Re==="Point"||Re==="MultiPoint")Qi(tt,_t,j,Y,ie);else if(Re==="LineString")Qn(tt,_t,j,Y,ie,!1,X.lineMetrics);else if(Re==="MultiLineString")In(tt,_t,j,Y,ie,!1);else if(Re==="Polygon")In(tt,_t,j,Y,ie,!0);else if(Re==="MultiPolygon")for(var ze=0;ze<tt.length;ze++){var dt=[];In(tt[ze],dt,j,Y,ie,!0),dt.length&&_t.push(dt)}if(_t.length){if(X.lineMetrics&&Re==="LineString"){for(ze=0;ze<_t.length;ze++)oe.push(ti(Je.id,Re,_t[ze],Je.tags));continue}Re!=="LineString"&&Re!=="MultiLineString"||(_t.length===1?(Re="LineString",_t=_t[0]):Re="MultiLineString"),Re!=="Point"&&Re!=="MultiPoint"||(Re=_t.length===3?"Point":"MultiPoint"),oe.push(ti(Je.id,Re,_t,Je.tags))}}}return oe.length?oe:null}function Qi(H,N,j,Y,ie){for(var ge=0;ge<H.length;ge+=3){var ye=H[ge+ie];ye>=j&&ye<=Y&&(N.push(H[ge]),N.push(H[ge+1]),N.push(H[ge+2]))}}function Qn(H,N,j,Y,ie,ge,ye){for(var X,oe,Ce=on(H),Je=ie===0?li:Se,tt=H.start,Re=0;Re<H.length-3;Re+=3){var $e=H[Re],xt=H[Re+1],_t=H[Re+2],ze=H[Re+3],dt=H[Re+4],lt=ie===0?$e:xt,ht=ie===0?ze:dt,rr=!1;ye&&(X=Math.sqrt(Math.pow($e-ze,2)+Math.pow(xt-dt,2))),lt<j?ht>j&&(oe=Je(Ce,$e,xt,ze,dt,j),ye&&(Ce.start=tt+X*oe)):lt>Y?ht<Y&&(oe=Je(Ce,$e,xt,ze,dt,Y),ye&&(Ce.start=tt+X*oe)):je(Ce,$e,xt,_t),ht<j&&lt>=j&&(oe=Je(Ce,$e,xt,ze,dt,j),rr=!0),ht>Y&&lt<=Y&&(oe=Je(Ce,$e,xt,ze,dt,Y),rr=!0),!ge&&rr&&(ye&&(Ce.end=tt+X*oe),N.push(Ce),Ce=on(H)),ye&&(tt+=X)}var gt=H.length-3;$e=H[gt],xt=H[gt+1],_t=H[gt+2],(lt=ie===0?$e:xt)>=j&&lt<=Y&&je(Ce,$e,xt,_t),gt=Ce.length-3,ge&&gt>=3&&(Ce[gt]!==Ce[0]||Ce[gt+1]!==Ce[1])&&je(Ce,Ce[0],Ce[1],Ce[2]),Ce.length&&N.push(Ce)}function on(H){var N=[];return N.size=H.size,N.start=H.start,N.end=H.end,N}function In(H,N,j,Y,ie,ge){for(var ye=0;ye<H.length;ye++)Qn(H[ye],N,j,Y,ie,ge,!1)}function je(H,N,j,Y){H.push(N),H.push(j),H.push(Y)}function li(H,N,j,Y,ie,ge){var ye=(ge-N)/(Y-N);return H.push(ge),H.push(j+(ie-j)*ye),H.push(1),ye}function Se(H,N,j,Y,ie,ge){var ye=(ge-j)/(ie-j);return H.push(N+(Y-N)*ye),H.push(ge),H.push(1),ye}function Tr(H,N){for(var j=[],Y=0;Y<H.length;Y++){var ie,ge=H[Y],ye=ge.type;if(ye==="Point"||ye==="MultiPoint"||ye==="LineString")ie=yr(ge.geometry,N);else if(ye==="MultiLineString"||ye==="Polygon"){ie=[];for(var X=0;X<ge.geometry.length;X++)ie.push(yr(ge.geometry[X],N))}else if(ye==="MultiPolygon")for(ie=[],X=0;X<ge.geometry.length;X++){for(var oe=[],Ce=0;Ce<ge.geometry[X].length;Ce++)oe.push(yr(ge.geometry[X][Ce],N));ie.push(oe)}j.push(ti(ge.id,ye,ie,ge.tags))}return j}function yr(H,N){var j=[];j.size=H.size,H.start!==void 0&&(j.start=H.start,j.end=H.end);for(var Y=0;Y<H.length;Y+=3)j.push(H[Y]+N,H[Y+1],H[Y+2]);return j}function ci(H,N){if(H.transformed)return H;var j,Y,ie,ge=1<<H.z,ye=H.x,X=H.y;for(j=0;j<H.features.length;j++){var oe=H.features[j],Ce=oe.geometry,Je=oe.type;if(oe.geometry=[],Je===1)for(Y=0;Y<Ce.length;Y+=2)oe.geometry.push(hi(Ce[Y],Ce[Y+1],N,ge,ye,X));else for(Y=0;Y<Ce.length;Y++){var tt=[];for(ie=0;ie<Ce[Y].length;ie+=2)tt.push(hi(Ce[Y][ie],Ce[Y][ie+1],N,ge,ye,X));oe.geometry.push(tt)}}return H.transformed=!0,H}function hi(H,N,j,Y,ie,ge){return[Math.round(j*(H*Y-ie)),Math.round(j*(N*Y-ge))]}function ui(H,N,j,Y,ie){for(var ge=N===ie.maxZoom?0:ie.tolerance/((1<<N)*ie.extent),ye={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:j,y:Y,z:N,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},X=0;X<H.length;X++){ye.numFeatures++,fn(ye,H[X],ge,ie);var oe=H[X].minX,Ce=H[X].minY,Je=H[X].maxX,tt=H[X].maxY;oe<ye.minX&&(ye.minX=oe),Ce<ye.minY&&(ye.minY=Ce),Je>ye.maxX&&(ye.maxX=Je),tt>ye.maxY&&(ye.maxY=tt)}return ye}function fn(H,N,j,Y){var ie=N.geometry,ge=N.type,ye=[];if(ge==="Point"||ge==="MultiPoint")for(var X=0;X<ie.length;X+=3)ye.push(ie[X]),ye.push(ie[X+1]),H.numPoints++,H.numSimplified++;else if(ge==="LineString")Sn(ye,ie,H,j,!1,!1);else if(ge==="MultiLineString"||ge==="Polygon")for(X=0;X<ie.length;X++)Sn(ye,ie[X],H,j,ge==="Polygon",X===0);else if(ge==="MultiPolygon")for(var oe=0;oe<ie.length;oe++){var Ce=ie[oe];for(X=0;X<Ce.length;X++)Sn(ye,Ce[X],H,j,!0,X===0)}if(ye.length){var Je=N.tags||null;if(ge==="LineString"&&Y.lineMetrics){for(var tt in Je={},N.tags)Je[tt]=N.tags[tt];Je.mapbox_clip_start=ie.start/ie.size,Je.mapbox_clip_end=ie.end/ie.size}var Re={geometry:ye,type:ge==="Polygon"||ge==="MultiPolygon"?3:ge==="LineString"||ge==="MultiLineString"?2:1,tags:Je};N.id!==null&&(Re.id=N.id),H.features.push(Re)}}function Sn(H,N,j,Y,ie,ge){var ye=Y*Y;if(Y>0&&N.size<(ie?ye:Y))j.numPoints+=N.length/3;else{for(var X=[],oe=0;oe<N.length;oe+=3)(Y===0||N[oe+2]>ye)&&(j.numSimplified++,X.push(N[oe]),X.push(N[oe+1])),j.numPoints++;ie&&function(Ce,Je){for(var tt=0,Re=0,$e=Ce.length,xt=$e-2;Re<$e;xt=Re,Re+=2)tt+=(Ce[Re]-Ce[xt])*(Ce[Re+1]+Ce[xt+1]);if(tt>0===Je)for(Re=0,$e=Ce.length;Re<$e/2;Re+=2){var _t=Ce[Re],ze=Ce[Re+1];Ce[Re]=Ce[$e-2-Re],Ce[Re+1]=Ce[$e-1-Re],Ce[$e-2-Re]=_t,Ce[$e-1-Re]=ze}}(X,ge),H.push(X)}}function Pe(H,N){var j=(N=this.options=function(ie,ge){for(var ye in ge)ie[ye]=ge[ye];return ie}(Object.create(this.options),N)).debug;if(j&&console.time("preprocess data"),N.maxZoom<0||N.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(N.promoteId&&N.generateId)throw new Error("promoteId and generateId cannot be used together.");var Y=function(ie,ge){var ye=[];if(ie.type==="FeatureCollection")for(var X=0;X<ie.features.length;X++)Nr(ye,ie.features[X],ge,X);else Nr(ye,ie.type==="Feature"?ie:{geometry:ie},ge);return ye}(H,N);this.tiles={},this.tileCoords=[],j&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",N.indexMaxZoom,N.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Y=function(ie,ge){var ye=ge.buffer/ge.extent,X=ie,oe=Zr(ie,1,-1-ye,ye,0,-1,2,ge),Ce=Zr(ie,1,1-ye,2+ye,0,-1,2,ge);return(oe||Ce)&&(X=Zr(ie,1,-ye,1+ye,0,-1,2,ge)||[],oe&&(X=Tr(oe,1).concat(X)),Ce&&(X=X.concat(Tr(Ce,-1)))),X}(Y,N)).length&&this.splitTile(Y,0,0,0),j&&(Y.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ti(H,N,j){return 32*((1<<H)*j+N)+H}function pn(H,N){var j=H.tileID.canonical;if(!this._geoJSONIndex)return N(null,null);var Y=this._geoJSONIndex.getTile(j.z,j.x,j.y);if(!Y)return N(null,null);var ie=new me(Y.features),ge=Ee(ie);ge.byteOffset===0&&ge.byteLength===ge.buffer.byteLength||(ge=new Uint8Array(ge)),N(null,{vectorTile:ie,rawData:ge.buffer})}St.prototype.load=function(H){var N=this.options,j=N.log,Y=N.minZoom,ie=N.maxZoom,ge=N.nodeSize;j&&console.time("total time");var ye="prepare "+H.length+" points";j&&console.time(ye),this.points=H;for(var X=[],oe=0;oe<H.length;oe++)H[oe].geometry&&X.push(wt(H[oe],oe));this.trees[ie+1]=new We(X,Kt,tr,ge,Float32Array),j&&console.timeEnd(ye);for(var Ce=ie;Ce>=Y;Ce--){var Je=+Date.now();X=this._cluster(X,Ce),this.trees[Ce]=new We(X,Kt,tr,ge,Float32Array),j&&console.log("z%d: %d clusters in %dms",Ce,X.length,+Date.now()-Je)}return j&&console.timeEnd("total time"),this},St.prototype.getClusters=function(H,N){var j=((H[0]+180)%360+360)%360-180,Y=Math.max(-90,Math.min(90,H[1])),ie=H[2]===180?180:((H[2]+180)%360+360)%360-180,ge=Math.max(-90,Math.min(90,H[3]));if(H[2]-H[0]>=360)j=-180,ie=180;else if(j>ie){var ye=this.getClusters([j,Y,180,ge],N),X=this.getClusters([-180,Y,ie,ge],N);return ye.concat(X)}for(var oe=this.trees[this._limitZoom(N)],Ce=[],Je=0,tt=oe.range($t(j),Gt(ge),$t(ie),Gt(Y));Je<tt.length;Je+=1){var Re=oe.points[tt[Je]];Ce.push(Re.numPoints?vr(Re):this.points[Re.index])}return Ce},St.prototype.getChildren=function(H){var N=this._getOriginId(H),j=this._getOriginZoom(H),Y="No cluster with the specified id.",ie=this.trees[j];if(!ie)throw new Error(Y);var ge=ie.points[N];if(!ge)throw new Error(Y);for(var ye=this.options.radius/(this.options.extent*Math.pow(2,j-1)),X=[],oe=0,Ce=ie.within(ge.x,ge.y,ye);oe<Ce.length;oe+=1){var Je=ie.points[Ce[oe]];Je.parentId===H&&X.push(Je.numPoints?vr(Je):this.points[Je.index])}if(X.length===0)throw new Error(Y);return X},St.prototype.getLeaves=function(H,N,j){var Y=[];return this._appendLeaves(Y,H,N=N||10,j=j||0,0),Y},St.prototype.getTile=function(H,N,j){var Y=this.trees[this._limitZoom(H)],ie=Math.pow(2,H),ge=this.options,ye=ge.radius/ge.extent,X=(j-ye)/ie,oe=(j+1+ye)/ie,Ce={features:[]};return this._addTileFeatures(Y.range((N-ye)/ie,X,(N+1+ye)/ie,oe),Y.points,N,j,ie,Ce),N===0&&this._addTileFeatures(Y.range(1-ye/ie,X,1,oe),Y.points,ie,j,ie,Ce),N===ie-1&&this._addTileFeatures(Y.range(0,X,ye/ie,oe),Y.points,-1,j,ie,Ce),Ce.features.length?Ce:null},St.prototype.getClusterExpansionZoom=function(H){for(var N=this._getOriginZoom(H)-1;N<=this.options.maxZoom;){var j=this.getChildren(H);if(N++,j.length!==1)break;H=j[0].properties.cluster_id}return N},St.prototype._appendLeaves=function(H,N,j,Y,ie){for(var ge=0,ye=this.getChildren(N);ge<ye.length;ge+=1){var X=ye[ge],oe=X.properties;if(oe&&oe.cluster?ie+oe.point_count<=Y?ie+=oe.point_count:ie=this._appendLeaves(H,oe.cluster_id,j,Y,ie):ie<Y?ie++:H.push(X),H.length===j)break}return ie},St.prototype._addTileFeatures=function(H,N,j,Y,ie,ge){for(var ye=0,X=H;ye<X.length;ye+=1){var oe=N[X[ye]],Ce=oe.numPoints,Je={type:1,geometry:[[Math.round(this.options.extent*(oe.x*ie-j)),Math.round(this.options.extent*(oe.y*ie-Y))]],tags:Ce?wr(oe):this.points[oe.index].properties},tt=void 0;Ce?tt=oe.id:this.options.generateId?tt=oe.index:this.points[oe.index].id&&(tt=this.points[oe.index].id),tt!==void 0&&(Je.id=tt),ge.features.push(Je)}},St.prototype._limitZoom=function(H){return Math.max(this.options.minZoom,Math.min(+H,this.options.maxZoom+1))},St.prototype._cluster=function(H,N){for(var j=[],Y=this.options,ie=Y.reduce,ge=Y.minPoints,ye=Y.radius/(Y.extent*Math.pow(2,N)),X=0;X<H.length;X++){var oe=H[X];if(!(oe.zoom<=N)){oe.zoom=N;for(var Ce=this.trees[N+1],Je=Ce.within(oe.x,oe.y,ye),tt=oe.numPoints||1,Re=tt,$e=0,xt=Je;$e<xt.length;$e+=1){var _t=Ce.points[xt[$e]];_t.zoom>N&&(Re+=_t.numPoints||1)}if(Re>=ge){for(var ze=oe.x*tt,dt=oe.y*tt,lt=ie&&tt>1?this._map(oe,!0):null,ht=(X<<5)+(N+1)+this.points.length,rr=0,gt=Je;rr<gt.length;rr+=1){var cr=Ce.points[gt[rr]];if(!(cr.zoom<=N)){cr.zoom=N;var Mr=cr.numPoints||1;ze+=cr.x*Mr,dt+=cr.y*Mr,cr.parentId=ht,ie&&(lt||(lt=this._map(oe,!0)),ie(lt,this._map(cr)))}}oe.parentId=ht,j.push(it(ze/Re,dt/Re,ht,Re,lt))}else if(j.push(oe),Re>1)for(var se=0,mt=Je;se<mt.length;se+=1){var It=Ce.points[mt[se]];It.zoom<=N||(It.zoom=N,j.push(It))}}}return j},St.prototype._getOriginId=function(H){return H-this.points.length>>5},St.prototype._getOriginZoom=function(H){return(H-this.points.length)%32},St.prototype._map=function(H,N){if(H.numPoints)return N?Kr({},H.properties):H.properties;var j=this.points[H.index].properties,Y=this.options.map(j);return N&&Y===j?Kr({},Y):Y},Pe.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Pe.prototype.splitTile=function(H,N,j,Y,ie,ge,ye){for(var X=[H,N,j,Y],oe=this.options,Ce=oe.debug;X.length;){Y=X.pop(),j=X.pop(),N=X.pop(),H=X.pop();var Je=1<<N,tt=Ti(N,j,Y),Re=this.tiles[tt];if(!Re&&(Ce>1&&console.time("creation"),Re=this.tiles[tt]=ui(H,N,j,Y,oe),this.tileCoords.push({z:N,x:j,y:Y}),Ce)){Ce>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",N,j,Y,Re.numFeatures,Re.numPoints,Re.numSimplified),console.timeEnd("creation"));var $e="z"+N;this.stats[$e]=(this.stats[$e]||0)+1,this.total++}if(Re.source=H,ie){if(N===oe.maxZoom||N===ie)continue;var xt=1<<ie-N;if(j!==Math.floor(ge/xt)||Y!==Math.floor(ye/xt))continue}else if(N===oe.indexMaxZoom||Re.numPoints<=oe.indexMaxPoints)continue;if(Re.source=null,H.length!==0){Ce>1&&console.time("clipping");var _t,ze,dt,lt,ht,rr,gt=.5*oe.buffer/oe.extent,cr=.5-gt,Mr=.5+gt,se=1+gt;_t=ze=dt=lt=null,ht=Zr(H,Je,j-gt,j+Mr,0,Re.minX,Re.maxX,oe),rr=Zr(H,Je,j+cr,j+se,0,Re.minX,Re.maxX,oe),H=null,ht&&(_t=Zr(ht,Je,Y-gt,Y+Mr,1,Re.minY,Re.maxY,oe),ze=Zr(ht,Je,Y+cr,Y+se,1,Re.minY,Re.maxY,oe),ht=null),rr&&(dt=Zr(rr,Je,Y-gt,Y+Mr,1,Re.minY,Re.maxY,oe),lt=Zr(rr,Je,Y+cr,Y+se,1,Re.minY,Re.maxY,oe),rr=null),Ce>1&&console.timeEnd("clipping"),X.push(_t||[],N+1,2*j,2*Y),X.push(ze||[],N+1,2*j,2*Y+1),X.push(dt||[],N+1,2*j+1,2*Y),X.push(lt||[],N+1,2*j+1,2*Y+1)}}},Pe.prototype.getTile=function(H,N,j){var Y=this.options,ie=Y.extent,ge=Y.debug;if(H<0||H>24)return null;var ye=1<<H,X=Ti(H,N=(N%ye+ye)%ye,j);if(this.tiles[X])return ci(this.tiles[X],ie);ge>1&&console.log("drilling down to z%d-%d-%d",H,N,j);for(var oe,Ce=H,Je=N,tt=j;!oe&&Ce>0;)Ce--,Je=Math.floor(Je/2),tt=Math.floor(tt/2),oe=this.tiles[Ti(Ce,Je,tt)];return oe&&oe.source?(ge>1&&console.log("found parent tile z%d-%d-%d",Ce,Je,tt),ge>1&&console.time("drilling down"),this.splitTile(oe.source,Ce,Je,tt,H,N,j),ge>1&&console.timeEnd("drilling down"),this.tiles[X]?ci(this.tiles[X],ie):null):null};var Tn=function(H){function N(j,Y,ie,ge){H.call(this,j,Y,ie,pn),ge&&(this.loadGeoJSON=ge)}return H&&(N.__proto__=H),(N.prototype=Object.create(H&&H.prototype)).constructor=N,N.prototype.loadData=function(j,Y){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Y,this._pendingLoadDataParams=j,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},N.prototype._loadData=function(){var j=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Y=this._pendingCallback,ie=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ge=!!(ie&&ie.request&&ie.request.collectResourceTiming)&&new a.RequestPerformance(ie.request);this.loadGeoJSON(ie,function(ye,X){if(ye||!X)return Y(ye);if(typeof X!="object")return Y(new Error("Input data given to '"+ie.source+"' is not a valid GeoJSON object."));(function Re($e,xt){var _t,ze=$e&&$e.type;if(ze==="FeatureCollection")for(_t=0;_t<$e.features.length;_t++)Re($e.features[_t],xt);else if(ze==="GeometryCollection")for(_t=0;_t<$e.geometries.length;_t++)Re($e.geometries[_t],xt);else if(ze==="Feature")Re($e.geometry,xt);else if(ze==="Polygon")R($e.coordinates,xt);else if(ze==="MultiPolygon")for(_t=0;_t<$e.coordinates.length;_t++)R($e.coordinates[_t],xt);return $e})(X,!0);try{if(ie.filter){var oe=a.createExpression(ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(oe.result==="error")throw new Error(oe.value.map(function(Re){return Re.key+": "+Re.message}).join(", "));var Ce=X.features.filter(function(Re){return oe.value.evaluate({zoom:0},Re)});X={type:"FeatureCollection",features:Ce}}j._geoJSONIndex=ie.cluster?new St(function(Re){var $e=Re.superclusterOptions,xt=Re.clusterProperties;if(!xt||!$e)return $e;for(var _t={},ze={},dt={accumulated:null,zoom:0},lt={properties:null},ht=Object.keys(xt),rr=0,gt=ht;rr<gt.length;rr+=1){var cr=gt[rr],Mr=xt[cr],se=Mr[0],mt=a.createExpression(Mr[1]),It=a.createExpression(typeof se=="string"?[se,["accumulated"],["get",cr]]:se);_t[cr]=mt.value,ze[cr]=It.value}return $e.map=function(qr){lt.properties=qr;for(var hr={},Dr=0,zr=ht;Dr<zr.length;Dr+=1){var fr=zr[Dr];hr[fr]=_t[fr].evaluate(dt,lt)}return hr},$e.reduce=function(qr,hr){lt.properties=hr;for(var Dr=0,zr=ht;Dr<zr.length;Dr+=1){var fr=zr[Dr];dt.accumulated=qr[fr],qr[fr]=ze[fr].evaluate(dt,lt)}},$e}(ie)).load(X.features):function(Re,$e){return new Pe(Re,$e)}(X,ie.geojsonVtOptions)}catch(Re){return Y(Re)}j.loaded={};var Je={};if(ge){var tt=ge.finish();tt&&(Je.resourceTiming={},Je.resourceTiming[ie.source]=JSON.parse(JSON.stringify(tt)))}Y(null,Je)})}},N.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},N.prototype.reloadTile=function(j,Y){var ie=this.loaded;return ie&&ie[j.uid]?H.prototype.reloadTile.call(this,j,Y):this.loadTile(j,Y)},N.prototype.loadGeoJSON=function(j,Y){if(j.request)a.getJSON(j.request,Y);else{if(typeof j.data!="string")return Y(new Error("Input data given to '"+j.source+"' is not a valid GeoJSON object."));try{return Y(null,JSON.parse(j.data))}catch{return Y(new Error("Input data given to '"+j.source+"' is not a valid GeoJSON object."))}}},N.prototype.removeSource=function(j,Y){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Y()},N.prototype.getClusterExpansionZoom=function(j,Y){try{Y(null,this._geoJSONIndex.getClusterExpansionZoom(j.clusterId))}catch(ie){Y(ie)}},N.prototype.getClusterChildren=function(j,Y){try{Y(null,this._geoJSONIndex.getChildren(j.clusterId))}catch(ie){Y(ie)}},N.prototype.getClusterLeaves=function(j,Y){try{Y(null,this._geoJSONIndex.getLeaves(j.clusterId,j.limit,j.offset))}catch(ie){Y(ie)}},N}(k),br=function(H){var N=this;this.self=H,this.actor=new a.Actor(H,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:k,geojson:Tn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(j,Y){if(N.workerSourceTypes[j])throw new Error('Worker source with name "'+j+'" already registered.');N.workerSourceTypes[j]=Y},this.self.registerRTLTextPlugin=function(j){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=j.applyArabicShaping,a.plugin.processBidirectionalText=j.processBidirectionalText,a.plugin.processStyledBidirectionalText=j.processStyledBidirectionalText}};return br.prototype.setReferrer=function(H,N){this.referrer=N},br.prototype.setImages=function(H,N,j){for(var Y in this.availableImages[H]=N,this.workerSources[H]){var ie=this.workerSources[H][Y];for(var ge in ie)ie[ge].availableImages=N}j()},br.prototype.setLayers=function(H,N,j){this.getLayerIndex(H).replace(N),j()},br.prototype.updateLayers=function(H,N,j){this.getLayerIndex(H).update(N.layers,N.removedIds),j()},br.prototype.loadTile=function(H,N,j){this.getWorkerSource(H,N.type,N.source).loadTile(N,j)},br.prototype.loadDEMTile=function(H,N,j){this.getDEMWorkerSource(H,N.source).loadTile(N,j)},br.prototype.reloadTile=function(H,N,j){this.getWorkerSource(H,N.type,N.source).reloadTile(N,j)},br.prototype.abortTile=function(H,N,j){this.getWorkerSource(H,N.type,N.source).abortTile(N,j)},br.prototype.removeTile=function(H,N,j){this.getWorkerSource(H,N.type,N.source).removeTile(N,j)},br.prototype.removeDEMTile=function(H,N){this.getDEMWorkerSource(H,N.source).removeTile(N)},br.prototype.removeSource=function(H,N,j){if(this.workerSources[H]&&this.workerSources[H][N.type]&&this.workerSources[H][N.type][N.source]){var Y=this.workerSources[H][N.type][N.source];delete this.workerSources[H][N.type][N.source],Y.removeSource!==void 0?Y.removeSource(N,j):j()}},br.prototype.loadWorkerSource=function(H,N,j){try{this.self.importScripts(N.url),j()}catch(Y){j(Y.toString())}},br.prototype.syncRTLPluginState=function(H,N,j){try{a.plugin.setState(N);var Y=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Y!=null){this.self.importScripts(Y);var ie=a.plugin.isParsed();j(ie?void 0:new Error("RTL Text Plugin failed to import scripts from "+Y),ie)}}catch(ge){j(ge.toString())}},br.prototype.getAvailableImages=function(H){var N=this.availableImages[H];return N||(N=[]),N},br.prototype.getLayerIndex=function(H){var N=this.layerIndexes[H];return N||(N=this.layerIndexes[H]=new F),N},br.prototype.getWorkerSource=function(H,N,j){var Y=this;return this.workerSources[H]||(this.workerSources[H]={}),this.workerSources[H][N]||(this.workerSources[H][N]={}),this.workerSources[H][N][j]||(this.workerSources[H][N][j]=new this.workerSourceTypes[N]({send:function(ie,ge,ye){Y.actor.send(ie,ge,ye,H)}},this.getLayerIndex(H),this.getAvailableImages(H))),this.workerSources[H][N][j]},br.prototype.getDEMWorkerSource=function(H,N){return this.demWorkerSources[H]||(this.demWorkerSources[H]={}),this.demWorkerSources[H][N]||(this.demWorkerSources[H][N]=new $),this.demWorkerSources[H][N]},br.prototype.enforceCacheSizeLimit=function(H,N){a.enforceCacheSizeLimit(N)},typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new br(self)),br}),p(["./shared"],function(a){var _=a.createCommonjsModule(function(u){function h(w){return!c(w)}function c(w){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var E,S,D=new Blob([""],{type:"text/javascript"}),O=URL.createObjectURL(D);try{S=new Worker(O),E=!0}catch{E=!1}return S&&S.terminate(),URL.revokeObjectURL(O),E}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var E=document.createElement("canvas");E.width=E.height=1;var S=E.getContext("2d");if(!S)return!1;var D=S.getImageData(0,0,1,1);return D&&D.width===E.width}()?(d[C=w&&w.failIfMajorPerformanceCaveat]===void 0&&(d[C]=function(E){var S=function(O){var q=document.createElement("canvas"),W=Object.create(h.webGLContextAttributes);return W.failIfMajorPerformanceCaveat=O,q.probablySupportsContext?q.probablySupportsContext("webgl",W)||q.probablySupportsContext("experimental-webgl",W):q.supportsContext?q.supportsContext("webgl",W)||q.supportsContext("experimental-webgl",W):q.getContext("webgl",W)||q.getContext("experimental-webgl",W)}(E);if(!S)return!1;var D=S.createShader(S.VERTEX_SHADER);return!(!D||S.isContextLost())&&(S.shaderSource(D,"void main() {}"),S.compileShader(D),S.getShaderParameter(D,S.COMPILE_STATUS)===!0)}(C)),d[C]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var C}u.exports?u.exports=h:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=h,window.mapboxgl.notSupportedReason=c);var d={};h.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),y={create:function(u,h,c){var d=a.window.document.createElement(u);return h!==void 0&&(d.className=h),c&&c.appendChild(d),d},createNS:function(u,h){return a.window.document.createElementNS(u,h)}},F=a.window.document&&a.window.document.documentElement.style;function Q(u){if(!F)return u[0];for(var h=0;h<u.length;h++)if(u[h]in F)return u[h];return u[0]}var x,I=Q(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);y.disableDrag=function(){F&&I&&(x=F[I],F[I]="none")},y.enableDrag=function(){F&&I&&(F[I]=x)};var M=Q(["transform","WebkitTransform"]);y.setTransform=function(u,h){u.style[M]=h};var k=!1;try{var K=Object.defineProperty({},"passive",{get:function(){k=!0}});a.window.addEventListener("test",K,K),a.window.removeEventListener("test",K,K)}catch{k=!1}y.addEventListener=function(u,h,c,d){d===void 0&&(d={}),u.addEventListener(h,c,"passive"in d&&k?d:d.capture)},y.removeEventListener=function(u,h,c,d){d===void 0&&(d={}),u.removeEventListener(h,c,"passive"in d&&k?d:d.capture)};var $=function(u){u.preventDefault(),u.stopPropagation(),a.window.removeEventListener("click",$,!0)};function R(u){var h=u.userImage;return!!(h&&h.render&&h.render())&&(u.data.replace(new Uint8Array(h.data.buffer)),!0)}y.suppressClick=function(){a.window.addEventListener("click",$,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",$,!0)},0)},y.mousePos=function(u,h){var c=u.getBoundingClientRect();return new a.Point(h.clientX-c.left-u.clientLeft,h.clientY-c.top-u.clientTop)},y.touchPos=function(u,h){for(var c=u.getBoundingClientRect(),d=[],w=0;w<h.length;w++)d.push(new a.Point(h[w].clientX-c.left-u.clientLeft,h[w].clientY-c.top-u.clientTop));return d},y.mouseButton=function(u){return a.window.InstallTrigger!==void 0&&u.button===2&&u.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:u.button},y.remove=function(u){u.parentNode&&u.parentNode.removeChild(u)};var V=function(u){function h(){u.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.isLoaded=function(){return this.loaded},h.prototype.setLoaded=function(c){if(this.loaded!==c&&(this.loaded=c,c)){for(var d=0,w=this.requestors;d<w.length;d+=1){var C=w[d];this._notify(C.ids,C.callback)}this.requestors=[]}},h.prototype.getImage=function(c){return this.images[c]},h.prototype.addImage=function(c,d){this._validate(c,d)&&(this.images[c]=d)},h.prototype._validate=function(c,d){var w=!0;return this._validateStretch(d.stretchX,d.data&&d.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+c+'" has invalid "stretchX" value'))),w=!1),this._validateStretch(d.stretchY,d.data&&d.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+c+'" has invalid "stretchY" value'))),w=!1),this._validateContent(d.content,d)||(this.fire(new a.ErrorEvent(new Error('Image "'+c+'" has invalid "content" value'))),w=!1),w},h.prototype._validateStretch=function(c,d){if(!c)return!0;for(var w=0,C=0,E=c;C<E.length;C+=1){var S=E[C];if(S[0]<w||S[1]<S[0]||d<S[1])return!1;w=S[1]}return!0},h.prototype._validateContent=function(c,d){return!(c&&(c.length!==4||c[0]<0||d.data.width<c[0]||c[1]<0||d.data.height<c[1]||c[2]<0||d.data.width<c[2]||c[3]<0||d.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))},h.prototype.updateImage=function(c,d){d.version=this.images[c].version+1,this.images[c]=d,this.updatedImages[c]=!0},h.prototype.removeImage=function(c){var d=this.images[c];delete this.images[c],delete this.patterns[c],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()},h.prototype.listImages=function(){return Object.keys(this.images)},h.prototype.getImages=function(c,d){var w=!0;if(!this.isLoaded())for(var C=0,E=c;C<E.length;C+=1)this.images[E[C]]||(w=!1);this.isLoaded()||w?this._notify(c,d):this.requestors.push({ids:c,callback:d})},h.prototype._notify=function(c,d){for(var w={},C=0,E=c;C<E.length;C+=1){var S=E[C];this.images[S]||this.fire(new a.Event("styleimagemissing",{id:S}));var D=this.images[S];D?w[S]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:Boolean(D.userImage&&D.userImage.render)}:a.warnOnce('Image "'+S+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}d(null,w)},h.prototype.getPixelSize=function(){var c=this.atlasImage;return{width:c.width,height:c.height}},h.prototype.getPattern=function(c){var d=this.patterns[c],w=this.getImage(c);if(!w)return null;if(d&&d.position.version===w.version)return d.position;if(d)d.position.version=w.version;else{var C={w:w.data.width+2,h:w.data.height+2,x:0,y:0},E=new a.ImagePosition(C,w);this.patterns[c]={bin:C,position:E}}return this._updatePatternAtlas(),this.patterns[c].position},h.prototype.bind=function(c){var d=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(c,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)},h.prototype._updatePatternAtlas=function(){var c=[];for(var d in this.patterns)c.push(this.patterns[d].bin);var w=a.potpack(c),C=w.w,E=w.h,S=this.atlasImage;for(var D in S.resize({width:C||1,height:E||1}),this.patterns){var O=this.patterns[D].bin,q=O.x+1,W=O.y+1,J=this.images[D].data,ae=J.width,Ae=J.height;a.RGBAImage.copy(J,S,{x:0,y:0},{x:q,y:W},{width:ae,height:Ae}),a.RGBAImage.copy(J,S,{x:0,y:Ae-1},{x:q,y:W-1},{width:ae,height:1}),a.RGBAImage.copy(J,S,{x:0,y:0},{x:q,y:W+Ae},{width:ae,height:1}),a.RGBAImage.copy(J,S,{x:ae-1,y:0},{x:q-1,y:W},{width:1,height:Ae}),a.RGBAImage.copy(J,S,{x:0,y:0},{x:q+ae,y:W},{width:1,height:Ae})}this.dirty=!0},h.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},h.prototype.dispatchRenderCallbacks=function(c){for(var d=0,w=c;d<w.length;d+=1){var C=w[d];if(!this.callbackDispatchedThisFrame[C]){this.callbackDispatchedThisFrame[C]=!0;var E=this.images[C];R(E)&&this.updateImage(C,E)}}},h}(a.Evented),le=we,ee=we,me=1e20;function we(u,h,c,d,w,C){this.fontSize=u||24,this.buffer=h===void 0?3:h,this.cutoff=d||.25,this.fontFamily=w||"sans-serif",this.fontWeight=C||"normal",this.radius=c||8;var E=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=E,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.d=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Int16Array(E),this.middle=Math.round(E/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Ge(u,h,c,d,w,C,E){for(var S=0;S<h;S++){for(var D=0;D<c;D++)d[D]=u[D*h+S];for(Le(d,w,C,E,c),D=0;D<c;D++)u[D*h+S]=w[D]}for(D=0;D<c;D++){for(S=0;S<h;S++)d[S]=u[D*h+S];for(Le(d,w,C,E,h),S=0;S<h;S++)u[D*h+S]=Math.sqrt(w[S])}}function Le(u,h,c,d,w){c[0]=0,d[0]=-me,d[1]=+me;for(var C=1,E=0;C<w;C++){for(var S=(u[C]+C*C-(u[c[E]]+c[E]*c[E]))/(2*C-2*c[E]);S<=d[E];)E--,S=(u[C]+C*C-(u[c[E]]+c[E]*c[E]))/(2*C-2*c[E]);c[++E]=C,d[E]=S,d[E+1]=+me}for(C=0,E=0;C<w;C++){for(;d[E+1]<C;)E++;h[C]=(C-c[E])*(C-c[E])+u[c[E]]}}we.prototype.draw=function(u){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(u,this.buffer,this.middle);for(var h=this.ctx.getImageData(0,0,this.size,this.size),c=new Uint8ClampedArray(this.size*this.size),d=0;d<this.size*this.size;d++){var w=h.data[4*d+3]/255;this.gridOuter[d]=w===1?0:w===0?me:Math.pow(Math.max(0,.5-w),2),this.gridInner[d]=w===1?me:w===0?0:Math.pow(Math.max(0,w-.5),2)}for(Ge(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Ge(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),d=0;d<this.size*this.size;d++)c[d]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[d]-this.gridInner[d])/this.radius+this.cutoff))));return c},le.default=ee;var fe=function(u,h){this.requestManager=u,this.localIdeographFontFamily=h,this.entries={}};fe.prototype.setURL=function(u){this.url=u},fe.prototype.getGlyphs=function(u,h){var c=this,d=[];for(var w in u)for(var C=0,E=u[w];C<E.length;C+=1)d.push({stack:w,id:E[C]});a.asyncAll(d,function(S,D){var O=S.stack,q=S.id,W=c.entries[O];W||(W=c.entries[O]={glyphs:{},requests:{},ranges:{}});var J=W.glyphs[q];if(J===void 0){if(J=c._tinySDF(W,O,q))return W.glyphs[q]=J,void D(null,{stack:O,id:q,glyph:J});var ae=Math.floor(q/256);if(256*ae>65535)D(new Error("glyphs > 65535 not supported"));else if(W.ranges[ae])D(null,{stack:O,id:q,glyph:J});else{var Ae=W.requests[ae];Ae||(Ae=W.requests[ae]=[],fe.loadGlyphRange(O,ae,c.url,c.requestManager,function(pe,te){if(te){for(var he in te)c._doesCharSupportLocalGlyph(+he)||(W.glyphs[+he]=te[+he]);W.ranges[ae]=!0}for(var _e=0,Ue=Ae;_e<Ue.length;_e+=1)(0,Ue[_e])(pe,te);delete W.requests[ae]})),Ae.push(function(pe,te){pe?D(pe):te&&D(null,{stack:O,id:q,glyph:te[q]||null})})}}else D(null,{stack:O,id:q,glyph:J})},function(S,D){if(S)h(S);else if(D){for(var O={},q=0,W=D;q<W.length;q+=1){var J=W[q],ae=J.stack,Ae=J.id,pe=J.glyph;(O[ae]||(O[ae]={}))[Ae]=pe&&{id:pe.id,bitmap:pe.bitmap.clone(),metrics:pe.metrics}}h(null,O)}})},fe.prototype._doesCharSupportLocalGlyph=function(u){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](u)||a.isChar["Hangul Syllables"](u)||a.isChar.Hiragana(u)||a.isChar.Katakana(u))},fe.prototype._tinySDF=function(u,h,c){var d=this.localIdeographFontFamily;if(d&&this._doesCharSupportLocalGlyph(c)){var w=u.tinySDF;if(!w){var C="400";/bold/i.test(h)?C="900":/medium/i.test(h)?C="500":/light/i.test(h)&&(C="200"),w=u.tinySDF=new fe.TinySDF(24,3,8,.25,d,C)}return{id:c,bitmap:new a.AlphaImage({width:30,height:30},w.draw(String.fromCharCode(c))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},fe.loadGlyphRange=function(u,h,c,d,w){var C=256*h,E=C+255,S=d.transformRequest(d.normalizeGlyphsURL(c).replace("{fontstack}",u).replace("{range}",C+"-"+E),a.ResourceType.Glyphs);a.getArrayBuffer(S,function(D,O){if(D)w(D);else if(O){for(var q={},W=0,J=a.parseGlyphPBF(O);W<J.length;W+=1){var ae=J[W];q[ae.id]=ae}w(null,q)}})},fe.TinySDF=le;var Ee=function(){this.specification=a.styleSpec.light.position};Ee.prototype.possiblyEvaluate=function(u,h){return a.sphericalToCartesian(u.expression.evaluate(h))},Ee.prototype.interpolate=function(u,h,c){return{x:a.number(u.x,h.x,c),y:a.number(u.y,h.y,c),z:a.number(u.z,h.z,c)}};var ve=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new Ee,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),De=function(u){function h(c){u.call(this),this._transitionable=new a.Transitionable(ve),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getLight=function(){return this._transitionable.serialize()},h.prototype.setLight=function(c,d){if(d===void 0&&(d={}),!this._validate(a.validateLight,c,d))for(var w in c){var C=c[w];a.endsWith(w,"-transition")?this._transitionable.setTransition(w.slice(0,-11),C):this._transitionable.setValue(w,C)}},h.prototype.updateTransitions=function(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)},h.prototype.hasTransition=function(){return this._transitioning.hasTransition()},h.prototype.recalculate=function(c){this.properties=this._transitioning.possiblyEvaluate(c)},h.prototype._validate=function(c,d,w){return(!w||w.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},h}(a.Evented),Qe=function(u,h){this.width=u,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};Qe.prototype.getDash=function(u,h){var c=u.join(",")+String(h);return this.dashEntry[c]||(this.dashEntry[c]=this.addDash(u,h)),this.dashEntry[c]},Qe.prototype.getDashRanges=function(u,h,c){var d=[],w=u.length%2==1?-u[u.length-1]*c:0,C=u[0]*c,E=!0;d.push({left:w,right:C,isDash:E,zeroLength:u[0]===0});for(var S=u[0],D=1;D<u.length;D++){var O=u[D];d.push({left:w=S*c,right:C=(S+=O)*c,isDash:E=!E,zeroLength:O===0})}return d},Qe.prototype.addRoundDash=function(u,h,c){for(var d=h/2,w=-c;w<=c;w++)for(var C=this.width*(this.nextRow+c+w),E=0,S=u[E],D=0;D<this.width;D++){D/S.right>1&&(S=u[++E]);var O=Math.abs(D-S.left),q=Math.abs(D-S.right),W=Math.min(O,q),J=void 0,ae=w/c*(d+1);if(S.isDash){var Ae=d-Math.abs(ae);J=Math.sqrt(W*W+Ae*Ae)}else J=d-Math.sqrt(W*W+ae*ae);this.data[C+D]=Math.max(0,Math.min(255,J+128))}},Qe.prototype.addRegularDash=function(u){for(var h=u.length-1;h>=0;--h){var c=u[h],d=u[h+1];c.zeroLength?u.splice(h,1):d&&d.isDash===c.isDash&&(d.left=c.left,u.splice(h,1))}var w=u[0],C=u[u.length-1];w.isDash===C.isDash&&(w.left=C.left-this.width,C.right=w.right+this.width);for(var E=this.width*this.nextRow,S=0,D=u[S],O=0;O<this.width;O++){O/D.right>1&&(D=u[++S]);var q=Math.abs(O-D.left),W=Math.abs(O-D.right),J=Math.min(q,W);this.data[E+O]=Math.max(0,Math.min(255,(D.isDash?J:-J)+128))}},Qe.prototype.addDash=function(u,h){var c=h?7:0,d=2*c+1;if(this.nextRow+d>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var w=0,C=0;C<u.length;C++)w+=u[C];if(w!==0){var E=this.width/w,S=this.getDashRanges(u,this.width,E);h?this.addRoundDash(S,E,c):this.addRegularDash(S)}var D={y:(this.nextRow+c+.5)/this.height,height:2*c/this.height,width:w};return this.nextRow+=d,this.dirty=!0,D},Qe.prototype.bind=function(u){var h=u.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))};var Ze=function u(h,c){this.workerPool=h,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var d=this.workerPool.acquire(this.id),w=0;w<d.length;w++){var C=new u.Actor(d[w],c,this.id);C.name="Worker "+w,this.actors.push(C)}};function Ne(u,h,c){var d=function(w,C){if(w)return c(w);if(C){var E=a.pick(a.extend(C,u),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);C.vector_layers&&(E.vectorLayers=C.vector_layers,E.vectorLayerIds=E.vectorLayers.map(function(S){return S.id})),E.tiles=h.canonicalizeTileset(E,u.url),c(null,E)}};return u.url?a.getJSON(h.transformRequest(h.normalizeSourceURL(u.url),a.ResourceType.Source),d):a.browser.frame(function(){return d(null,u)})}Ze.prototype.broadcast=function(u,h,c){a.asyncAll(this.actors,function(d,w){d.send(u,h,w)},c=c||function(){})},Ze.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Ze.prototype.remove=function(){this.actors.forEach(function(u){u.remove()}),this.actors=[],this.workerPool.release(this.id)},Ze.Actor=a.Actor;var Fe=function(u,h,c){this.bounds=a.LngLatBounds.convert(this.validateBounds(u)),this.minzoom=h||0,this.maxzoom=c||24};Fe.prototype.validateBounds=function(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]},Fe.prototype.contains=function(u){var h=Math.pow(2,u.z),c=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*h),d=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*h),w=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*h),C=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*h);return u.x>=c&&u.x<w&&u.y>=d&&u.y<C};var rt=function(u){function h(c,d,w,C){if(u.call(this),this.id=c,this.dispatcher=w,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(d,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(C)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.load=function(){var c=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ne(this._options,this.map._requestManager,function(d,w){c._tileJSONRequest=null,c._loaded=!0,d?c.fire(new a.ErrorEvent(d)):w&&(a.extend(c,w),w.bounds&&(c.tileBounds=new Fe(w.bounds,c.minzoom,c.maxzoom)),a.postTurnstileEvent(w.tiles,c.map._requestManager._customAccessToken),a.postMapLoadEvent(w.tiles,c.map._getMapId(),c.map._requestManager._skuToken,c.map._requestManager._customAccessToken),c.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),c.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},h.prototype.loaded=function(){return this._loaded},h.prototype.hasTile=function(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)},h.prototype.onAdd=function(c){this.map=c,this.load()},h.prototype.setSourceProperty=function(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},h.prototype.setTiles=function(c){var d=this;return this.setSourceProperty(function(){d._options.tiles=c}),this},h.prototype.setUrl=function(c){var d=this;return this.setSourceProperty(function(){d.url=c,d._options.url=c}),this},h.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},h.prototype.serialize=function(){return a.extend({},this._options)},h.prototype.loadTile=function(c,d){var w=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme)),C={request:this.map._requestManager.transformRequest(w,a.ResourceType.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function E(S,D){return delete c.request,c.aborted?d(null):S&&S.status!==404?d(S):(D&&D.resourceTiming&&(c.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&c.setExpiryData(D),c.loadVectorData(D,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),d(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}C.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=d:c.request=c.actor.send("reloadTile",C,E.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",C,E.bind(this)))},h.prototype.abortTile=function(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)},h.prototype.unloadTile=function(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)},h.prototype.hasTransition=function(){return!1},h}(a.Evented),ct=function(u){function h(c,d,w,C){u.call(this),this.id=c,this.dispatcher=w,this.setEventedParent(C),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},d),a.extend(this,a.pick(d,["url","scheme","tileSize"]))}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.load=function(){var c=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ne(this._options,this.map._requestManager,function(d,w){c._tileJSONRequest=null,c._loaded=!0,d?c.fire(new a.ErrorEvent(d)):w&&(a.extend(c,w),w.bounds&&(c.tileBounds=new Fe(w.bounds,c.minzoom,c.maxzoom)),a.postTurnstileEvent(w.tiles),a.postMapLoadEvent(w.tiles,c.map._getMapId(),c.map._requestManager._skuToken),c.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),c.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},h.prototype.loaded=function(){return this._loaded},h.prototype.onAdd=function(c){this.map=c,this.load()},h.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},h.prototype.serialize=function(){return a.extend({},this._options)},h.prototype.hasTile=function(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)},h.prototype.loadTile=function(c,d){var w=this,C=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);c.request=a.getImage(this.map._requestManager.transformRequest(C,a.ResourceType.Tile),function(E,S){if(delete c.request,c.aborted)c.state="unloaded",d(null);else if(E)c.state="errored",d(E);else if(S){w.map._refreshExpiredTiles&&c.setExpiryData(S),delete S.cacheControl,delete S.expires;var D=w.map.painter.context,O=D.gl;c.texture=w.map.painter.getTileTexture(S.width),c.texture?c.texture.update(S,{useMipmap:!0}):(c.texture=new a.Texture(D,S,O.RGBA,{useMipmap:!0}),c.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE,O.LINEAR_MIPMAP_NEAREST),D.extTextureFilterAnisotropic&&O.texParameterf(O.TEXTURE_2D,D.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,D.extTextureFilterAnisotropicMax)),c.state="loaded",a.cacheEntryPossiblyAdded(w.dispatcher),d(null)}})},h.prototype.abortTile=function(c,d){c.request&&(c.request.cancel(),delete c.request),d()},h.prototype.unloadTile=function(c,d){c.texture&&this.map.painter.saveTileTexture(c.texture),d()},h.prototype.hasTransition=function(){return!1},h}(a.Evented),Tt=function(u){function h(c,d,w,C){u.call(this,c,d,w,C),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},h.prototype.loadTile=function(c,d){var w=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function C(E,S){E&&(c.state="errored",d(E)),S&&(c.dem=S,c.needsHillshadePrepare=!0,c.state="loaded",d(null))}c.request=a.getImage(this.map._requestManager.transformRequest(w,a.ResourceType.Tile),function(E,S){if(delete c.request,c.aborted)c.state="unloaded",d(null);else if(E)c.state="errored",d(E);else if(S){this.map._refreshExpiredTiles&&c.setExpiryData(S),delete S.cacheControl,delete S.expires;var D=a.window.ImageBitmap&&S instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?S:a.browser.getImageData(S,1),O={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:D,encoding:this.encoding};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",O,C.bind(this)))}}.bind(this)),c.neighboringTiles=this._getNeighboringTiles(c.tileID)},h.prototype._getNeighboringTiles=function(c){var d=c.canonical,w=Math.pow(2,d.z),C=(d.x-1+w)%w,E=d.x===0?c.wrap-1:c.wrap,S=(d.x+1+w)%w,D=d.x+1===w?c.wrap+1:c.wrap,O={};return O[new a.OverscaledTileID(c.overscaledZ,E,d.z,C,d.y).key]={backfilled:!1},O[new a.OverscaledTileID(c.overscaledZ,D,d.z,S,d.y).key]={backfilled:!1},d.y>0&&(O[new a.OverscaledTileID(c.overscaledZ,E,d.z,C,d.y-1).key]={backfilled:!1},O[new a.OverscaledTileID(c.overscaledZ,c.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},O[new a.OverscaledTileID(c.overscaledZ,D,d.z,S,d.y-1).key]={backfilled:!1}),d.y+1<w&&(O[new a.OverscaledTileID(c.overscaledZ,E,d.z,C,d.y+1).key]={backfilled:!1},O[new a.OverscaledTileID(c.overscaledZ,c.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},O[new a.OverscaledTileID(c.overscaledZ,D,d.z,S,d.y+1).key]={backfilled:!1}),O},h.prototype.unloadTile=function(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})},h}(ct),at=function(u){function h(c,d,w,C){u.call(this),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=w.getActor(),this.setEventedParent(C),this._data=d.data,this._options=a.extend({},d),this._collectResourceTiming=d.collectResourceTiming,this._resourceTiming=[],d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;var E=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*E,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*E,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?Math.min(d.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.EXTENT,radius:(d.clusterRadius||50)*E,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.load=function(){var c=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(d){if(d)c.fire(new a.ErrorEvent(d));else{var w={dataType:"source",sourceDataType:"metadata"};c._collectResourceTiming&&c._resourceTiming&&c._resourceTiming.length>0&&(w.resourceTiming=c._resourceTiming,c._resourceTiming=[]),c.fire(new a.Event("data",w))}})},h.prototype.onAdd=function(c){this.map=c,this.load()},h.prototype.setData=function(c){var d=this;return this._data=c,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(w){if(w)d.fire(new a.ErrorEvent(w));else{var C={dataType:"source",sourceDataType:"content"};d._collectResourceTiming&&d._resourceTiming&&d._resourceTiming.length>0&&(C.resourceTiming=d._resourceTiming,d._resourceTiming=[]),d.fire(new a.Event("data",C))}}),this},h.prototype.getClusterExpansionZoom=function(c,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},d),this},h.prototype.getClusterChildren=function(c,d){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},d),this},h.prototype.getClusterLeaves=function(c,d,w,C){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:d,offset:w},C),this},h.prototype._updateWorkerData=function(c){var d=this;this._loaded=!1;var w=a.extend({},this.workerOptions),C=this._data;typeof C=="string"?(w.request=this.map._requestManager.transformRequest(a.browser.resolveURL(C),a.ResourceType.Source),w.request.collectResourceTiming=this._collectResourceTiming):w.data=JSON.stringify(C),this.actor.send(this.type+".loadData",w,function(E,S){d._removed||S&&S.abandoned||(d._loaded=!0,S&&S.resourceTiming&&S.resourceTiming[d.id]&&(d._resourceTiming=S.resourceTiming[d.id].slice(0)),d.actor.send(d.type+".coalesce",{source:w.source},null),c(E))})},h.prototype.loaded=function(){return this._loaded},h.prototype.loadTile=function(c,d){var w=this,C=c.actor?"reloadTile":"loadTile";c.actor=this.actor,c.request=this.actor.send(C,{type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(E,S){return delete c.request,c.unloadVectorData(),c.aborted?d(null):E?d(E):(c.loadVectorData(S,w.map.painter,C==="reloadTile"),d(null))})},h.prototype.abortTile=function(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0},h.prototype.unloadTile=function(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})},h.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},h.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},h.prototype.hasTransition=function(){return!1},h}(a.Evented),ot=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),jt=function(u){function h(c,d,w,C){u.call(this),this.id=c,this.dispatcher=w,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(C),this.options=d}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.load=function(c,d){var w=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(C,E){w._loaded=!0,C?w.fire(new a.ErrorEvent(C)):E&&(w.image=E,c&&(w.coordinates=c),d&&d(),w._finishLoading())})},h.prototype.loaded=function(){return this._loaded},h.prototype.updateImage=function(c){var d=this;return this.image&&c.url?(this.options.url=c.url,this.load(c.coordinates,function(){d.texture=null}),this):this},h.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},h.prototype.onAdd=function(c){this.map=c,this.load()},h.prototype.setCoordinates=function(c){var d=this;this.coordinates=c;var w=c.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(E){for(var S=1/0,D=1/0,O=-1/0,q=-1/0,W=0,J=E;W<J.length;W+=1){var ae=J[W];S=Math.min(S,ae.x),D=Math.min(D,ae.y),O=Math.max(O,ae.x),q=Math.max(q,ae.y)}var Ae=Math.max(O-S,q-D),pe=Math.max(0,Math.floor(-Math.log(Ae)/Math.LN2)),te=Math.pow(2,pe);return new a.CanonicalTileID(pe,Math.floor((S+O)/2*te),Math.floor((D+q)/2*te))}(w),this.minzoom=this.maxzoom=this.tileID.z;var C=w.map(function(E){return d.tileID.getTilePoint(E)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(C[0].x,C[0].y,0,0),this._boundsArray.emplaceBack(C[1].x,C[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(C[3].x,C[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(C[2].x,C[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},h.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var c=this.map.painter.context,d=c.gl;for(var w in this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,ot.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(c,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this.tiles){var C=this.tiles[w];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture)}}},h.prototype.loadTile=function(c,d){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},d(null)):(c.state="errored",d(null))},h.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},h.prototype.hasTransition=function(){return!1},h}(a.Evented),Yt=function(u){function h(c,d,w,C){u.call(this,c,d,w,C),this.roundZoom=!0,this.type="video",this.options=d}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.load=function(){var c=this;this._loaded=!1;var d=this.options;this.urls=[];for(var w=0,C=d.urls;w<C.length;w+=1)this.urls.push(this.map._requestManager.transformRequest(C[w],a.ResourceType.Source).url);a.getVideo(this.urls,function(E,S){c._loaded=!0,E?c.fire(new a.ErrorEvent(E)):S&&(c.video=S,c.video.loop=!0,c.video.addEventListener("playing",function(){c.map.triggerRepaint()}),c.map&&c.video.play(),c._finishLoading())})},h.prototype.pause=function(){this.video&&this.video.pause()},h.prototype.play=function(){this.video&&this.video.play()},h.prototype.seek=function(c){if(this.video){var d=this.video.seekable;c<d.start(0)||c>d.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+d.start(0)+" and "+d.end(0)+"-second mark."))):this.video.currentTime=c}},h.prototype.getVideo=function(){return this.video},h.prototype.onAdd=function(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},h.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var c=this.map.painter.context,d=c.gl;for(var w in this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,ot.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(c,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this.tiles){var C=this.tiles[w];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture)}}},h.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},h.prototype.hasTransition=function(){return this.video&&!this.video.paused},h}(jt),pt=function(u){function h(c,d,w,C){u.call(this,c,d,w,C),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(function(E){return!Array.isArray(E)||E.length!==2||E.some(function(S){return typeof S!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},h.prototype.getCanvas=function(){return this.canvas},h.prototype.onAdd=function(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()},h.prototype.onRemove=function(){this.pause()},h.prototype.prepare=function(){var c=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,c=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,c=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var d=this.map.painter.context,w=d.gl;for(var C in this.boundsBuffer||(this.boundsBuffer=d.createVertexBuffer(this._boundsArray,ot.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(c||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(d,this.canvas,w.RGBA,{premultiply:!0}),this.tiles){var E=this.tiles[C];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture)}}},h.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},h.prototype.hasTransition=function(){return this._playing},h.prototype._hasInvalidDimensions=function(){for(var c=0,d=[this.canvas.width,this.canvas.height];c<d.length;c+=1){var w=d[c];if(isNaN(w)||w<=0)return!0}return!1},h}(jt),We={vector:rt,raster:ct,"raster-dem":Tt,geojson:at,video:Yt,image:jt,canvas:pt};function Ar(u,h){var c=a.identity([]);return a.translate(c,c,[1,1,0]),a.scale(c,c,[.5*u.width,.5*u.height,1]),a.multiply(c,c,u.calculatePosMatrix(h.toUnwrapped()))}function St(u,h,c,d,w,C){var E=function(pe,te,he){if(pe)for(var _e=0,Ue=pe;_e<Ue.length;_e+=1){var Oe=te[Ue[_e]];if(Oe&&Oe.source===he&&Oe.type==="fill-extrusion")return!0}else for(var Me in te){var Ke=te[Me];if(Ke.source===he&&Ke.type==="fill-extrusion")return!0}return!1}(w&&w.layers,h,u.id),S=C.maxPitchScaleFactor(),D=u.tilesIn(d,S,E);D.sort(it);for(var O=[],q=0,W=D;q<W.length;q+=1){var J=W[q];O.push({wrappedTileID:J.tileID.wrapped().key,queryResults:J.tile.queryRenderedFeatures(h,c,u._state,J.queryGeometry,J.cameraQueryGeometry,J.scale,w,C,S,Ar(u.transform,J.tileID))})}var ae=function(pe){for(var te={},he={},_e=0,Ue=pe;_e<Ue.length;_e+=1){var Oe=Ue[_e],Me=Oe.queryResults,Ke=Oe.wrappedTileID,et=he[Ke]=he[Ke]||{};for(var ut in Me)for(var st=Me[ut],bt=et[ut]=et[ut]||{},Pt=te[ut]=te[ut]||[],Vt=0,Nt=st;Vt<Nt.length;Vt+=1){var Pr=Nt[Vt];bt[Pr.featureIndex]||(bt[Pr.featureIndex]=!0,Pt.push(Pr))}}return te}(O);for(var Ae in ae)ae[Ae].forEach(function(pe){var te=pe.feature,he=u.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=he});return ae}function it(u,h){var c=u.tileID,d=h.tileID;return c.overscaledZ-d.overscaledZ||c.canonical.y-d.canonical.y||c.wrap-d.wrap||c.canonical.x-d.canonical.x}var wt=function(u,h){this.max=u,this.onRemove=h,this.reset()};wt.prototype.reset=function(){for(var u in this.data)for(var h=0,c=this.data[u];h<c.length;h+=1){var d=c[h];d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value)}return this.data={},this.order=[],this},wt.prototype.add=function(u,h,c){var d=this,w=u.wrapped().key;this.data[w]===void 0&&(this.data[w]=[]);var C={value:h,timeout:void 0};if(c!==void 0&&(C.timeout=setTimeout(function(){d.remove(u,C)},c)),this.data[w].push(C),this.order.push(w),this.order.length>this.max){var E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this},wt.prototype.has=function(u){return u.wrapped().key in this.data},wt.prototype.getAndRemove=function(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null},wt.prototype._getAndRemoveByKey=function(u){var h=this.data[u].shift();return h.timeout&&clearTimeout(h.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),h.value},wt.prototype.getByKey=function(u){var h=this.data[u];return h?h[0].value:null},wt.prototype.get=function(u){return this.has(u)?this.data[u.wrapped().key][0].value:null},wt.prototype.remove=function(u,h){if(!this.has(u))return this;var c=u.wrapped().key,d=h===void 0?0:this.data[c].indexOf(h),w=this.data[c][d];return this.data[c].splice(d,1),w.timeout&&clearTimeout(w.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(w.value),this.order.splice(this.order.indexOf(c),1),this},wt.prototype.setMaxSize=function(u){for(this.max=u;this.order.length>this.max;){var h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this},wt.prototype.filter=function(u){var h=[];for(var c in this.data)for(var d=0,w=this.data[c];d<w.length;d+=1){var C=w[d];u(C.value)||h.push(C)}for(var E=0,S=h;E<S.length;E+=1){var D=S[E];this.remove(D.value.tileID,D)}};var vr=function(u,h,c){this.context=u;var d=u.gl;this.buffer=d.createBuffer(),this.dynamicDraw=Boolean(c),this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),d.bufferData(d.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?d.DYNAMIC_DRAW:d.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer};vr.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},vr.prototype.updateData=function(u){var h=this.context.gl;this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)},vr.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var wr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},$t=function(u,h,c,d){this.length=h.length,this.attributes=c,this.itemSize=h.bytesPerElement,this.dynamicDraw=d,this.context=u;var w=u.gl;this.buffer=w.createBuffer(),u.bindVertexBuffer.set(this.buffer),w.bufferData(w.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer};$t.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},$t.prototype.updateData=function(u){var h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,u.arrayBuffer)},$t.prototype.enableAttributes=function(u,h){for(var c=0;c<this.attributes.length;c++){var d=h.attributes[this.attributes[c].name];d!==void 0&&u.enableVertexAttribArray(d)}},$t.prototype.setVertexAttribPointers=function(u,h,c){for(var d=0;d<this.attributes.length;d++){var w=this.attributes[d],C=h.attributes[w.name];C!==void 0&&u.vertexAttribPointer(C,w.components,u[wr[w.type]],!1,this.itemSize,w.offset+this.itemSize*(c||0))}},$t.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Gt=function(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Gt.prototype.get=function(){return this.current},Gt.prototype.set=function(u){},Gt.prototype.getDefault=function(){return this.default},Gt.prototype.setDefault=function(){this.set(this.default)};var Kr=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return a.Color.transparent},h.prototype.set=function(c){var d=this.current;(c.r!==d.r||c.g!==d.g||c.b!==d.b||c.a!==d.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)},h}(Gt),Kt=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return 1},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)},h}(Gt),tr=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return 0},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)},h}(Gt),ei=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return[!0,!0,!0,!0]},h.prototype.set=function(c){var d=this.current;(c[0]!==d[0]||c[1]!==d[1]||c[2]!==d[2]||c[3]!==d[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)},h}(Gt),ti=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return!0},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)},h}(Gt),ri=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return 255},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)},h}(Gt),Nr=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},h.prototype.set=function(c){var d=this.current;(c.func!==d.func||c.ref!==d.ref||c.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)},h}(Gt),Mi=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){var c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]},h.prototype.set=function(c){var d=this.current;(c[0]!==d[0]||c[1]!==d[1]||c[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)},h}(Gt),Ui=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return!1},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;c?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=c,this.dirty=!1}},h}(Gt),si=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return[0,1]},h.prototype.set=function(c){var d=this.current;(c[0]!==d[0]||c[1]!==d[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)},h}(Gt),Ai=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return!1},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;c?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=c,this.dirty=!1}},h}(Gt),Si=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return this.gl.LESS},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)},h}(Gt),Zr=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return!1},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;c?d.enable(d.BLEND):d.disable(d.BLEND),this.current=c,this.dirty=!1}},h}(Gt),Qi=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){var c=this.gl;return[c.ONE,c.ZERO]},h.prototype.set=function(c){var d=this.current;(c[0]!==d[0]||c[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)},h}(Gt),Qn=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return a.Color.transparent},h.prototype.set=function(c){var d=this.current;(c.r!==d.r||c.g!==d.g||c.b!==d.b||c.a!==d.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)},h}(Gt),on=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return this.gl.FUNC_ADD},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)},h}(Gt),In=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return!1},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;c?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=c,this.dirty=!1}},h}(Gt),je=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return this.gl.BACK},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)},h}(Gt),li=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return this.gl.CCW},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)},h}(Gt),Se=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)},h}(Gt),Tr=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return this.gl.TEXTURE0},h.prototype.set=function(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)},h}(Gt),yr=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){var c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]},h.prototype.set=function(c){var d=this.current;(c[0]!==d[0]||c[1]!==d[1]||c[2]!==d[2]||c[3]!==d[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)},h}(Gt),ci=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,c),this.current=c,this.dirty=!1}},h}(Gt),hi=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,c),this.current=c,this.dirty=!1}},h}(Gt),ui=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;d.bindTexture(d.TEXTURE_2D,c),this.current=c,this.dirty=!1}},h}(Gt),fn=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}},h}(Gt),Sn=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h.prototype.set=function(c){var d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1},h}(Gt),Pe=function(u){function h(c){u.call(this,c),this.vao=c.extVertexArrayObject}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h.prototype.set=function(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)},h}(Gt),Ti=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return 4},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}},h}(Gt),pn=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return!1},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}},h}(Gt),Tn=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return!1},h.prototype.set=function(c){if(c!==this.current||this.dirty){var d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}},h}(Gt),br=function(u){function h(c,d){u.call(this,c),this.context=c,this.parent=d}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getDefault=function(){return null},h}(Gt),H=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.setDirty=function(){this.dirty=!0},h.prototype.set=function(c){if(c!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}},h}(br),N=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.set=function(c){if(c!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,c),this.current=c,this.dirty=!1}},h}(br),j=function(u,h,c,d){this.context=u,this.width=h,this.height=c;var w=this.framebuffer=u.gl.createFramebuffer();this.colorAttachment=new H(u,w),d&&(this.depthAttachment=new N(u,w))};j.prototype.destroy=function(){var u=this.context.gl,h=this.colorAttachment.get();if(h&&u.deleteTexture(h),this.depthAttachment){var c=this.depthAttachment.get();c&&u.deleteRenderbuffer(c)}u.deleteFramebuffer(this.framebuffer)};var Y=function(u,h,c){this.func=u,this.mask=h,this.range=c};Y.ReadOnly=!1,Y.ReadWrite=!0,Y.disabled=new Y(519,Y.ReadOnly,[0,1]);var ie=function(u,h,c,d,w,C){this.test=u,this.ref=h,this.mask=c,this.fail=d,this.depthFail=w,this.pass=C};ie.disabled=new ie({func:519,mask:0},0,0,7680,7680,7680);var ge=function(u,h,c){this.blendFunction=u,this.blendColor=h,this.mask=c};ge.disabled=new ge(ge.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),ge.unblended=new ge(ge.Replace,a.Color.transparent,[!0,!0,!0,!0]),ge.alphaBlended=new ge([1,771],a.Color.transparent,[!0,!0,!0,!0]);var ye=function(u,h,c){this.enable=u,this.mode=h,this.frontFace=c};ye.disabled=new ye(!1,1029,2305),ye.backCCW=new ye(!0,1029,2305);var X=function(u){this.gl=u,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Kr(this),this.clearDepth=new Kt(this),this.clearStencil=new tr(this),this.colorMask=new ei(this),this.depthMask=new ti(this),this.stencilMask=new ri(this),this.stencilFunc=new Nr(this),this.stencilOp=new Mi(this),this.stencilTest=new Ui(this),this.depthRange=new si(this),this.depthTest=new Ai(this),this.depthFunc=new Si(this),this.blend=new Zr(this),this.blendFunc=new Qi(this),this.blendColor=new Qn(this),this.blendEquation=new on(this),this.cullFace=new In(this),this.cullFaceSide=new je(this),this.frontFace=new li(this),this.program=new Se(this),this.activeTexture=new Tr(this),this.viewport=new yr(this),this.bindFramebuffer=new ci(this),this.bindRenderbuffer=new hi(this),this.bindTexture=new ui(this),this.bindVertexBuffer=new fn(this),this.bindElementBuffer=new Sn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Pe(this),this.pixelStoreUnpack=new Ti(this),this.pixelStoreUnpackPremultiplyAlpha=new pn(this),this.pixelStoreUnpackFlipY=new Tn(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=u.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(u.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=u.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=u.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE)};X.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},X.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},X.prototype.createIndexBuffer=function(u,h){return new vr(this,u,h)},X.prototype.createVertexBuffer=function(u,h,c){return new $t(this,u,h,c)},X.prototype.createRenderbuffer=function(u,h,c){var d=this.gl,w=d.createRenderbuffer();return this.bindRenderbuffer.set(w),d.renderbufferStorage(d.RENDERBUFFER,u,h,c),this.bindRenderbuffer.set(null),w},X.prototype.createFramebuffer=function(u,h,c){return new j(this,u,h,c)},X.prototype.clear=function(u){var h=u.color,c=u.depth,d=this.gl,w=0;h&&(w|=d.COLOR_BUFFER_BIT,this.clearColor.set(h),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(w|=d.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),d.clear(w)},X.prototype.setCullFace=function(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))},X.prototype.setDepthMode=function(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)},X.prototype.setStencilMode=function(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)},X.prototype.setColorMode=function(u){a.deepEqual(u.blendFunction,ge.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)},X.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var oe=function(u){function h(c,d,w){var C=this;u.call(this),this.id=c,this.dispatcher=w,this.on("data",function(E){E.dataType==="source"&&E.sourceDataType==="metadata"&&(C._sourceLoaded=!0),C._sourceLoaded&&!C._paused&&E.dataType==="source"&&E.sourceDataType==="content"&&(C.reload(),C.transform&&C.update(C.transform))}),this.on("error",function(){C._sourceErrored=!0}),this._source=function(E,S,D,O){var q=new We[S.type](E,S,D,O);if(q.id!==E)throw new Error("Expected Source id to be "+E+" instead of "+q.id);return a.bindAll(["load","abort","unload","serialize","prepare"],q),q}(c,d,w,this),this._tiles={},this._cache=new wt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.onAdd=function(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(c)},h.prototype.onRemove=function(c){this._source&&this._source.onRemove&&this._source.onRemove(c)},h.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var c in this._tiles){var d=this._tiles[c];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0},h.prototype.getSource=function(){return this._source},h.prototype.pause=function(){this._paused=!0},h.prototype.resume=function(){if(this._paused){var c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform)}},h.prototype._loadTile=function(c,d){return this._source.loadTile(c,d)},h.prototype._unloadTile=function(c){if(this._source.unloadTile)return this._source.unloadTile(c,function(){})},h.prototype._abortTile=function(c){if(this._source.abortTile)return this._source.abortTile(c,function(){})},h.prototype.serialize=function(){return this._source.serialize()},h.prototype.prepare=function(c){for(var d in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var w=this._tiles[d];w.upload(c),w.prepare(this.map.style.imageManager)}},h.prototype.getIds=function(){return a.values(this._tiles).map(function(c){return c.tileID}).sort(Ce).map(function(c){return c.key})},h.prototype.getRenderableIds=function(c){var d=this,w=[];for(var C in this._tiles)this._isIdRenderable(C,c)&&w.push(this._tiles[C]);return c?w.sort(function(E,S){var D=E.tileID,O=S.tileID,q=new a.Point(D.canonical.x,D.canonical.y)._rotate(d.transform.angle),W=new a.Point(O.canonical.x,O.canonical.y)._rotate(d.transform.angle);return D.overscaledZ-O.overscaledZ||W.y-q.y||W.x-q.x}).map(function(E){return E.tileID.key}):w.map(function(E){return E.tileID}).sort(Ce).map(function(E){return E.key})},h.prototype.hasRenderableParent=function(c){var d=this.findLoadedParent(c,0);return!!d&&this._isIdRenderable(d.tileID.key)},h.prototype._isIdRenderable=function(c,d){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(d||!this._tiles[c].holdingForFade())},h.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var c in this._cache.reset(),this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")},h.prototype._reloadTile=function(c,d){var w=this._tiles[c];w&&(w.state!=="loading"&&(w.state=d),this._loadTile(w,this._tileLoaded.bind(this,w,c,d)))},h.prototype._tileLoaded=function(c,d,w,C){if(C)return c.state="errored",void(C.status!==404?this._source.fire(new a.ErrorEvent(C,{tile:c})):this.update(this.transform));c.timeAdded=a.browser.now(),w==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(d,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:c,coord:c.tileID}))},h.prototype._backfillDEM=function(c){for(var d=this.getRenderableIds(),w=0;w<d.length;w++){var C=d[w];if(c.neighboringTiles&&c.neighboringTiles[C]){var E=this.getTileByID(C);S(c,E),S(E,c)}}function S(D,O){D.needsHillshadePrepare=!0;var q=O.tileID.canonical.x-D.tileID.canonical.x,W=O.tileID.canonical.y-D.tileID.canonical.y,J=Math.pow(2,D.tileID.canonical.z),ae=O.tileID.key;q===0&&W===0||Math.abs(W)>1||(Math.abs(q)>1&&(Math.abs(q+J)===1?q+=J:Math.abs(q-J)===1&&(q-=J)),O.dem&&D.dem&&(D.dem.backfillBorder(O.dem,q,W),D.neighboringTiles&&D.neighboringTiles[ae]&&(D.neighboringTiles[ae].backfilled=!0)))}},h.prototype.getTile=function(c){return this.getTileByID(c.key)},h.prototype.getTileByID=function(c){return this._tiles[c]},h.prototype._retainLoadedChildren=function(c,d,w,C){for(var E in this._tiles){var S=this._tiles[E];if(!(C[E]||!S.hasData()||S.tileID.overscaledZ<=d||S.tileID.overscaledZ>w)){for(var D=S.tileID;S&&S.tileID.overscaledZ>d+1;){var O=S.tileID.scaledTo(S.tileID.overscaledZ-1);(S=this._tiles[O.key])&&S.hasData()&&(D=O)}for(var q=D;q.overscaledZ>d;)if(c[(q=q.scaledTo(q.overscaledZ-1)).key]){C[D.key]=D;break}}}},h.prototype.findLoadedParent=function(c,d){if(c.key in this._loadedParentTiles){var w=this._loadedParentTiles[c.key];return w&&w.tileID.overscaledZ>=d?w:null}for(var C=c.overscaledZ-1;C>=d;C--){var E=c.scaledTo(C),S=this._getLoadedTile(E);if(S)return S}},h.prototype._getLoadedTile=function(c){var d=this._tiles[c.key];return d&&d.hasData()?d:this._cache.getByKey(c.wrapped().key)},h.prototype.updateCacheSize=function(c){var d=Math.ceil(c.width/this._source.tileSize)+1,w=Math.ceil(c.height/this._source.tileSize)+1,C=Math.floor(d*w*5),E=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,C):C;this._cache.setMaxSize(E)},h.prototype.handleWrapJump=function(c){var d=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,d){var w={};for(var C in this._tiles){var E=this._tiles[C];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+d),w[E.tileID.key]=E}for(var S in this._tiles=w,this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(var D in this._tiles)this._setTileReloadTimer(D,this._tiles[D])}},h.prototype.update=function(c){var d=this;if(this.transform=c,this._sourceLoaded&&!this._paused){var w;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?w=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(et){return new a.OverscaledTileID(et.canonical.z,et.wrap,et.canonical.z,et.canonical.x,et.canonical.y)}):(w=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(w=w.filter(function(et){return d._source.hasTile(et)}))):w=[];var C=c.coveringZoomLevel(this._source),E=Math.max(C-h.maxOverzooming,this._source.minzoom),S=Math.max(C+h.maxUnderzooming,this._source.minzoom),D=this._updateRetainedTiles(w,C);if(Je(this._source.type)){for(var O={},q={},W=0,J=Object.keys(D);W<J.length;W+=1){var ae=J[W],Ae=D[ae],pe=this._tiles[ae];if(pe&&!(pe.fadeEndTime&&pe.fadeEndTime<=a.browser.now())){var te=this.findLoadedParent(Ae,E);te&&(this._addTile(te.tileID),O[te.tileID.key]=te.tileID),q[ae]=Ae}}for(var he in this._retainLoadedChildren(q,C,S,D),O)D[he]||(this._coveredTiles[he]=!0,D[he]=O[he])}for(var _e in D)this._tiles[_e].clearFadeHold();for(var Ue=0,Oe=a.keysDifference(this._tiles,D);Ue<Oe.length;Ue+=1){var Me=Oe[Ue],Ke=this._tiles[Me];Ke.hasSymbolBuckets&&!Ke.holdingForFade()?Ke.setHoldDuration(this.map._fadeDuration):Ke.hasSymbolBuckets&&!Ke.symbolFadeFinished()||this._removeTile(Me)}this._updateLoadedParentTileCache()}},h.prototype.releaseSymbolFadeTiles=function(){for(var c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)},h.prototype._updateRetainedTiles=function(c,d){for(var w={},C={},E=Math.max(d-h.maxOverzooming,this._source.minzoom),S=Math.max(d+h.maxUnderzooming,this._source.minzoom),D={},O=0,q=c;O<q.length;O+=1){var W=q[O],J=this._addTile(W);w[W.key]=W,J.hasData()||d<this._source.maxzoom&&(D[W.key]=W)}this._retainLoadedChildren(D,d,S,w);for(var ae=0,Ae=c;ae<Ae.length;ae+=1){var pe=Ae[ae],te=this._tiles[pe.key];if(!te.hasData()){if(d+1>this._source.maxzoom){var he=pe.children(this._source.maxzoom)[0],_e=this.getTile(he);if(_e&&_e.hasData()){w[he.key]=he;continue}}else{var Ue=pe.children(this._source.maxzoom);if(w[Ue[0].key]&&w[Ue[1].key]&&w[Ue[2].key]&&w[Ue[3].key])continue}for(var Oe=te.wasRequested(),Me=pe.overscaledZ-1;Me>=E;--Me){var Ke=pe.scaledTo(Me);if(C[Ke.key]||(C[Ke.key]=!0,!(te=this.getTile(Ke))&&Oe&&(te=this._addTile(Ke)),te&&(w[Ke.key]=Ke,Oe=te.wasRequested(),te.hasData())))break}}}return w},h.prototype._updateLoadedParentTileCache=function(){for(var c in this._loadedParentTiles={},this._tiles){for(var d=[],w=void 0,C=this._tiles[c].tileID;C.overscaledZ>0;){if(C.key in this._loadedParentTiles){w=this._loadedParentTiles[C.key];break}d.push(C.key);var E=C.scaledTo(C.overscaledZ-1);if(w=this._getLoadedTile(E))break;C=E}for(var S=0,D=d;S<D.length;S+=1)this._loadedParentTiles[D[S]]=w}},h.prototype._addTile=function(c){var d=this._tiles[c.key];if(d)return d;(d=this._cache.getAndRemove(c))&&(this._setTileReloadTimer(c.key,d),d.tileID=c,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,d)));var w=Boolean(d);return w||(d=new a.Tile(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,c.key,d.state))),d?(d.uses++,this._tiles[c.key]=d,w||this._source.fire(new a.Event("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d):null},h.prototype._setTileReloadTimer=function(c,d){var w=this;c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);var C=d.getExpiryTimeout();C&&(this._timers[c]=setTimeout(function(){w._reloadTile(c,"expired"),delete w._timers[c]},C))},h.prototype._removeTile=function(c){var d=this._tiles[c];d&&(d.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))},h.prototype.clearTiles=function(){for(var c in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(c);this._cache.reset()},h.prototype.tilesIn=function(c,d,w){var C=this,E=[],S=this.transform;if(!S)return E;for(var D=w?S.getCameraQueryGeometry(c):c,O=c.map(function(Me){return S.pointCoordinate(Me)}),q=D.map(function(Me){return S.pointCoordinate(Me)}),W=this.getIds(),J=1/0,ae=1/0,Ae=-1/0,pe=-1/0,te=0,he=q;te<he.length;te+=1){var _e=he[te];J=Math.min(J,_e.x),ae=Math.min(ae,_e.y),Ae=Math.max(Ae,_e.x),pe=Math.max(pe,_e.y)}for(var Ue=function(Me){var Ke=C._tiles[W[Me]];if(!Ke.holdingForFade()){var et=Ke.tileID,ut=Math.pow(2,S.zoom-Ke.tileID.overscaledZ),st=d*Ke.queryPadding*a.EXTENT/Ke.tileSize/ut,bt=[et.getTilePoint(new a.MercatorCoordinate(J,ae)),et.getTilePoint(new a.MercatorCoordinate(Ae,pe))];if(bt[0].x-st<a.EXTENT&&bt[0].y-st<a.EXTENT&&bt[1].x+st>=0&&bt[1].y+st>=0){var Pt=O.map(function(Nt){return et.getTilePoint(Nt)}),Vt=q.map(function(Nt){return et.getTilePoint(Nt)});E.push({tile:Ke,tileID:et,queryGeometry:Pt,cameraQueryGeometry:Vt,scale:ut})}}},Oe=0;Oe<W.length;Oe++)Ue(Oe);return E},h.prototype.getVisibleCoordinates=function(c){for(var d=this,w=this.getRenderableIds(c).map(function(D){return d._tiles[D].tileID}),C=0,E=w;C<E.length;C+=1){var S=E[C];S.posMatrix=this.transform.calculatePosMatrix(S.toUnwrapped())}return w},h.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Je(this._source.type))for(var c in this._tiles){var d=this._tiles[c];if(d.fadeEndTime!==void 0&&d.fadeEndTime>=a.browser.now())return!0}return!1},h.prototype.setFeatureState=function(c,d,w){this._state.updateState(c=c||"_geojsonTileLayer",d,w)},h.prototype.removeFeatureState=function(c,d,w){this._state.removeFeatureState(c=c||"_geojsonTileLayer",d,w)},h.prototype.getFeatureState=function(c,d){return this._state.getState(c=c||"_geojsonTileLayer",d)},h.prototype.setDependencies=function(c,d,w){var C=this._tiles[c];C&&C.setDependencies(d,w)},h.prototype.reloadTilesForDependencies=function(c,d){for(var w in this._tiles)this._tiles[w].hasDependency(c,d)&&this._reloadTile(w,"reloading");this._cache.filter(function(C){return!C.hasDependency(c,d)})},h}(a.Evented);function Ce(u,h){var c=Math.abs(2*u.wrap)-+(u.wrap<0),d=Math.abs(2*h.wrap)-+(h.wrap<0);return u.overscaledZ-h.overscaledZ||d-c||h.canonical.y-u.canonical.y||h.canonical.x-u.canonical.x}function Je(u){return u==="raster"||u==="image"||u==="video"}function tt(){return new a.window.Worker(ll.workerUrl)}oe.maxOverzooming=10,oe.maxUnderzooming=3;var Re="mapboxgl_preloaded_worker_pool",$e=function(){this.active={}};$e.prototype.acquire=function(u){if(!this.workers)for(this.workers=[];this.workers.length<$e.workerCount;)this.workers.push(new tt);return this.active[u]=!0,this.workers.slice()},$e.prototype.release=function(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(function(h){h.terminate()}),this.workers=null)},$e.prototype.isPreloaded=function(){return!!this.active[Re]},$e.prototype.numActive=function(){return Object.keys(this.active).length};var xt,_t=Math.floor(a.browser.hardwareConcurrency/2);function ze(){return xt||(xt=new $e),xt}function dt(u,h){var c={};for(var d in u)d!=="ref"&&(c[d]=u[d]);return a.refProperties.forEach(function(w){w in h&&(c[w]=h[w])}),c}function lt(u){u=u.slice();for(var h=Object.create(null),c=0;c<u.length;c++)h[u[c].id]=u[c];for(var d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=dt(u[d],h[u[d].ref]));return u}$e.workerCount=Math.max(Math.min(_t,6),1);var ht={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function rr(u,h,c){c.push({command:ht.addSource,args:[u,h[u]]})}function gt(u,h,c){h.push({command:ht.removeSource,args:[u]}),c[u]=!0}function cr(u,h,c,d){gt(u,c,d),rr(u,h,c)}function Mr(u,h,c){var d;for(d in u[c])if(u[c].hasOwnProperty(d)&&d!=="data"&&!a.deepEqual(u[c][d],h[c][d]))return!1;for(d in h[c])if(h[c].hasOwnProperty(d)&&d!=="data"&&!a.deepEqual(u[c][d],h[c][d]))return!1;return!0}function se(u,h,c,d,w,C){var E;for(E in h=h||{},u=u||{})u.hasOwnProperty(E)&&(a.deepEqual(u[E],h[E])||c.push({command:C,args:[d,E,h[E],w]}));for(E in h)h.hasOwnProperty(E)&&!u.hasOwnProperty(E)&&(a.deepEqual(u[E],h[E])||c.push({command:C,args:[d,E,h[E],w]}))}function mt(u){return u.id}function It(u,h){return u[h.id]=h,u}var qr=function(u,h){this.reset(u,h)};qr.prototype.reset=function(u,h){this.points=u||[],this._distances=[0];for(var c=1;c<this.points.length;c++)this._distances[c]=this._distances[c-1]+this.points[c].dist(this.points[c-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding},qr.prototype.lerp=function(u){if(this.points.length===1)return this.points[0];u=a.clamp(u,0,1);for(var h=1,c=this._distances[h],d=u*this.paddedLength+this.padding;c<d&&h<this._distances.length;)c=this._distances[++h];var w=h-1,C=this._distances[w],E=c-C,S=E>0?(d-C)/E:0;return this.points[w].mult(1-S).add(this.points[h].mult(S))};var hr=function(u,h,c){var d=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(u/c),this.yCellCount=Math.ceil(h/c);for(var C=0;C<this.xCellCount*this.yCellCount;C++)d.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=h,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0};function Dr(u,h,c,d,w){var C=a.create();return h?(a.scale(C,C,[1/w,1/w,1]),c||a.rotateZ(C,C,d.angle)):a.multiply(C,d.labelPlaneMatrix,u),C}function zr(u,h,c,d,w){if(h){var C=a.clone(u);return a.scale(C,C,[w,w,1]),c||a.rotateZ(C,C,-d.angle),C}return d.glCoordMatrix}function fr(u,h){var c=[u.x,u.y,0,1];Pi(c,c,h);var d=c[3];return{point:new a.Point(c[0]/d,c[1]/d),signedDistanceFromCamera:d}}function xr(u,h){return .5+u/h*.5}function Wi(u,h){var c=u[0]/u[3],d=u[1]/u[3];return c>=-h[0]&&c<=h[0]&&d>=-h[1]&&d<=h[1]}function HA(u,h,c,d,w,C,E,S){var D=d?u.textSizeData:u.iconSizeData,O=a.evaluateSizeForZoom(D,c.transform.zoom),q=[256/c.width*2+1,256/c.height*2+1],W=d?u.text.dynamicLayoutVertexArray:u.icon.dynamicLayoutVertexArray;W.clear();for(var J=u.lineVertexArray,ae=d?u.text.placedSymbolArray:u.icon.placedSymbolArray,Ae=c.transform.width/c.transform.height,pe=!1,te=0;te<ae.length;te++){var he=ae.get(te);if(he.hidden||he.writingMode===a.WritingMode.vertical&&!pe)Ji(he.numGlyphs,W);else{pe=!1;var _e=[he.anchorX,he.anchorY,0,1];if(a.transformMat4(_e,_e,h),Wi(_e,q)){var Ue=xr(c.transform.cameraToCenterDistance,_e[3]),Oe=a.evaluateSizeForFeature(D,O,he),Me=E?Oe/Ue:Oe*Ue,Ke=new a.Point(he.anchorX,he.anchorY),et=fr(Ke,w).point,ut={},st=wo(he,Me,!1,S,h,w,C,u.glyphOffsetArray,J,W,et,Ke,ut,Ae);pe=st.useVertical,(st.notEnoughRoom||pe||st.needsFlipping&&wo(he,Me,!0,S,h,w,C,u.glyphOffsetArray,J,W,et,Ke,ut,Ae).notEnoughRoom)&&Ji(he.numGlyphs,W)}else Ji(he.numGlyphs,W)}}d?u.text.dynamicLayoutVertexBuffer.updateData(W):u.icon.dynamicLayoutVertexBuffer.updateData(W)}function Di(u,h,c,d,w,C,E,S,D,O,q){var W=S.glyphStartIndex+S.numGlyphs,J=S.lineStartIndex,ae=S.lineStartIndex+S.lineLength,Ae=h.getoffsetX(S.glyphStartIndex),pe=h.getoffsetX(W-1),te=mi(u*Ae,c,d,w,C,E,S.segment,J,ae,D,O,q);if(!te)return null;var he=mi(u*pe,c,d,w,C,E,S.segment,J,ae,D,O,q);return he?{first:te,last:he}:null}function an(u,h,c,d){return u===a.WritingMode.horizontal&&Math.abs(c.y-h.y)>Math.abs(c.x-h.x)*d?{useVertical:!0}:(u===a.WritingMode.vertical?h.y<c.y:h.x>c.x)?{needsFlipping:!0}:null}function wo(u,h,c,d,w,C,E,S,D,O,q,W,J,ae){var Ae,pe=h/24,te=u.lineOffsetX*pe,he=u.lineOffsetY*pe;if(u.numGlyphs>1){var _e=u.glyphStartIndex+u.numGlyphs,Ue=u.lineStartIndex,Oe=u.lineStartIndex+u.lineLength,Me=Di(pe,S,te,he,c,q,W,u,D,C,J);if(!Me)return{notEnoughRoom:!0};var Ke=fr(Me.first.point,E).point,et=fr(Me.last.point,E).point;if(d&&!c){var ut=an(u.writingMode,Ke,et,ae);if(ut)return ut}Ae=[Me.first];for(var st=u.glyphStartIndex+1;st<_e-1;st++)Ae.push(mi(pe*S.getoffsetX(st),te,he,c,q,W,u.segment,Ue,Oe,D,C,J));Ae.push(Me.last)}else{if(d&&!c){var bt=fr(W,w).point,Pt=u.lineStartIndex+u.segment+1,Vt=new a.Point(D.getx(Pt),D.gety(Pt)),Nt=fr(Vt,w),Pr=Nt.signedDistanceFromCamera>0?Nt.point:ZA(W,Vt,bt,1,w),Ct=an(u.writingMode,bt,Pr,ae);if(Ct)return Ct}var er=mi(pe*S.getoffsetX(u.glyphStartIndex),te,he,c,q,W,u.segment,u.lineStartIndex,u.lineStartIndex+u.lineLength,D,C,J);if(!er)return{notEnoughRoom:!0};Ae=[er]}for(var sr=0,Jt=Ae;sr<Jt.length;sr+=1){var Wt=Jt[sr];a.addDynamicAttributes(O,Wt.point,Wt.angle)}return{}}function ZA(u,h,c,d,w){var C=fr(u.add(u.sub(h)._unit()),w).point,E=c.sub(C);return c.add(E._mult(d/E.mag()))}function mi(u,h,c,d,w,C,E,S,D,O,q,W){var J=d?u-h:u+h,ae=J>0?1:-1,Ae=0;d&&(ae*=-1,Ae=Math.PI),ae<0&&(Ae+=Math.PI);for(var pe=ae>0?S+E:S+E+1,te=w,he=w,_e=0,Ue=0,Oe=Math.abs(J),Me=[];_e+Ue<=Oe;){if((pe+=ae)<S||pe>=D)return null;if(he=te,Me.push(te),(te=W[pe])===void 0){var Ke=new a.Point(O.getx(pe),O.gety(pe)),et=fr(Ke,q);if(et.signedDistanceFromCamera>0)te=W[pe]=et.point;else{var ut=pe-ae;te=ZA(_e===0?C:new a.Point(O.getx(ut),O.gety(ut)),Ke,he,Oe-_e+1,q)}}_e+=Ue,Ue=he.dist(te)}var st=(Oe-_e)/Ue,bt=te.sub(he),Pt=bt.mult(st)._add(he);Pt._add(bt._unit()._perp()._mult(c*ae));var Vt=Ae+Math.atan2(te.y-he.y,te.x-he.x);return Me.push(Pt),{point:Pt,angle:Vt,path:Me}}hr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},hr.prototype.insert=function(u,h,c,d,w){this._forEachCell(h,c,d,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(h),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(w)},hr.prototype.insertCircle=function(u,h,c,d){this._forEachCell(h-d,c-d,h+d,c+d,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(h),this.circles.push(c),this.circles.push(d)},hr.prototype._insertBoxCell=function(u,h,c,d,w,C){this.boxCells[w].push(C)},hr.prototype._insertCircleCell=function(u,h,c,d,w,C){this.circleCells[w].push(C)},hr.prototype._query=function(u,h,c,d,w,C){if(c<0||u>this.width||d<0||h>this.height)return!w&&[];var E=[];if(u<=0&&h<=0&&this.width<=c&&this.height<=d){if(w)return!0;for(var S=0;S<this.boxKeys.length;S++)E.push({key:this.boxKeys[S],x1:this.bboxes[4*S],y1:this.bboxes[4*S+1],x2:this.bboxes[4*S+2],y2:this.bboxes[4*S+3]});for(var D=0;D<this.circleKeys.length;D++){var O=this.circles[3*D],q=this.circles[3*D+1],W=this.circles[3*D+2];E.push({key:this.circleKeys[D],x1:O-W,y1:q-W,x2:O+W,y2:q+W})}return C?E.filter(C):E}return this._forEachCell(u,h,c,d,this._queryCell,E,{hitTest:w,seenUids:{box:{},circle:{}}},C),w?E.length>0:E},hr.prototype._queryCircle=function(u,h,c,d,w){var C=u-c,E=u+c,S=h-c,D=h+c;if(E<0||C>this.width||D<0||S>this.height)return!d&&[];var O=[];return this._forEachCell(C,S,E,D,this._queryCellCircle,O,{hitTest:d,circle:{x:u,y:h,radius:c},seenUids:{box:{},circle:{}}},w),d?O.length>0:O},hr.prototype.query=function(u,h,c,d,w){return this._query(u,h,c,d,!1,w)},hr.prototype.hitTest=function(u,h,c,d,w){return this._query(u,h,c,d,!0,w)},hr.prototype.hitTestCircle=function(u,h,c,d){return this._queryCircle(u,h,c,!0,d)},hr.prototype._queryCell=function(u,h,c,d,w,C,E,S){var D=E.seenUids,O=this.boxCells[w];if(O!==null)for(var q=this.bboxes,W=0,J=O;W<J.length;W+=1){var ae=J[W];if(!D.box[ae]){D.box[ae]=!0;var Ae=4*ae;if(u<=q[Ae+2]&&h<=q[Ae+3]&&c>=q[Ae+0]&&d>=q[Ae+1]&&(!S||S(this.boxKeys[ae]))){if(E.hitTest)return C.push(!0),!0;C.push({key:this.boxKeys[ae],x1:q[Ae],y1:q[Ae+1],x2:q[Ae+2],y2:q[Ae+3]})}}}var pe=this.circleCells[w];if(pe!==null)for(var te=this.circles,he=0,_e=pe;he<_e.length;he+=1){var Ue=_e[he];if(!D.circle[Ue]){D.circle[Ue]=!0;var Oe=3*Ue;if(this._circleAndRectCollide(te[Oe],te[Oe+1],te[Oe+2],u,h,c,d)&&(!S||S(this.circleKeys[Ue]))){if(E.hitTest)return C.push(!0),!0;var Me=te[Oe],Ke=te[Oe+1],et=te[Oe+2];C.push({key:this.circleKeys[Ue],x1:Me-et,y1:Ke-et,x2:Me+et,y2:Ke+et})}}}},hr.prototype._queryCellCircle=function(u,h,c,d,w,C,E,S){var D=E.circle,O=E.seenUids,q=this.boxCells[w];if(q!==null)for(var W=this.bboxes,J=0,ae=q;J<ae.length;J+=1){var Ae=ae[J];if(!O.box[Ae]){O.box[Ae]=!0;var pe=4*Ae;if(this._circleAndRectCollide(D.x,D.y,D.radius,W[pe+0],W[pe+1],W[pe+2],W[pe+3])&&(!S||S(this.boxKeys[Ae])))return C.push(!0),!0}}var te=this.circleCells[w];if(te!==null)for(var he=this.circles,_e=0,Ue=te;_e<Ue.length;_e+=1){var Oe=Ue[_e];if(!O.circle[Oe]){O.circle[Oe]=!0;var Me=3*Oe;if(this._circlesCollide(he[Me],he[Me+1],he[Me+2],D.x,D.y,D.radius)&&(!S||S(this.circleKeys[Oe])))return C.push(!0),!0}}},hr.prototype._forEachCell=function(u,h,c,d,w,C,E,S){for(var D=this._convertToXCellCoord(u),O=this._convertToYCellCoord(h),q=this._convertToXCellCoord(c),W=this._convertToYCellCoord(d),J=D;J<=q;J++)for(var ae=O;ae<=W;ae++)if(w.call(this,u,h,c,d,this.xCellCount*ae+J,C,E,S))return},hr.prototype._convertToXCellCoord=function(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))},hr.prototype._convertToYCellCoord=function(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))},hr.prototype._circlesCollide=function(u,h,c,d,w,C){var E=d-u,S=w-h,D=c+C;return D*D>E*E+S*S},hr.prototype._circleAndRectCollide=function(u,h,c,d,w,C,E){var S=(C-d)/2,D=Math.abs(u-(d+S));if(D>S+c)return!1;var O=(E-w)/2,q=Math.abs(h-(w+O));if(q>O+c)return!1;if(D<=S||q<=O)return!0;var W=D-S,J=q-O;return W*W+J*J<=c*c};var qA=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ji(u,h){for(var c=0;c<u;c++){var d=h.length;h.resize(d+4),h.float32.set(qA,3*d)}}function Pi(u,h,c){var d=h[0],w=h[1];return u[0]=c[0]*d+c[4]*w+c[12],u[1]=c[1]*d+c[5]*w+c[13],u[3]=c[3]*d+c[7]*w+c[15],u}var Rn=function(u,h,c){h===void 0&&(h=new hr(u.width+200,u.height+200,25)),c===void 0&&(c=new hr(u.width+200,u.height+200,25)),this.transform=u,this.grid=h,this.ignoredGrid=c,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+100,this.screenBottomBoundary=u.height+100,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200};function ii(u,h,c){return h*(a.EXTENT/(u.tileSize*Math.pow(2,c-u.tileID.overscaledZ)))}Rn.prototype.placeCollisionBox=function(u,h,c,d,w){var C=this.projectAndGetPerspectiveRatio(d,u.anchorPointX,u.anchorPointY),E=c*C.perspectiveRatio,S=u.x1*E+C.point.x,D=u.y1*E+C.point.y,O=u.x2*E+C.point.x,q=u.y2*E+C.point.y;return!this.isInsideGrid(S,D,O,q)||!h&&this.grid.hitTest(S,D,O,q,w)?{box:[],offscreen:!1}:{box:[S,D,O,q],offscreen:this.isOffscreen(S,D,O,q)}},Rn.prototype.placeCollisionCircles=function(u,h,c,d,w,C,E,S,D,O,q,W,J){var ae=[],Ae=new a.Point(h.anchorX,h.anchorY),pe=fr(Ae,C),te=xr(this.transform.cameraToCenterDistance,pe.signedDistanceFromCamera),he=(O?w/te:w*te)/a.ONE_EM,_e=fr(Ae,E).point,Ue=Di(he,d,h.lineOffsetX*he,h.lineOffsetY*he,!1,_e,Ae,h,c,E,{}),Oe=!1,Me=!1,Ke=!0;if(Ue){for(var et=.5*W*te+J,ut=new a.Point(-100,-100),st=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),bt=new qr,Pt=Ue.first,Vt=Ue.last,Nt=[],Pr=Pt.path.length-1;Pr>=1;Pr--)Nt.push(Pt.path[Pr]);for(var Ct=1;Ct<Vt.path.length;Ct++)Nt.push(Vt.path[Ct]);var er=2.5*et;if(S){var sr=Nt.map(function(TA){return fr(TA,S)});Nt=sr.some(function(TA){return TA.signedDistanceFromCamera<=0})?[]:sr.map(function(TA){return TA.point})}var Jt=[];if(Nt.length>0){for(var Wt=Nt[0].clone(),ar=Nt[0].clone(),qt=1;qt<Nt.length;qt++)Wt.x=Math.min(Wt.x,Nt[qt].x),Wt.y=Math.min(Wt.y,Nt[qt].y),ar.x=Math.max(ar.x,Nt[qt].x),ar.y=Math.max(ar.y,Nt[qt].y);Jt=Wt.x>=ut.x&&ar.x<=st.x&&Wt.y>=ut.y&&ar.y<=st.y?[Nt]:ar.x<ut.x||Wt.x>st.x||ar.y<ut.y||Wt.y>st.y?[]:a.clipLine([Nt],ut.x,ut.y,st.x,st.y)}for(var Xt=0,sn=Jt;Xt<sn.length;Xt+=1){var Hi;bt.reset(sn[Xt],.25*et),Hi=bt.length<=.5*et?1:Math.ceil(bt.paddedLength/er)+1;for(var Kn=0;Kn<Hi;Kn++){var _n=Kn/Math.max(Hi-1,1),ki=bt.lerp(_n),Ki=ki.x+100,pA=ki.y+100;ae.push(Ki,pA,et,0);var qn=Ki-et,Lo=pA-et,eA=Ki+et,VA=pA+et;if(Ke=Ke&&this.isOffscreen(qn,Lo,eA,VA),Me=Me||this.isInsideGrid(qn,Lo,eA,VA),!u&&this.grid.hitTestCircle(Ki,pA,et,q)&&(Oe=!0,!D))return{circles:[],offscreen:!1,collisionDetected:Oe}}}}return{circles:!D&&Oe||!Me?[]:ae,offscreen:Ke,collisionDetected:Oe}},Rn.prototype.queryRenderedSymbols=function(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var h=[],c=1/0,d=1/0,w=-1/0,C=-1/0,E=0,S=u;E<S.length;E+=1){var D=S[E],O=new a.Point(D.x+100,D.y+100);c=Math.min(c,O.x),d=Math.min(d,O.y),w=Math.max(w,O.x),C=Math.max(C,O.y),h.push(O)}for(var q={},W={},J=0,ae=this.grid.query(c,d,w,C).concat(this.ignoredGrid.query(c,d,w,C));J<ae.length;J+=1){var Ae=ae[J],pe=Ae.key;if(q[pe.bucketInstanceId]===void 0&&(q[pe.bucketInstanceId]={}),!q[pe.bucketInstanceId][pe.featureIndex]){var te=[new a.Point(Ae.x1,Ae.y1),new a.Point(Ae.x2,Ae.y1),new a.Point(Ae.x2,Ae.y2),new a.Point(Ae.x1,Ae.y2)];a.polygonIntersectsPolygon(h,te)&&(q[pe.bucketInstanceId][pe.featureIndex]=!0,W[pe.bucketInstanceId]===void 0&&(W[pe.bucketInstanceId]=[]),W[pe.bucketInstanceId].push(pe.featureIndex))}}return W},Rn.prototype.insertCollisionBox=function(u,h,c,d,w){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:c,featureIndex:d,collisionGroupID:w},u[0],u[1],u[2],u[3])},Rn.prototype.insertCollisionCircles=function(u,h,c,d,w){for(var C=h?this.ignoredGrid:this.grid,E={bucketInstanceId:c,featureIndex:d,collisionGroupID:w},S=0;S<u.length;S+=4)C.insertCircle(E,u[S],u[S+1],u[S+2])},Rn.prototype.projectAndGetPerspectiveRatio=function(u,h,c){var d=[h,c,0,1];return Pi(d,d,u),{point:new a.Point((d[0]/d[3]+1)/2*this.transform.width+100,(-d[1]/d[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/d[3]*.5}},Rn.prototype.isOffscreen=function(u,h,c,d){return c<100||u>=this.screenRightBoundary||d<100||h>this.screenBottomBoundary},Rn.prototype.isInsideGrid=function(u,h,c,d){return c>=0&&u<this.gridRightBoundary&&d>=0&&h<this.gridBottomBoundary},Rn.prototype.getViewportMatrix=function(){var u=a.identity([]);return a.translate(u,u,[-100,-100,0]),u};var oA=function(u,h,c,d){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?h:-h))):d&&c?1:0,this.placed=c};oA.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Xn=function(u,h,c,d,w){this.text=new oA(u?u.text:null,h,c,w),this.icon=new oA(u?u.icon:null,h,d,w)};Xn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var rs=function(u,h,c){this.text=u,this.icon=h,this.skipFade=c},Yi=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},WA=function(u,h,c,d,w){this.bucketInstanceId=u,this.featureIndex=h,this.sourceLayerIndex=c,this.bucketIndex=d,this.tileID=w},dn=function(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}};function $i(u,h,c,d,w){var C=a.getAnchorAlignment(u),E=-(C.horizontalAlign-.5)*h,S=-(C.verticalAlign-.5)*c,D=a.evaluateVariableOffset(u,d);return new a.Point(E+D[0]*w,S+D[1]*w)}function vA(u,h,c,d,w,C){var E=u.x1,S=u.x2,D=u.y1,O=u.y2,q=u.anchorPointX,W=u.anchorPointY,J=new a.Point(h,c);return d&&J._rotate(w?C:-C),{x1:E+J.x,y1:D+J.y,x2:S+J.x,y2:O+J.y,anchorPointX:q,anchorPointY:W}}dn.prototype.get=function(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){var h=++this.maxGroupID;this.collisionGroups[u]={ID:h,predicate:function(c){return c.collisionGroupID===h}}}return this.collisionGroups[u]};var gn=function(u,h,c,d){this.transform=u.clone(),this.collisionIndex=new Rn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new dn(c),this.collisionCircleArrays={},this.prevPlacement=d,d&&(d.prevPlacement=void 0),this.placedOrientations={}};function JA(u,h,c,d,w){u.emplaceBack(h?1:0,c?1:0,d||0,w||0),u.emplaceBack(h?1:0,c?1:0,d||0,w||0),u.emplaceBack(h?1:0,c?1:0,d||0,w||0),u.emplaceBack(h?1:0,c?1:0,d||0,w||0)}gn.prototype.getBucketParts=function(u,h,c,d){var w=c.getBucket(h),C=c.latestFeatureIndex;if(w&&C&&h.id===w.layerIds[0]){var E=c.collisionBoxArray,S=w.layers[0].layout,D=Math.pow(2,this.transform.zoom-c.tileID.overscaledZ),O=c.tileSize/a.EXTENT,q=this.transform.calculatePosMatrix(c.tileID.toUnwrapped()),W=S.get("text-pitch-alignment")==="map",J=S.get("text-rotation-alignment")==="map",ae=ii(c,1,this.transform.zoom),Ae=Dr(q,W,J,this.transform,ae),pe=null;if(W){var te=zr(q,W,J,this.transform,ae);pe=a.multiply([],this.transform.labelPlaneMatrix,te)}this.retainedQueryData[w.bucketInstanceId]=new WA(w.bucketInstanceId,C,w.sourceLayerIndex,w.index,c.tileID);var he={bucket:w,layout:S,posMatrix:q,textLabelPlaneMatrix:Ae,labelToScreenMatrix:pe,scale:D,textPixelRatio:O,holdingForFade:c.holdingForFade(),collisionBoxArray:E,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(w.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(w.sourceID)};if(d)for(var _e=0,Ue=w.sortKeyRanges;_e<Ue.length;_e+=1){var Oe=Ue[_e];u.push({sortKey:Oe.sortKey,symbolInstanceStart:Oe.symbolInstanceStart,symbolInstanceEnd:Oe.symbolInstanceEnd,parameters:he})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:w.symbolInstances.length,parameters:he})}},gn.prototype.attemptAnchorPlacement=function(u,h,c,d,w,C,E,S,D,O,q,W,J,ae,Ae){var pe,te=[W.textOffset0,W.textOffset1],he=$i(u,c,d,te,w),_e=this.collisionIndex.placeCollisionBox(vA(h,he.x,he.y,C,E,this.transform.angle),q,S,D,O.predicate);if(!Ae||this.collisionIndex.placeCollisionBox(vA(Ae,he.x,he.y,C,E,this.transform.angle),q,S,D,O.predicate).box.length!==0)return _e.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(pe=this.prevPlacement.variableOffsets[W.crossTileID].anchor),this.variableOffsets[W.crossTileID]={textOffset:te,width:c,height:d,anchor:u,textBoxScale:w,prevAnchor:pe},this.markUsedJustification(J,u,W,ae),J.allowVerticalPlacement&&(this.markUsedOrientation(J,ae,W),this.placedOrientations[W.crossTileID]=ae),{shift:he,placedGlyphBoxes:_e}):void 0},gn.prototype.placeLayerBucketPart=function(u,h,c){var d=this,w=u.parameters,C=w.bucket,E=w.layout,S=w.posMatrix,D=w.textLabelPlaneMatrix,O=w.labelToScreenMatrix,q=w.textPixelRatio,W=w.holdingForFade,J=w.collisionBoxArray,ae=w.partiallyEvaluatedTextSize,Ae=w.collisionGroup,pe=E.get("text-optional"),te=E.get("icon-optional"),he=E.get("text-allow-overlap"),_e=E.get("icon-allow-overlap"),Ue=E.get("text-rotation-alignment")==="map",Oe=E.get("text-pitch-alignment")==="map",Me=E.get("icon-text-fit")!=="none",Ke=E.get("symbol-z-order")==="viewport-y",et=he&&(_e||!C.hasIconData()||te),ut=_e&&(he||!C.hasTextData()||pe);!C.collisionArrays&&J&&C.deserializeCollisionBoxes(J);var st=function(Ct,er){if(!h[Ct.crossTileID])if(W)d.placements[Ct.crossTileID]=new rs(!1,!1,!1);else{var sr,Jt=!1,Wt=!1,ar=!0,qt=null,Xt={box:null,offscreen:null},sn={box:null,offscreen:null},Hi=null,Kn=null,_n=0,ki=0,Ki=0;er.textFeatureIndex?_n=er.textFeatureIndex:Ct.useRuntimeCollisionCircles&&(_n=Ct.featureIndex),er.verticalTextFeatureIndex&&(ki=er.verticalTextFeatureIndex);var pA=er.textBox;if(pA){var qn=function(Xr){var bA=a.WritingMode.horizontal;if(C.allowVerticalPlacement&&!Xr&&d.prevPlacement){var tA=d.prevPlacement.placedOrientations[Ct.crossTileID];tA&&(d.placedOrientations[Ct.crossTileID]=tA,d.markUsedOrientation(C,bA=tA,Ct))}return bA},Lo=function(Xr,bA){if(C.allowVerticalPlacement&&Ct.numVerticalGlyphVertices>0&&er.verticalTextBox)for(var tA=0,fa=C.writingModes;tA<fa.length&&(fa[tA]===a.WritingMode.vertical?(Xt=bA(),sn=Xt):Xt=Xr(),!(Xt&&Xt.box&&Xt.box.length));tA+=1);else Xt=Xr()};if(E.get("text-variable-anchor")){var eA=E.get("text-variable-anchor");if(d.prevPlacement&&d.prevPlacement.variableOffsets[Ct.crossTileID]){var VA=d.prevPlacement.variableOffsets[Ct.crossTileID];eA.indexOf(VA.anchor)>0&&(eA=eA.filter(function(Xr){return Xr!==VA.anchor})).unshift(VA.anchor)}var TA=function(Xr,bA,tA){for(var fa=Xr.x2-Xr.x1,Sp=Xr.y2-Xr.y1,ul=Ct.textBoxScale,Tp=Me&&!_e?bA:null,xs={box:[],offscreen:!1},wh=he?2*eA.length:eA.length,Ra=0;Ra<wh;++Ra){var cl=d.attemptAnchorPlacement(eA[Ra%eA.length],Xr,fa,Sp,ul,Ue,Oe,q,S,Ae,Ra>=eA.length,Ct,C,tA,Tp);if(cl&&(xs=cl.placedGlyphBoxes)&&xs.box&&xs.box.length){Jt=!0,qt=cl.shift;break}}return xs};Lo(function(){return TA(pA,er.iconBox,a.WritingMode.horizontal)},function(){var Xr=er.verticalTextBox;return C.allowVerticalPlacement&&!(Xt&&Xt.box&&Xt.box.length)&&Ct.numVerticalGlyphVertices>0&&Xr?TA(Xr,er.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Xt&&(Jt=Xt.box,ar=Xt.offscreen);var ws=qn(Xt&&Xt.box);if(!Jt&&d.prevPlacement){var Ha=d.prevPlacement.variableOffsets[Ct.crossTileID];Ha&&(d.variableOffsets[Ct.crossTileID]=Ha,d.markUsedJustification(C,Ha.anchor,Ct,ws))}}else{var Mo=function(Xr,bA){var tA=d.collisionIndex.placeCollisionBox(Xr,he,q,S,Ae.predicate);return tA&&tA.box&&tA.box.length&&(d.markUsedOrientation(C,bA,Ct),d.placedOrientations[Ct.crossTileID]=bA),tA};Lo(function(){return Mo(pA,a.WritingMode.horizontal)},function(){var Xr=er.verticalTextBox;return C.allowVerticalPlacement&&Ct.numVerticalGlyphVertices>0&&Xr?Mo(Xr,a.WritingMode.vertical):{box:null,offscreen:null}}),qn(Xt&&Xt.box&&Xt.box.length)}}if(Jt=(sr=Xt)&&sr.box&&sr.box.length>0,ar=sr&&sr.offscreen,Ct.useRuntimeCollisionCircles){var za=C.text.placedSymbolArray.get(Ct.centerJustifiedTextSymbolIndex),Bs=a.evaluateSizeForFeature(C.textSizeData,ae,za),io=E.get("text-padding");Hi=d.collisionIndex.placeCollisionCircles(he,za,C.lineVertexArray,C.glyphOffsetArray,Bs,S,D,O,c,Oe,Ae.predicate,Ct.collisionCircleDiameter,io),Jt=he||Hi.circles.length>0&&!Hi.collisionDetected,ar=ar&&Hi.offscreen}if(er.iconFeatureIndex&&(Ki=er.iconFeatureIndex),er.iconBox){var bs=function(Xr){var bA=Me&&qt?vA(Xr,qt.x,qt.y,Ue,Oe,d.transform.angle):Xr;return d.collisionIndex.placeCollisionBox(bA,_e,q,S,Ae.predicate)};Wt=sn&&sn.box&&sn.box.length&&er.verticalIconBox?(Kn=bs(er.verticalIconBox)).box.length>0:(Kn=bs(er.iconBox)).box.length>0,ar=ar&&Kn.offscreen}var no=pe||Ct.numHorizontalGlyphVertices===0&&Ct.numVerticalGlyphVertices===0,ln=te||Ct.numIconVertices===0;if(no||ln?ln?no||(Wt=Wt&&Jt):Jt=Wt&&Jt:Wt=Jt=Wt&&Jt,Jt&&sr&&sr.box&&d.collisionIndex.insertCollisionBox(sr.box,E.get("text-ignore-placement"),C.bucketInstanceId,sn&&sn.box&&ki?ki:_n,Ae.ID),Wt&&Kn&&d.collisionIndex.insertCollisionBox(Kn.box,E.get("icon-ignore-placement"),C.bucketInstanceId,Ki,Ae.ID),Hi&&(Jt&&d.collisionIndex.insertCollisionCircles(Hi.circles,E.get("text-ignore-placement"),C.bucketInstanceId,_n,Ae.ID),c)){var po=C.bucketInstanceId,Do=d.collisionCircleArrays[po];Do===void 0&&(Do=d.collisionCircleArrays[po]=new Yi);for(var ha=0;ha<Hi.circles.length;ha+=4)Do.circles.push(Hi.circles[ha+0]),Do.circles.push(Hi.circles[ha+1]),Do.circles.push(Hi.circles[ha+2]),Do.circles.push(Hi.collisionDetected?1:0)}d.placements[Ct.crossTileID]=new rs(Jt||et,Wt||ut,ar||C.justReloaded),h[Ct.crossTileID]=!0}};if(Ke)for(var bt=C.getSortedSymbolIndexes(this.transform.angle),Pt=bt.length-1;Pt>=0;--Pt){var Vt=bt[Pt];st(C.symbolInstances.get(Vt),C.collisionArrays[Vt])}else for(var Nt=u.symbolInstanceStart;Nt<u.symbolInstanceEnd;Nt++)st(C.symbolInstances.get(Nt),C.collisionArrays[Nt]);if(c&&C.bucketInstanceId in this.collisionCircleArrays){var Pr=this.collisionCircleArrays[C.bucketInstanceId];a.invert(Pr.invProjMatrix,S),Pr.viewportMatrix=this.collisionIndex.getViewportMatrix()}C.justReloaded=!1},gn.prototype.markUsedJustification=function(u,h,c,d){var w;w=d===a.WritingMode.vertical?c.verticalPlacedTextSymbolIndex:{left:c.leftJustifiedTextSymbolIndex,center:c.centerJustifiedTextSymbolIndex,right:c.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(h)];for(var C=0,E=[c.leftJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.rightJustifiedTextSymbolIndex,c.verticalPlacedTextSymbolIndex];C<E.length;C+=1){var S=E[C];S>=0&&(u.text.placedSymbolArray.get(S).crossTileID=w>=0&&S!==w?0:c.crossTileID)}},gn.prototype.markUsedOrientation=function(u,h,c){for(var d=h===a.WritingMode.horizontal||h===a.WritingMode.horizontalOnly?h:0,w=h===a.WritingMode.vertical?h:0,C=0,E=[c.leftJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.rightJustifiedTextSymbolIndex];C<E.length;C+=1)u.text.placedSymbolArray.get(E[C]).placedOrientation=d;c.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(c.verticalPlacedTextSymbolIndex).placedOrientation=w)},gn.prototype.commit=function(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;var h=this.prevPlacement,c=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;var d=h?h.symbolFadeChange(u):1,w=h?h.opacities:{},C=h?h.variableOffsets:{},E=h?h.placedOrientations:{};for(var S in this.placements){var D=this.placements[S],O=w[S];O?(this.opacities[S]=new Xn(O,d,D.text,D.icon),c=c||D.text!==O.text.placed||D.icon!==O.icon.placed):(this.opacities[S]=new Xn(null,d,D.text,D.icon,D.skipFade),c=c||D.text||D.icon)}for(var q in w){var W=w[q];if(!this.opacities[q]){var J=new Xn(W,d,!1,!1);J.isHidden()||(this.opacities[q]=J,c=c||W.text.placed||W.icon.placed)}}for(var ae in C)this.variableOffsets[ae]||!this.opacities[ae]||this.opacities[ae].isHidden()||(this.variableOffsets[ae]=C[ae]);for(var Ae in E)this.placedOrientations[Ae]||!this.opacities[Ae]||this.opacities[Ae].isHidden()||(this.placedOrientations[Ae]=E[Ae]);c?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:u)},gn.prototype.updateLayerOpacities=function(u,h){for(var c={},d=0,w=h;d<w.length;d+=1){var C=w[d],E=C.getBucket(u);E&&C.latestFeatureIndex&&u.id===E.layerIds[0]&&this.updateBucketOpacities(E,c,C.collisionBoxArray)}},gn.prototype.updateBucketOpacities=function(u,h,c){var d=this;u.hasTextData()&&u.text.opacityVertexArray.clear(),u.hasIconData()&&u.icon.opacityVertexArray.clear(),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();var w=u.layers[0].layout,C=new Xn(null,0,!1,!1,!0),E=w.get("text-allow-overlap"),S=w.get("icon-allow-overlap"),D=w.get("text-variable-anchor"),O=w.get("text-rotation-alignment")==="map",q=w.get("text-pitch-alignment")==="map",W=w.get("icon-text-fit")!=="none",J=new Xn(null,0,E&&(S||!u.hasIconData()||w.get("icon-optional")),S&&(E||!u.hasTextData()||w.get("text-optional")),!0);!u.collisionArrays&&c&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(c);for(var ae=function(he,_e,Ue){for(var Oe=0;Oe<_e/4;Oe++)he.opacityVertexArray.emplaceBack(Ue)},Ae=function(he){var _e=u.symbolInstances.get(he),Ue=_e.numHorizontalGlyphVertices,Oe=_e.numVerticalGlyphVertices,Me=_e.crossTileID,Ke=d.opacities[Me];h[Me]?Ke=C:Ke||(d.opacities[Me]=Ke=J),h[Me]=!0;var et=_e.numIconVertices>0,ut=d.placedOrientations[_e.crossTileID],st=ut===a.WritingMode.vertical,bt=ut===a.WritingMode.horizontal||ut===a.WritingMode.horizontalOnly;if(Ue>0||Oe>0){var Pt=Vs(Ke.text);ae(u.text,Ue,st?Bo:Pt),ae(u.text,Oe,bt?Bo:Pt);var Vt=Ke.text.isHidden();[_e.rightJustifiedTextSymbolIndex,_e.centerJustifiedTextSymbolIndex,_e.leftJustifiedTextSymbolIndex].forEach(function(Xt){Xt>=0&&(u.text.placedSymbolArray.get(Xt).hidden=Vt||st?1:0)}),_e.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(_e.verticalPlacedTextSymbolIndex).hidden=Vt||bt?1:0);var Nt=d.variableOffsets[_e.crossTileID];Nt&&d.markUsedJustification(u,Nt.anchor,_e,ut);var Pr=d.placedOrientations[_e.crossTileID];Pr&&(d.markUsedJustification(u,"left",_e,Pr),d.markUsedOrientation(u,Pr,_e))}if(et){var Ct=Vs(Ke.icon),er=!(W&&_e.verticalPlacedIconSymbolIndex&&st);_e.placedIconSymbolIndex>=0&&(ae(u.icon,_e.numIconVertices,er?Ct:Bo),u.icon.placedSymbolArray.get(_e.placedIconSymbolIndex).hidden=Ke.icon.isHidden()),_e.verticalPlacedIconSymbolIndex>=0&&(ae(u.icon,_e.numVerticalIconVertices,er?Bo:Ct),u.icon.placedSymbolArray.get(_e.verticalPlacedIconSymbolIndex).hidden=Ke.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){var sr=u.collisionArrays[he];if(sr){var Jt=new a.Point(0,0);if(sr.textBox||sr.verticalTextBox){var Wt=!0;if(D){var ar=d.variableOffsets[Me];ar?(Jt=$i(ar.anchor,ar.width,ar.height,ar.textOffset,ar.textBoxScale),O&&Jt._rotate(q?d.transform.angle:-d.transform.angle)):Wt=!1}sr.textBox&&JA(u.textCollisionBox.collisionVertexArray,Ke.text.placed,!Wt||st,Jt.x,Jt.y),sr.verticalTextBox&&JA(u.textCollisionBox.collisionVertexArray,Ke.text.placed,!Wt||bt,Jt.x,Jt.y)}var qt=Boolean(!bt&&sr.verticalIconBox);sr.iconBox&&JA(u.iconCollisionBox.collisionVertexArray,Ke.icon.placed,qt,W?Jt.x:0,W?Jt.y:0),sr.verticalIconBox&&JA(u.iconCollisionBox.collisionVertexArray,Ke.icon.placed,!qt,W?Jt.x:0,W?Jt.y:0)}}},pe=0;pe<u.symbolInstances.length;pe++)Ae(pe);if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.bucketInstanceId in this.collisionCircleArrays){var te=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=te.invProjMatrix,u.placementViewportMatrix=te.viewportMatrix,u.collisionCircleArray=te.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}},gn.prototype.symbolFadeChange=function(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},gn.prototype.zoomAdjustment=function(u){return Math.max(0,(this.transform.zoom-u)/1.5)},gn.prototype.hasTransitions=function(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration},gn.prototype.stillRecent=function(u,h){var c=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*c>u},gn.prototype.setStale=function(){this.stale=!0};var is=Math.pow(2,25),su=Math.pow(2,24),qo=Math.pow(2,17),lu=Math.pow(2,16),Fa=Math.pow(2,9),uu=Math.pow(2,8),Ea=Math.pow(2,1);function Vs(u){if(u.opacity===0&&!u.placed)return 0;if(u.opacity===1&&u.placed)return 4294967295;var h=u.placed?1:0,c=Math.floor(127*u.opacity);return c*is+h*su+c*qo+h*lu+c*Fa+h*uu+c*Ea+h}var Bo=0,ns=function(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&u.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};ns.prototype.continuePlacement=function(u,h,c,d,w){for(var C=this._bucketParts;this._currentTileIndex<u.length;)if(h.getBucketParts(C,d,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort(function(E,S){return E.sortKey-S.sortKey}));this._currentPartIndex<C.length;)if(h.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,c),this._currentPartIndex++,w())return!0;return!1};var Wo=function(u,h,c,d,w,C,E){this.placement=new gn(u,w,C,E),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=c,this._showCollisionBoxes=d,this._done=!1};Wo.prototype.isDone=function(){return this._done},Wo.prototype.continuePlacement=function(u,h,c){for(var d=this,w=a.browser.now(),C=function(){var D=a.browser.now()-w;return!d._forceFullPlacement&&D>2};this._currentPlacementIndex>=0;){var E=h[u[this._currentPlacementIndex]],S=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=S)&&(!E.maxzoom||E.maxzoom>S)){if(this._inProgressLayer||(this._inProgressLayer=new ns(E)),this._inProgressLayer.continuePlacement(c[E.source],this.placement,this._showCollisionBoxes,E,C))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Wo.prototype.commit=function(u){return this.placement.commit(u),this.placement};var Gs=512/a.EXTENT/2,bo=function(u,h,c){this.tileID=u,this.indexedSymbolInstances={},this.bucketInstanceId=c;for(var d=0;d<h.length;d++){var w=h.get(d),C=w.key;this.indexedSymbolInstances[C]||(this.indexedSymbolInstances[C]=[]),this.indexedSymbolInstances[C].push({crossTileID:w.crossTileID,coord:this.getScaledCoordinates(w,u)})}};bo.prototype.getScaledCoordinates=function(u,h){var c=Gs/Math.pow(2,h.canonical.z-this.tileID.canonical.z);return{x:Math.floor((h.canonical.x*a.EXTENT+u.anchorX)*c),y:Math.floor((h.canonical.y*a.EXTENT+u.anchorY)*c)}},bo.prototype.findMatches=function(u,h,c){for(var d=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z),w=0;w<u.length;w++){var C=u.get(w);if(!C.crossTileID){var E=this.indexedSymbolInstances[C.key];if(E)for(var S=this.getScaledCoordinates(C,h),D=0,O=E;D<O.length;D+=1){var q=O[D];if(Math.abs(q.coord.x-S.x)<=d&&Math.abs(q.coord.y-S.y)<=d&&!c[q.crossTileID]){c[q.crossTileID]=!0,C.crossTileID=q.crossTileID;break}}}}};var aA=function(){this.maxCrossTileID=0};aA.prototype.generate=function(){return++this.maxCrossTileID};var YA=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};YA.prototype.handleWrapJump=function(u){var h=Math.round((u-this.lng)/360);if(h!==0)for(var c in this.indexes){var d=this.indexes[c],w={};for(var C in d){var E=d[C];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+h),w[E.tileID.key]=E}this.indexes[c]=w}this.lng=u},YA.prototype.addBucket=function(u,h,c){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(var d=0;d<h.symbolInstances.length;d++)h.symbolInstances.get(d).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});var w=this.usedCrossTileIDs[u.overscaledZ];for(var C in this.indexes){var E=this.indexes[C];if(Number(C)>u.overscaledZ)for(var S in E){var D=E[S];D.tileID.isChildOf(u)&&D.findMatches(h.symbolInstances,u,w)}else{var O=E[u.scaledTo(Number(C)).key];O&&O.findMatches(h.symbolInstances,u,w)}}for(var q=0;q<h.symbolInstances.length;q++){var W=h.symbolInstances.get(q);W.crossTileID||(W.crossTileID=c.generate(),w[W.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new bo(u,h.symbolInstances,h.bucketInstanceId),!0},YA.prototype.removeBucketCrossTileIDs=function(u,h){for(var c in h.indexedSymbolInstances)for(var d=0,w=h.indexedSymbolInstances[c];d<w.length;d+=1)delete this.usedCrossTileIDs[u][w[d].crossTileID]},YA.prototype.removeStaleBuckets=function(u){var h=!1;for(var c in this.indexes){var d=this.indexes[c];for(var w in d)u[d[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(c,d[w]),delete d[w],h=!0)}return h};var xe=function(){this.layerIndexes={},this.crossTileIDs=new aA,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};xe.prototype.addLayer=function(u,h,c){var d=this.layerIndexes[u.id];d===void 0&&(d=this.layerIndexes[u.id]=new YA);var w=!1,C={};d.handleWrapJump(c);for(var E=0,S=h;E<S.length;E+=1){var D=S[E],O=D.getBucket(u);O&&u.id===O.layerIds[0]&&(O.bucketInstanceId||(O.bucketInstanceId=++this.maxBucketInstanceId),d.addBucket(D.tileID,O,this.crossTileIDs)&&(w=!0),C[O.bucketInstanceId]=!0)}return d.removeStaleBuckets(C)&&(w=!0),w},xe.prototype.pruneUnusedLayers=function(u){var h={};for(var c in u.forEach(function(d){h[d]=!0}),this.layerIndexes)h[c]||delete this.layerIndexes[c]};var On=function(u,h){return a.emitValidationErrors(u,h&&h.filter(function(c){return c.identifier!=="source.canvas"}))},mn=a.pick(ht,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),yi=a.pick(ht,["setCenter","setZoom","setBearing","setPitch"]),$A=function(){var u={},h=a.styleSpec.$version;for(var c in a.styleSpec.$root){var d,w=a.styleSpec.$root[c];w.required&&(d=c==="version"?h:w.type==="array"?[]:{})!=null&&(u[c]=d)}return u}(),sA=function(u){function h(c,d){var w=this;d===void 0&&(d={}),u.call(this),this.map=c,this.dispatcher=new Ze(ze(),this),this.imageManager=new V,this.imageManager.setEventedParent(this),this.glyphManager=new fe(c._requestManager,d.localIdeographFontFamily),this.lineAtlas=new Qe(256,512),this.crossTileSymbolIndex=new xe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var C=this;this._rtlTextPluginCallback=h.registerForPluginStateChange(function(E){C.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:E.pluginStatus,pluginURL:E.pluginURL},function(S,D){if(a.triggerPluginCompletionEvent(S),D&&D.every(function(q){return q}))for(var O in C.sourceCaches)C.sourceCaches[O].reload()})}),this.on("data",function(E){if(E.dataType==="source"&&E.sourceDataType==="metadata"){var S=w.sourceCaches[E.sourceId];if(S){var D=S.getSource();if(D&&D.vectorLayerIds)for(var O in w._layers){var q=w._layers[O];q.source===D.id&&w._validateLayer(q)}}}})}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.loadURL=function(c,d){var w=this;d===void 0&&(d={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var C=typeof d.validate=="boolean"?d.validate:!a.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,d.accessToken);var E=this.map._requestManager.transformRequest(c,a.ResourceType.Style);this._request=a.getJSON(E,function(S,D){w._request=null,S?w.fire(new a.ErrorEvent(S)):D&&w._load(D,C)})},h.prototype.loadJSON=function(c,d){var w=this;d===void 0&&(d={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){w._request=null,w._load(c,d.validate!==!1)})},h.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load($A,!1)},h.prototype._load=function(c,d){if(!d||!On(this,a.validateStyle(c))){for(var w in this._loaded=!0,this.stylesheet=c,c.sources)this.addSource(w,c.sources[w],{validate:!1});c.sprite?this._loadSprite(c.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(c.glyphs);var C=lt(this.stylesheet.layers);this._order=C.map(function(O){return O.id}),this._layers={},this._serializedLayers={};for(var E=0,S=C;E<S.length;E+=1){var D=S[E];(D=a.createStyleLayer(D)).setEventedParent(this,{layer:{id:D.id}}),this._layers[D.id]=D,this._serializedLayers[D.id]=D.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new De(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},h.prototype._loadSprite=function(c){var d=this;this._spriteRequest=function(w,C,E){var S,D,O,q=a.browser.devicePixelRatio>1?"@2x":"",W=a.getJSON(C.transformRequest(C.normalizeSpriteURL(w,q,".json"),a.ResourceType.SpriteJSON),function(Ae,pe){W=null,O||(O=Ae,S=pe,ae())}),J=a.getImage(C.transformRequest(C.normalizeSpriteURL(w,q,".png"),a.ResourceType.SpriteImage),function(Ae,pe){J=null,O||(O=Ae,D=pe,ae())});function ae(){if(O)E(O);else if(S&&D){var Ae=a.browser.getImageData(D),pe={};for(var te in S){var he=S[te],_e=he.width,Ue=he.height,Oe=he.x,Me=he.y,Ke=he.sdf,et=he.pixelRatio,ut=he.stretchX,st=he.stretchY,bt=he.content,Pt=new a.RGBAImage({width:_e,height:Ue});a.RGBAImage.copy(Ae,Pt,{x:Oe,y:Me},{x:0,y:0},{width:_e,height:Ue}),pe[te]={data:Pt,pixelRatio:et,sdf:Ke,stretchX:ut,stretchY:st,content:bt}}E(null,pe)}}return{cancel:function(){W&&(W.cancel(),W=null),J&&(J.cancel(),J=null)}}}(c,this.map._requestManager,function(w,C){if(d._spriteRequest=null,w)d.fire(new a.ErrorEvent(w));else if(C)for(var E in C)d.imageManager.addImage(E,C[E]);d.imageManager.setLoaded(!0),d._availableImages=d.imageManager.listImages(),d.dispatcher.broadcast("setImages",d._availableImages),d.fire(new a.Event("data",{dataType:"style"}))})},h.prototype._validateLayer=function(c){var d=this.sourceCaches[c.source];if(d){var w=c.sourceLayer;if(w){var C=d.getSource();(C.type==="geojson"||C.vectorLayerIds&&C.vectorLayerIds.indexOf(w)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+w+'" does not exist on source "'+C.id+'" as specified by style layer "'+c.id+'"')))}}},h.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()},h.prototype._serializeLayers=function(c){for(var d=[],w=0,C=c;w<C.length;w+=1){var E=this._layers[C[w]];E.type!=="custom"&&d.push(E.serialize())}return d},h.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(var d in this._layers)if(this._layers[d].hasTransition())return!0;return!1},h.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},h.prototype.update=function(c){if(this._loaded){var d=this._changed;if(this._changed){var w=Object.keys(this._updatedLayers),C=Object.keys(this._removedLayers);for(var E in(w.length||C.length)&&this._updateWorkerLayers(w,C),this._updatedSources){var S=this._updatedSources[E];S==="reload"?this._reloadSource(E):S==="clear"&&this._clearSource(E)}for(var D in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[D].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}var O={};for(var q in this.sourceCaches){var W=this.sourceCaches[q];O[q]=W.used,W.used=!1}for(var J=0,ae=this._order;J<ae.length;J+=1){var Ae=this._layers[ae[J]];Ae.recalculate(c,this._availableImages),!Ae.isHidden(c.zoom)&&Ae.source&&(this.sourceCaches[Ae.source].used=!0)}for(var pe in O){var te=this.sourceCaches[pe];O[pe]!==te.used&&te.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:pe}))}this.light.recalculate(c),this.z=c.zoom,d&&this.fire(new a.Event("data",{dataType:"style"}))}},h.prototype._updateTilesForChangedImages=function(){var c=Object.keys(this._changedImages);if(c.length){for(var d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}},h.prototype._updateWorkerLayers=function(c,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:d})},h.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},h.prototype.setState=function(c){var d=this;if(this._checkLoaded(),On(this,a.validateStyle(c)))return!1;(c=a.clone$1(c)).layers=lt(c.layers);var w=function(E,S){if(!E)return[{command:ht.setStyle,args:[S]}];var D=[];try{if(!a.deepEqual(E.version,S.version))return[{command:ht.setStyle,args:[S]}];a.deepEqual(E.center,S.center)||D.push({command:ht.setCenter,args:[S.center]}),a.deepEqual(E.zoom,S.zoom)||D.push({command:ht.setZoom,args:[S.zoom]}),a.deepEqual(E.bearing,S.bearing)||D.push({command:ht.setBearing,args:[S.bearing]}),a.deepEqual(E.pitch,S.pitch)||D.push({command:ht.setPitch,args:[S.pitch]}),a.deepEqual(E.sprite,S.sprite)||D.push({command:ht.setSprite,args:[S.sprite]}),a.deepEqual(E.glyphs,S.glyphs)||D.push({command:ht.setGlyphs,args:[S.glyphs]}),a.deepEqual(E.transition,S.transition)||D.push({command:ht.setTransition,args:[S.transition]}),a.deepEqual(E.light,S.light)||D.push({command:ht.setLight,args:[S.light]});var O={},q=[];(function(J,ae,Ae,pe){var te;for(te in ae=ae||{},J=J||{})J.hasOwnProperty(te)&&(ae.hasOwnProperty(te)||gt(te,Ae,pe));for(te in ae)ae.hasOwnProperty(te)&&(J.hasOwnProperty(te)?a.deepEqual(J[te],ae[te])||(J[te].type==="geojson"&&ae[te].type==="geojson"&&Mr(J,ae,te)?Ae.push({command:ht.setGeoJSONSourceData,args:[te,ae[te].data]}):cr(te,ae,Ae,pe)):rr(te,ae,Ae))})(E.sources,S.sources,q,O);var W=[];E.layers&&E.layers.forEach(function(J){O[J.source]?D.push({command:ht.removeLayer,args:[J.id]}):W.push(J)}),D=D.concat(q),function(J,ae,Ae){ae=ae||[];var pe,te,he,_e,Ue,Oe,Me,Ke=(J=J||[]).map(mt),et=ae.map(mt),ut=J.reduce(It,{}),st=ae.reduce(It,{}),bt=Ke.slice(),Pt=Object.create(null);for(pe=0,te=0;pe<Ke.length;pe++)st.hasOwnProperty(he=Ke[pe])?te++:(Ae.push({command:ht.removeLayer,args:[he]}),bt.splice(bt.indexOf(he,te),1));for(pe=0,te=0;pe<et.length;pe++)bt[bt.length-1-pe]!==(he=et[et.length-1-pe])&&(ut.hasOwnProperty(he)?(Ae.push({command:ht.removeLayer,args:[he]}),bt.splice(bt.lastIndexOf(he,bt.length-te),1)):te++,Ae.push({command:ht.addLayer,args:[st[he],Oe=bt[bt.length-pe]]}),bt.splice(bt.length-pe,0,he),Pt[he]=!0);for(pe=0;pe<et.length;pe++)if(_e=ut[he=et[pe]],Ue=st[he],!Pt[he]&&!a.deepEqual(_e,Ue))if(a.deepEqual(_e.source,Ue.source)&&a.deepEqual(_e["source-layer"],Ue["source-layer"])&&a.deepEqual(_e.type,Ue.type)){for(Me in se(_e.layout,Ue.layout,Ae,he,null,ht.setLayoutProperty),se(_e.paint,Ue.paint,Ae,he,null,ht.setPaintProperty),a.deepEqual(_e.filter,Ue.filter)||Ae.push({command:ht.setFilter,args:[he,Ue.filter]}),a.deepEqual(_e.minzoom,Ue.minzoom)&&a.deepEqual(_e.maxzoom,Ue.maxzoom)||Ae.push({command:ht.setLayerZoomRange,args:[he,Ue.minzoom,Ue.maxzoom]}),_e)_e.hasOwnProperty(Me)&&Me!=="layout"&&Me!=="paint"&&Me!=="filter"&&Me!=="metadata"&&Me!=="minzoom"&&Me!=="maxzoom"&&(Me.indexOf("paint.")===0?se(_e[Me],Ue[Me],Ae,he,Me.slice(6),ht.setPaintProperty):a.deepEqual(_e[Me],Ue[Me])||Ae.push({command:ht.setLayerProperty,args:[he,Me,Ue[Me]]}));for(Me in Ue)Ue.hasOwnProperty(Me)&&!_e.hasOwnProperty(Me)&&Me!=="layout"&&Me!=="paint"&&Me!=="filter"&&Me!=="metadata"&&Me!=="minzoom"&&Me!=="maxzoom"&&(Me.indexOf("paint.")===0?se(_e[Me],Ue[Me],Ae,he,Me.slice(6),ht.setPaintProperty):a.deepEqual(_e[Me],Ue[Me])||Ae.push({command:ht.setLayerProperty,args:[he,Me,Ue[Me]]}))}else Ae.push({command:ht.removeLayer,args:[he]}),Oe=bt[bt.lastIndexOf(he)+1],Ae.push({command:ht.addLayer,args:[Ue,Oe]})}(W,S.layers,D)}catch(J){console.warn("Unable to compute style diff:",J),D=[{command:ht.setStyle,args:[S]}]}return D}(this.serialize(),c).filter(function(E){return!(E.command in yi)});if(w.length===0)return!1;var C=w.filter(function(E){return!(E.command in mn)});if(C.length>0)throw new Error("Unimplemented: "+C.map(function(E){return E.command}).join(", ")+".");return w.forEach(function(E){E.command!=="setTransition"&&d[E.command].apply(d,E.args)}),this.stylesheet=c,!0},h.prototype.addImage=function(c,d){if(this.getImage(c))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(c,d),this._afterImageUpdated(c)},h.prototype.updateImage=function(c,d){this.imageManager.updateImage(c,d)},h.prototype.getImage=function(c){return this.imageManager.getImage(c)},h.prototype.removeImage=function(c){if(!this.getImage(c))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(c),this._afterImageUpdated(c)},h.prototype._afterImageUpdated=function(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},h.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},h.prototype.addSource=function(c,d,w){var C=this;if(w===void 0&&(w={}),this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error("There is already a source with this ID");if(!d.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(d).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(a.validateStyle.source,"sources."+c,d,null,w))){this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);var E=this.sourceCaches[c]=new oe(c,d,this.dispatcher);E.style=this,E.setEventedParent(this,function(){return{isSourceLoaded:C.loaded(),source:E.serialize(),sourceId:c}}),E.onAdd(this.map),this._changed=!0}},h.prototype.removeSource=function(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(var d in this._layers)if(this._layers[d].source===c)return this.fire(new a.ErrorEvent(new Error('Source "'+c+'" cannot be removed while layer "'+d+'" is using it.')));var w=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],w.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),w.setEventedParent(null),w.clearTiles(),w.onRemove&&w.onRemove(this.map),this._changed=!0},h.prototype.setGeoJSONSourceData=function(c,d){this._checkLoaded(),this.sourceCaches[c].getSource().setData(d),this._changed=!0},h.prototype.getSource=function(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()},h.prototype.addLayer=function(c,d,w){w===void 0&&(w={}),this._checkLoaded();var C=c.id;if(this.getLayer(C))this.fire(new a.ErrorEvent(new Error('Layer with id "'+C+'" already exists on this map')));else{var E;if(c.type==="custom"){if(On(this,a.validateCustomStyleLayer(c)))return;E=a.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(C,c.source),c=a.clone$1(c),c=a.extend(c,{source:C})),this._validate(a.validateStyle.layer,"layers."+C,c,{arrayIndex:-1},w))return;E=a.createStyleLayer(c),this._validateLayer(E),E.setEventedParent(this,{layer:{id:C}}),this._serializedLayers[E.id]=E.serialize()}var S=d?this._order.indexOf(d):this._order.length;if(d&&S===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+d+'" does not exist on this map.')));else{if(this._order.splice(S,0,C),this._layerOrderChanged=!0,this._layers[C]=E,this._removedLayers[C]&&E.source&&E.type!=="custom"){var D=this._removedLayers[C];delete this._removedLayers[C],D.type!==E.type?this._updatedSources[E.source]="clear":(this._updatedSources[E.source]="reload",this.sourceCaches[E.source].pause())}this._updateLayer(E),E.onAdd&&E.onAdd(this.map)}}},h.prototype.moveLayer=function(c,d){if(this._checkLoaded(),this._changed=!0,this._layers[c]){if(c!==d){var w=this._order.indexOf(c);this._order.splice(w,1);var C=d?this._order.indexOf(d):this._order.length;d&&C===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+d+'" does not exist on this map.'))):(this._order.splice(C,0,c),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+c+"' does not exist in the map's style and cannot be moved.")))},h.prototype.removeLayer=function(c){this._checkLoaded();var d=this._layers[c];if(d){d.setEventedParent(null);var w=this._order.indexOf(c);this._order.splice(w,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=d,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],d.onRemove&&d.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+c+"' does not exist in the map's style and cannot be removed.")))},h.prototype.getLayer=function(c){return this._layers[c]},h.prototype.hasLayer=function(c){return c in this._layers},h.prototype.setLayerZoomRange=function(c,d,w){this._checkLoaded();var C=this.getLayer(c);C?C.minzoom===d&&C.maxzoom===w||(d!=null&&(C.minzoom=d),w!=null&&(C.maxzoom=w),this._updateLayer(C)):this.fire(new a.ErrorEvent(new Error("The layer '"+c+"' does not exist in the map's style and cannot have zoom extent.")))},h.prototype.setFilter=function(c,d,w){w===void 0&&(w={}),this._checkLoaded();var C=this.getLayer(c);if(C){if(!a.deepEqual(C.filter,d))return d==null?(C.filter=void 0,void this._updateLayer(C)):void(this._validate(a.validateStyle.filter,"layers."+C.id+".filter",d,null,w)||(C.filter=a.clone$1(d),this._updateLayer(C)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+c+"' does not exist in the map's style and cannot be filtered.")))},h.prototype.getFilter=function(c){return a.clone$1(this.getLayer(c).filter)},h.prototype.setLayoutProperty=function(c,d,w,C){C===void 0&&(C={}),this._checkLoaded();var E=this.getLayer(c);E?a.deepEqual(E.getLayoutProperty(d),w)||(E.setLayoutProperty(d,w,C),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error("The layer '"+c+"' does not exist in the map's style and cannot be styled.")))},h.prototype.getLayoutProperty=function(c,d){var w=this.getLayer(c);if(w)return w.getLayoutProperty(d);this.fire(new a.ErrorEvent(new Error("The layer '"+c+"' does not exist in the map's style.")))},h.prototype.setPaintProperty=function(c,d,w,C){C===void 0&&(C={}),this._checkLoaded();var E=this.getLayer(c);E?a.deepEqual(E.getPaintProperty(d),w)||(E.setPaintProperty(d,w,C)&&this._updateLayer(E),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+c+"' does not exist in the map's style and cannot be styled.")))},h.prototype.getPaintProperty=function(c,d){return this.getLayer(c).getPaintProperty(d)},h.prototype.setFeatureState=function(c,d){this._checkLoaded();var w=c.source,C=c.sourceLayer,E=this.sourceCaches[w];if(E!==void 0){var S=E.getSource().type;S==="geojson"&&C?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):S!=="vector"||C?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),E.setFeatureState(C,c.id,d)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+w+"' does not exist in the map's style.")))},h.prototype.removeFeatureState=function(c,d){this._checkLoaded();var w=c.source,C=this.sourceCaches[w];if(C!==void 0){var E=C.getSource().type,S=E==="vector"?c.sourceLayer:void 0;E!=="vector"||S?d&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):C.removeFeatureState(S,c.id,d):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+w+"' does not exist in the map's style.")))},h.prototype.getFeatureState=function(c){this._checkLoaded();var d=c.source,w=c.sourceLayer,C=this.sourceCaches[d];if(C!==void 0){if(C.getSource().type!=="vector"||w)return c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),C.getFeatureState(w,c.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+d+"' does not exist in the map's style.")))},h.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},h.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(c){return c.serialize()}),layers:this._serializeLayers(this._order)},function(c){return c!==void 0})},h.prototype._updateLayer=function(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._changed=!0},h.prototype._flattenAndSortRenderedFeatures=function(c){for(var d=this,w=function(ut){return d._layers[ut].type==="fill-extrusion"},C={},E=[],S=this._order.length-1;S>=0;S--){var D=this._order[S];if(w(D)){C[D]=S;for(var O=0,q=c;O<q.length;O+=1){var W=q[O][D];if(W)for(var J=0,ae=W;J<ae.length;J+=1)E.push(ae[J])}}}E.sort(function(ut,st){return st.intersectionZ-ut.intersectionZ});for(var Ae=[],pe=this._order.length-1;pe>=0;pe--){var te=this._order[pe];if(w(te))for(var he=E.length-1;he>=0;he--){var _e=E[he].feature;if(C[_e.layer.id]<pe)break;Ae.push(_e),E.pop()}else for(var Ue=0,Oe=c;Ue<Oe.length;Ue+=1){var Me=Oe[Ue][te];if(Me)for(var Ke=0,et=Me;Ke<et.length;Ke+=1)Ae.push(et[Ke].feature)}}return Ae},h.prototype.queryRenderedFeatures=function(c,d,w){d&&d.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",d.filter,null,d);var C={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var E=0,S=d.layers;E<S.length;E+=1){var D=S[E],O=this._layers[D];if(!O)return this.fire(new a.ErrorEvent(new Error("The layer '"+D+"' does not exist in the map's style and cannot be queried for features."))),[];C[O.source]=!0}}var q=[];for(var W in d.availableImages=this._availableImages,this.sourceCaches)d.layers&&!C[W]||q.push(St(this.sourceCaches[W],this._layers,this._serializedLayers,c,d,w));return this.placement&&q.push(function(J,ae,Ae,pe,te,he,_e){for(var Ue={},Oe=he.queryRenderedSymbols(pe),Me=[],Ke=0,et=Object.keys(Oe).map(Number);Ke<et.length;Ke+=1)Me.push(_e[et[Ke]]);Me.sort(it);for(var ut=function(){var Nt=bt[st],Pr=Nt.featureIndex.lookupSymbolFeatures(Oe[Nt.bucketInstanceId],ae,Nt.bucketIndex,Nt.sourceLayerIndex,te.filter,te.layers,te.availableImages,J);for(var Ct in Pr){var er=Ue[Ct]=Ue[Ct]||[],sr=Pr[Ct];sr.sort(function(ar,qt){var Xt=Nt.featureSortOrder;if(Xt){var sn=Xt.indexOf(ar.featureIndex);return Xt.indexOf(qt.featureIndex)-sn}return qt.featureIndex-ar.featureIndex});for(var Jt=0,Wt=sr;Jt<Wt.length;Jt+=1)er.push(Wt[Jt])}},st=0,bt=Me;st<bt.length;st+=1)ut();var Pt=function(Nt){Ue[Nt].forEach(function(Pr){var Ct=Pr.feature,er=Ae[J[Nt].source].getFeatureState(Ct.layer["source-layer"],Ct.id);Ct.source=Ct.layer.source,Ct.layer["source-layer"]&&(Ct.sourceLayer=Ct.layer["source-layer"]),Ct.state=er})};for(var Vt in Ue)Pt(Vt);return Ue}(this._layers,this._serializedLayers,this.sourceCaches,c,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(q)},h.prototype.querySourceFeatures=function(c,d){d&&d.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",d.filter,null,d);var w=this.sourceCaches[c];return w?function(C,E){for(var S=C.getRenderableIds().map(function(ae){return C.getTileByID(ae)}),D=[],O={},q=0;q<S.length;q++){var W=S[q],J=W.tileID.canonical.key;O[J]||(O[J]=!0,W.querySourceFeatures(D,E))}return D}(w,d):[]},h.prototype.addSourceType=function(c,d,w){return h.getSourceType(c)?w(new Error('A source type called "'+c+'" already exists.')):(h.setSourceType(c,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:d.workerSourceURL},w):w(null,null))},h.prototype.getLight=function(){return this.light.getLight()},h.prototype.setLight=function(c,d){d===void 0&&(d={}),this._checkLoaded();var w=this.light.getLight(),C=!1;for(var E in c)if(!a.deepEqual(c[E],w[E])){C=!0;break}if(C){var S={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,d),this.light.updateTransitions(S)}},h.prototype._validate=function(c,d,w,C,E){return E===void 0&&(E={}),(!E||E.validate!==!1)&&On(this,c.call(a.validateStyle,a.extend({key:d,style:this.serialize(),value:w,styleSpec:a.styleSpec},C)))},h.prototype._remove=function(){for(var c in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[c].setEventedParent(null);for(var d in this.sourceCaches)this.sourceCaches[d].clearTiles(),this.sourceCaches[d].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},h.prototype._clearSource=function(c){this.sourceCaches[c].clearTiles()},h.prototype._reloadSource=function(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()},h.prototype._updateSources=function(c){for(var d in this.sourceCaches)this.sourceCaches[d].update(c)},h.prototype._generateCollisionBoxes=function(){for(var c in this.sourceCaches)this._reloadSource(c)},h.prototype._updatePlacement=function(c,d,w,C,E){E===void 0&&(E=!1);for(var S=!1,D=!1,O={},q=0,W=this._order;q<W.length;q+=1){var J=this._layers[W[q]];if(J.type==="symbol"){if(!O[J.source]){var ae=this.sourceCaches[J.source];O[J.source]=ae.getRenderableIds(!0).map(function(_e){return ae.getTileByID(_e)}).sort(function(_e,Ue){return Ue.tileID.overscaledZ-_e.tileID.overscaledZ||(_e.tileID.isLessThan(Ue.tileID)?-1:1)})}var Ae=this.crossTileSymbolIndex.addLayer(J,O[J.source],c.center.lng);S=S||Ae}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((E=E||this._layerOrderChanged||w===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),c.zoom))&&(this.pauseablePlacement=new Wo(c,this._order,E,d,w,C,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),D=!0),S&&this.pauseablePlacement.placement.setStale()),D||S)for(var pe=0,te=this._order;pe<te.length;pe+=1){var he=this._layers[te[pe]];he.type==="symbol"&&this.placement.updateLayerOpacities(he,O[he.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},h.prototype._releaseSymbolFadeTiles=function(){for(var c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()},h.prototype.getImages=function(c,d,w){this.imageManager.getImages(d.icons,w),this._updateTilesForChangedImages();var C=this.sourceCaches[d.source];C&&C.setDependencies(d.tileID.key,d.type,d.icons)},h.prototype.getGlyphs=function(c,d,w){this.glyphManager.getGlyphs(d.stacks,w)},h.prototype.getResource=function(c,d,w){return a.makeRequest(d,w)},h}(a.Evented);sA.getSourceType=function(u){return We[u]},sA.setSourceType=function(u,h){We[u]=h},sA.registerForPluginStateChange=a.registerForPluginStateChange;var Xi=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ua=oi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),qc=oi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Bp=oi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),bp=oi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),cu=oi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),hu=oi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),fu=oi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),pu=oi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Wc=oi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Jc=oi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),xp=oi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),As=oi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),os=oi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Yc=oi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),kn=oi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),du=oi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),xo=oi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Co=oi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Jo=oi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Yo=oi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Fo=oi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),$o=oi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),ea=oi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Eo=oi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),$c=oi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),eh=oi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function oi(u,h){var c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,d=h.match(/attribute ([\w]+) ([\w]+)/g),w=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=h.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=C?C.concat(w):w,S={};return{fragmentSource:u=u.replace(c,function(D,O,q,W,J){return S[J]=!0,O==="define"?`
#ifndef HAS_UNIFORM_u_`+J+`
varying `+q+" "+W+" "+J+`;
#else
uniform `+q+" "+W+" u_"+J+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+J+`
    `+q+" "+W+" "+J+" = u_"+J+`;
#endif
`}),vertexSource:h=h.replace(c,function(D,O,q,W,J){var ae=W==="float"?"vec2":"vec4",Ae=J.match(/color/)?"color":ae;return S[J]?O==="define"?`
#ifndef HAS_UNIFORM_u_`+J+`
uniform lowp float u_`+J+`_t;
attribute `+q+" "+ae+" a_"+J+`;
varying `+q+" "+W+" "+J+`;
#else
uniform `+q+" "+W+" u_"+J+`;
#endif
`:Ae==="vec4"?`
#ifndef HAS_UNIFORM_u_`+J+`
    `+J+" = a_"+J+`;
#else
    `+q+" "+W+" "+J+" = u_"+J+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+J+`
    `+J+" = unpack_mix_"+Ae+"(a_"+J+", u_"+J+`_t);
#else
    `+q+" "+W+" "+J+" = u_"+J+`;
#endif
`:O==="define"?`
#ifndef HAS_UNIFORM_u_`+J+`
uniform lowp float u_`+J+`_t;
attribute `+q+" "+ae+" a_"+J+`;
#else
uniform `+q+" "+W+" u_"+J+`;
#endif
`:Ae==="vec4"?`
#ifndef HAS_UNIFORM_u_`+J+`
    `+q+" "+W+" "+J+" = a_"+J+`;
#else
    `+q+" "+W+" "+J+" = u_"+J+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+J+`
    `+q+" "+W+" "+J+" = unpack_mix_"+Ae+"(a_"+J+", u_"+J+`_t);
#else
    `+q+" "+W+" "+J+" = u_"+J+`;
#endif
`}),staticAttributes:d,staticUniforms:E}}var Cp=Object.freeze({__proto__:null,prelude:Ua,background:qc,backgroundPattern:Bp,circle:bp,clippingMask:cu,heatmap:hu,heatmapTexture:fu,collisionBox:pu,collisionCircle:Wc,debug:Jc,fill:xp,fillOutline:As,fillOutlinePattern:os,fillPattern:Yc,fillExtrusion:kn,fillExtrusionPattern:du,hillshadePrepare:xo,hillshade:Co,line:Jo,lineGradient:Yo,linePattern:Fo,lineSDF:$o,raster:ea,symbolIcon:Eo,symbolSDF:$c,symbolTextAndIcon:eh}),Xs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function th(u){for(var h=[],c=0;c<u.length;c++)if(u[c]!==null){var d=u[c].split(" ");h.push(d.pop())}return h}Xs.prototype.bind=function(u,h,c,d,w,C,E,S){this.context=u;for(var D=this.boundPaintVertexBuffers.length!==d.length,O=0;!D&&O<d.length;O++)this.boundPaintVertexBuffers[O]!==d[O]&&(D=!0);u.extVertexArrayObject&&this.vao&&this.boundProgram===h&&this.boundLayoutVertexBuffer===c&&!D&&this.boundIndexBuffer===w&&this.boundVertexOffset===C&&this.boundDynamicVertexBuffer===E&&this.boundDynamicVertexBuffer2===S?(u.bindVertexArrayOES.set(this.vao),E&&E.bind(),w&&w.dynamicDraw&&w.bind(),S&&S.bind()):this.freshBind(h,c,d,w,C,E,S)},Xs.prototype.freshBind=function(u,h,c,d,w,C,E){var S,D=u.numAttributes,O=this.context,q=O.gl;if(O.extVertexArrayObject)this.vao&&this.destroy(),this.vao=O.extVertexArrayObject.createVertexArrayOES(),O.bindVertexArrayOES.set(this.vao),S=0,this.boundProgram=u,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=c,this.boundIndexBuffer=d,this.boundVertexOffset=w,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=E;else{S=O.currentNumAttributes||0;for(var W=D;W<S;W++)q.disableVertexAttribArray(W)}h.enableAttributes(q,u);for(var J=0,ae=c;J<ae.length;J+=1)ae[J].enableAttributes(q,u);C&&C.enableAttributes(q,u),E&&E.enableAttributes(q,u),h.bind(),h.setVertexAttribPointers(q,u,w);for(var Ae=0,pe=c;Ae<pe.length;Ae+=1){var te=pe[Ae];te.bind(),te.setVertexAttribPointers(q,u,w)}C&&(C.bind(),C.setVertexAttribPointers(q,u,w)),d&&d.bind(),E&&(E.bind(),E.setVertexAttribPointers(q,u,w)),O.currentNumAttributes=D},Xs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var rh=function(u,h,c,d,w,C){var E=u.gl;this.program=E.createProgram();for(var S=th(c.staticAttributes),D=d?d.getBinderAttributes():[],O=S.concat(D),q=c.staticUniforms?th(c.staticUniforms):[],W=d?d.getBinderUniforms():[],J=[],ae=0,Ae=q.concat(W);ae<Ae.length;ae+=1){var pe=Ae[ae];J.indexOf(pe)<0&&J.push(pe)}var te=d?d.defines():[];C&&te.push("#define OVERDRAW_INSPECTOR;");var he=te.concat(Ua.fragmentSource,c.fragmentSource).join(`
`),_e=te.concat(Ua.vertexSource,c.vertexSource).join(`
`),Ue=E.createShader(E.FRAGMENT_SHADER);if(E.isContextLost())this.failedToCreate=!0;else{E.shaderSource(Ue,he),E.compileShader(Ue),E.attachShader(this.program,Ue);var Oe=E.createShader(E.VERTEX_SHADER);if(E.isContextLost())this.failedToCreate=!0;else{E.shaderSource(Oe,_e),E.compileShader(Oe),E.attachShader(this.program,Oe),this.attributes={};var Me={};this.numAttributes=O.length;for(var Ke=0;Ke<this.numAttributes;Ke++)O[Ke]&&(E.bindAttribLocation(this.program,Ke,O[Ke]),this.attributes[O[Ke]]=Ke);E.linkProgram(this.program),E.deleteShader(Oe),E.deleteShader(Ue);for(var et=0;et<J.length;et++){var ut=J[et];if(ut&&!Me[ut]){var st=E.getUniformLocation(this.program,ut);st&&(Me[ut]=st)}}this.fixedUniforms=w(u,Me),this.binderUniforms=d?d.getUniforms(u,Me):[]}}};function ih(u,h,c){var d=1/ii(c,1,h.transform.tileZoom),w=Math.pow(2,c.tileID.overscaledZ),C=c.tileSize*Math.pow(2,h.transform.tileZoom)/w,E=C*(c.tileID.canonical.x+c.tileID.wrap*w),S=C*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_scale:[d,u.fromScale,u.toScale],u_fade:u.t,u_pixel_coord_upper:[E>>16,S>>16],u_pixel_coord_lower:[65535&E,65535&S]}}rh.prototype.draw=function(u,h,c,d,w,C,E,S,D,O,q,W,J,ae,Ae,pe){var te,he=u.gl;if(!this.failedToCreate){for(var _e in u.program.set(this.program),u.setDepthMode(c),u.setStencilMode(d),u.setColorMode(w),u.setCullFace(C),this.fixedUniforms)this.fixedUniforms[_e].set(E[_e]);ae&&ae.setUniforms(u,this.binderUniforms,W,{zoom:J});for(var Ue=(te={},te[he.LINES]=2,te[he.TRIANGLES]=3,te[he.LINE_STRIP]=1,te)[h],Oe=0,Me=q.get();Oe<Me.length;Oe+=1){var Ke=Me[Oe],et=Ke.vaos||(Ke.vaos={});(et[S]||(et[S]=new Xs)).bind(u,this,D,ae?ae.getPaintVertexBuffers():[],O,Ke.vertexOffset,Ae,pe),he.drawElements(h,Ke.primitiveLength*Ue,he.UNSIGNED_SHORT,Ke.primitiveOffset*Ue*2)}}};var nh=function(u,h,c,d){var w=h.style.light,C=w.properties.get("position"),E=[C.x,C.y,C.z],S=a.create$1();w.properties.get("anchor")==="viewport"&&a.fromRotation(S,-h.transform.angle),a.transformMat3(E,E,S);var D=w.properties.get("color");return{u_matrix:u,u_lightpos:E,u_lightintensity:w.properties.get("intensity"),u_lightcolor:[D.r,D.g,D.b],u_vertical_gradient:+c,u_opacity:d}},ta=function(u,h,c,d,w,C,E){return a.extend(nh(u,h,c,d),ih(C,h,E),{u_height_factor:-Math.pow(2,w.overscaledZ)/E.tileSize/8})},Uo=function(u){return{u_matrix:u}},ra=function(u,h,c,d){return a.extend(Uo(u),ih(c,h,d))},Ah=function(u,h){return{u_matrix:u,u_world:h}},oh=function(u,h,c,d,w){return a.extend(ra(u,h,c,d),{u_world:w})},gu=function(u,h,c,d){var w,C,E=u.transform;if(d.paint.get("circle-pitch-alignment")==="map"){var S=ii(c,1,E.zoom);w=!0,C=[S,S]}else w=!1,C=E.pixelsToGLUnits;return{u_camera_to_center_distance:E.cameraToCenterDistance,u_scale_with_map:+(d.paint.get("circle-pitch-scale")==="map"),u_matrix:u.translatePosMatrix(h.posMatrix,c,d.paint.get("circle-translate"),d.paint.get("circle-translate-anchor")),u_pitch_with_map:+w,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:C}},ia=function(u,h,c){var d=ii(c,1,h.zoom),w=Math.pow(2,h.zoom-c.tileID.overscaledZ),C=c.tileID.overscaleFactor();return{u_matrix:u,u_camera_to_center_distance:h.cameraToCenterDistance,u_pixels_to_tile_units:d,u_extrude_scale:[h.pixelsToGLUnits[0]/(d*w),h.pixelsToGLUnits[1]/(d*w)],u_overscale_factor:C}},ah=function(u,h,c){return{u_matrix:u,u_inv_matrix:h,u_camera_to_center_distance:c.cameraToCenterDistance,u_viewport_size:[c.width,c.height]}},na=function(u,h,c){return c===void 0&&(c=1),{u_matrix:u,u_color:h,u_overlay:0,u_overlay_scale:c}},Aa=function(u){return{u_matrix:u}},sh=function(u,h,c,d){return{u_matrix:u,u_extrude_scale:ii(h,1,c),u_intensity:d}},as=function(u,h,c){var d=u.transform;return{u_matrix:lh(u,h,c),u_ratio:1/ii(h,1,d.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/d.pixelsToGLUnits[0],1/d.pixelsToGLUnits[1]]}},fi=function(u,h,c,d){return a.extend(as(u,h,c),{u_image:0,u_image_height:d})},js=function(u,h,c,d){var w=u.transform,C=Qa(h,w);return{u_matrix:lh(u,h,c),u_texsize:h.imageAtlasTexture.size,u_ratio:1/ii(h,1,w.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[C,d.fromScale,d.toScale],u_fade:d.t,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},Fp=function(u,h,c,d,w){var C=u.lineAtlas,E=Qa(h,u.transform),S=c.layout.get("line-cap")==="round",D=C.getDash(d.from,S),O=C.getDash(d.to,S),q=D.width*w.fromScale,W=O.width*w.toScale;return a.extend(as(u,h,c),{u_patternscale_a:[E/q,-D.height/2],u_patternscale_b:[E/W,-O.height/2],u_sdfgamma:C.width/(256*Math.min(q,W)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:D.y,u_tex_y_b:O.y,u_mix:w.t})};function Qa(u,h){return 1/ii(u,1,h.tileZoom)}function lh(u,h,c){return u.translatePosMatrix(h.tileID.posMatrix,h,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}var Ep=function(u,h,c,d,w){return{u_matrix:u,u_tl_parent:h,u_scale_parent:c,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(E=w.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(C=w.paint.get("raster-contrast"),C>0?1/(1-C):1+C),u_spin_weights:uh(w.paint.get("raster-hue-rotate"))};var C,E};function uh(u){u*=Math.PI/180;var h=Math.sin(u),c=Math.cos(u);return[(2*c+1)/3,(-Math.sqrt(3)*h-c+1)/3,(Math.sqrt(3)*h-c+1)/3]}var Zs,Ia=function(u,h,c,d,w,C,E,S,D,O){var q=w.transform;return{u_is_size_zoom_constant:+(u==="constant"||u==="source"),u_is_size_feature_constant:+(u==="constant"||u==="camera"),u_size_t:h?h.uSizeT:0,u_size:h?h.uSize:0,u_camera_to_center_distance:q.cameraToCenterDistance,u_pitch:q.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:q.width/q.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:C,u_label_plane_matrix:E,u_coord_matrix:S,u_is_text:+D,u_pitch_with_map:+d,u_texsize:O,u_texture:0}},ss=function(u,h,c,d,w,C,E,S,D,O,q){var W=w.transform;return a.extend(Ia(u,h,c,d,w,C,E,S,D,O),{u_gamma_scale:d?Math.cos(W._pitch)*W.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+q})},qs=function(u,h,c,d,w,C,E,S,D,O){return a.extend(ss(u,h,c,d,w,C,E,S,!0,D,!0),{u_texsize_icon:O,u_texture_icon:1})},ls=function(u,h,c){return{u_matrix:u,u_opacity:h,u_color:c}},Sa=function(u,h,c,d,w,C){return a.extend(function(E,S,D,O){var q=D.imageManager.getPattern(E.from.toString()),W=D.imageManager.getPattern(E.to.toString()),J=D.imageManager.getPixelSize(),ae=J.width,Ae=J.height,pe=Math.pow(2,O.tileID.overscaledZ),te=O.tileSize*Math.pow(2,D.transform.tileZoom)/pe,he=te*(O.tileID.canonical.x+O.tileID.wrap*pe),_e=te*O.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:q.tl,u_pattern_br_a:q.br,u_pattern_tl_b:W.tl,u_pattern_br_b:W.br,u_texsize:[ae,Ae],u_mix:S.t,u_pattern_size_a:q.displaySize,u_pattern_size_b:W.displaySize,u_scale_a:S.fromScale,u_scale_b:S.toScale,u_tile_units_to_pixels:1/ii(O,1,D.transform.tileZoom),u_pixel_coord_upper:[he>>16,_e>>16],u_pixel_coord_lower:[65535&he,65535&_e]}}(d,C,c,w),{u_matrix:u,u_opacity:h})},ch={fillExtrusion:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_lightpos:new a.Uniform3f(u,h.u_lightpos),u_lightintensity:new a.Uniform1f(u,h.u_lightintensity),u_lightcolor:new a.Uniform3f(u,h.u_lightcolor),u_vertical_gradient:new a.Uniform1f(u,h.u_vertical_gradient),u_opacity:new a.Uniform1f(u,h.u_opacity)}},fillExtrusionPattern:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_lightpos:new a.Uniform3f(u,h.u_lightpos),u_lightintensity:new a.Uniform1f(u,h.u_lightintensity),u_lightcolor:new a.Uniform3f(u,h.u_lightcolor),u_vertical_gradient:new a.Uniform1f(u,h.u_vertical_gradient),u_height_factor:new a.Uniform1f(u,h.u_height_factor),u_image:new a.Uniform1i(u,h.u_image),u_texsize:new a.Uniform2f(u,h.u_texsize),u_pixel_coord_upper:new a.Uniform2f(u,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(u,h.u_pixel_coord_lower),u_scale:new a.Uniform3f(u,h.u_scale),u_fade:new a.Uniform1f(u,h.u_fade),u_opacity:new a.Uniform1f(u,h.u_opacity)}},fill:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix)}},fillPattern:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_image:new a.Uniform1i(u,h.u_image),u_texsize:new a.Uniform2f(u,h.u_texsize),u_pixel_coord_upper:new a.Uniform2f(u,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(u,h.u_pixel_coord_lower),u_scale:new a.Uniform3f(u,h.u_scale),u_fade:new a.Uniform1f(u,h.u_fade)}},fillOutline:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_world:new a.Uniform2f(u,h.u_world)}},fillOutlinePattern:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_world:new a.Uniform2f(u,h.u_world),u_image:new a.Uniform1i(u,h.u_image),u_texsize:new a.Uniform2f(u,h.u_texsize),u_pixel_coord_upper:new a.Uniform2f(u,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(u,h.u_pixel_coord_lower),u_scale:new a.Uniform3f(u,h.u_scale),u_fade:new a.Uniform1f(u,h.u_fade)}},circle:function(u,h){return{u_camera_to_center_distance:new a.Uniform1f(u,h.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(u,h.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(u,h.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(u,h.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(u,h.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(u,h.u_matrix)}},collisionBox:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_camera_to_center_distance:new a.Uniform1f(u,h.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(u,h.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(u,h.u_extrude_scale),u_overscale_factor:new a.Uniform1f(u,h.u_overscale_factor)}},collisionCircle:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_inv_matrix:new a.UniformMatrix4f(u,h.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(u,h.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(u,h.u_viewport_size)}},debug:function(u,h){return{u_color:new a.UniformColor(u,h.u_color),u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_overlay:new a.Uniform1i(u,h.u_overlay),u_overlay_scale:new a.Uniform1f(u,h.u_overlay_scale)}},clippingMask:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix)}},heatmap:function(u,h){return{u_extrude_scale:new a.Uniform1f(u,h.u_extrude_scale),u_intensity:new a.Uniform1f(u,h.u_intensity),u_matrix:new a.UniformMatrix4f(u,h.u_matrix)}},heatmapTexture:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_world:new a.Uniform2f(u,h.u_world),u_image:new a.Uniform1i(u,h.u_image),u_color_ramp:new a.Uniform1i(u,h.u_color_ramp),u_opacity:new a.Uniform1f(u,h.u_opacity)}},hillshade:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_image:new a.Uniform1i(u,h.u_image),u_latrange:new a.Uniform2f(u,h.u_latrange),u_light:new a.Uniform2f(u,h.u_light),u_shadow:new a.UniformColor(u,h.u_shadow),u_highlight:new a.UniformColor(u,h.u_highlight),u_accent:new a.UniformColor(u,h.u_accent)}},hillshadePrepare:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_image:new a.Uniform1i(u,h.u_image),u_dimension:new a.Uniform2f(u,h.u_dimension),u_zoom:new a.Uniform1f(u,h.u_zoom),u_unpack:new a.Uniform4f(u,h.u_unpack)}},line:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_ratio:new a.Uniform1f(u,h.u_ratio),u_device_pixel_ratio:new a.Uniform1f(u,h.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(u,h.u_units_to_pixels)}},lineGradient:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_ratio:new a.Uniform1f(u,h.u_ratio),u_device_pixel_ratio:new a.Uniform1f(u,h.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(u,h.u_units_to_pixels),u_image:new a.Uniform1i(u,h.u_image),u_image_height:new a.Uniform1f(u,h.u_image_height)}},linePattern:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_texsize:new a.Uniform2f(u,h.u_texsize),u_ratio:new a.Uniform1f(u,h.u_ratio),u_device_pixel_ratio:new a.Uniform1f(u,h.u_device_pixel_ratio),u_image:new a.Uniform1i(u,h.u_image),u_units_to_pixels:new a.Uniform2f(u,h.u_units_to_pixels),u_scale:new a.Uniform3f(u,h.u_scale),u_fade:new a.Uniform1f(u,h.u_fade)}},lineSDF:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_ratio:new a.Uniform1f(u,h.u_ratio),u_device_pixel_ratio:new a.Uniform1f(u,h.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(u,h.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(u,h.u_patternscale_a),u_patternscale_b:new a.Uniform2f(u,h.u_patternscale_b),u_sdfgamma:new a.Uniform1f(u,h.u_sdfgamma),u_image:new a.Uniform1i(u,h.u_image),u_tex_y_a:new a.Uniform1f(u,h.u_tex_y_a),u_tex_y_b:new a.Uniform1f(u,h.u_tex_y_b),u_mix:new a.Uniform1f(u,h.u_mix)}},raster:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_tl_parent:new a.Uniform2f(u,h.u_tl_parent),u_scale_parent:new a.Uniform1f(u,h.u_scale_parent),u_buffer_scale:new a.Uniform1f(u,h.u_buffer_scale),u_fade_t:new a.Uniform1f(u,h.u_fade_t),u_opacity:new a.Uniform1f(u,h.u_opacity),u_image0:new a.Uniform1i(u,h.u_image0),u_image1:new a.Uniform1i(u,h.u_image1),u_brightness_low:new a.Uniform1f(u,h.u_brightness_low),u_brightness_high:new a.Uniform1f(u,h.u_brightness_high),u_saturation_factor:new a.Uniform1f(u,h.u_saturation_factor),u_contrast_factor:new a.Uniform1f(u,h.u_contrast_factor),u_spin_weights:new a.Uniform3f(u,h.u_spin_weights)}},symbolIcon:function(u,h){return{u_is_size_zoom_constant:new a.Uniform1i(u,h.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(u,h.u_is_size_feature_constant),u_size_t:new a.Uniform1f(u,h.u_size_t),u_size:new a.Uniform1f(u,h.u_size),u_camera_to_center_distance:new a.Uniform1f(u,h.u_camera_to_center_distance),u_pitch:new a.Uniform1f(u,h.u_pitch),u_rotate_symbol:new a.Uniform1i(u,h.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(u,h.u_aspect_ratio),u_fade_change:new a.Uniform1f(u,h.u_fade_change),u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(u,h.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(u,h.u_coord_matrix),u_is_text:new a.Uniform1i(u,h.u_is_text),u_pitch_with_map:new a.Uniform1i(u,h.u_pitch_with_map),u_texsize:new a.Uniform2f(u,h.u_texsize),u_texture:new a.Uniform1i(u,h.u_texture)}},symbolSDF:function(u,h){return{u_is_size_zoom_constant:new a.Uniform1i(u,h.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(u,h.u_is_size_feature_constant),u_size_t:new a.Uniform1f(u,h.u_size_t),u_size:new a.Uniform1f(u,h.u_size),u_camera_to_center_distance:new a.Uniform1f(u,h.u_camera_to_center_distance),u_pitch:new a.Uniform1f(u,h.u_pitch),u_rotate_symbol:new a.Uniform1i(u,h.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(u,h.u_aspect_ratio),u_fade_change:new a.Uniform1f(u,h.u_fade_change),u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(u,h.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(u,h.u_coord_matrix),u_is_text:new a.Uniform1i(u,h.u_is_text),u_pitch_with_map:new a.Uniform1i(u,h.u_pitch_with_map),u_texsize:new a.Uniform2f(u,h.u_texsize),u_texture:new a.Uniform1i(u,h.u_texture),u_gamma_scale:new a.Uniform1f(u,h.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(u,h.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(u,h.u_is_halo)}},symbolTextAndIcon:function(u,h){return{u_is_size_zoom_constant:new a.Uniform1i(u,h.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(u,h.u_is_size_feature_constant),u_size_t:new a.Uniform1f(u,h.u_size_t),u_size:new a.Uniform1f(u,h.u_size),u_camera_to_center_distance:new a.Uniform1f(u,h.u_camera_to_center_distance),u_pitch:new a.Uniform1f(u,h.u_pitch),u_rotate_symbol:new a.Uniform1i(u,h.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(u,h.u_aspect_ratio),u_fade_change:new a.Uniform1f(u,h.u_fade_change),u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(u,h.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(u,h.u_coord_matrix),u_is_text:new a.Uniform1i(u,h.u_is_text),u_pitch_with_map:new a.Uniform1i(u,h.u_pitch_with_map),u_texsize:new a.Uniform2f(u,h.u_texsize),u_texsize_icon:new a.Uniform2f(u,h.u_texsize_icon),u_texture:new a.Uniform1i(u,h.u_texture),u_texture_icon:new a.Uniform1i(u,h.u_texture_icon),u_gamma_scale:new a.Uniform1f(u,h.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(u,h.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(u,h.u_is_halo)}},background:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_opacity:new a.Uniform1f(u,h.u_opacity),u_color:new a.UniformColor(u,h.u_color)}},backgroundPattern:function(u,h){return{u_matrix:new a.UniformMatrix4f(u,h.u_matrix),u_opacity:new a.Uniform1f(u,h.u_opacity),u_image:new a.Uniform1i(u,h.u_image),u_pattern_tl_a:new a.Uniform2f(u,h.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(u,h.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(u,h.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(u,h.u_pattern_br_b),u_texsize:new a.Uniform2f(u,h.u_texsize),u_mix:new a.Uniform1f(u,h.u_mix),u_pattern_size_a:new a.Uniform2f(u,h.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(u,h.u_pattern_size_b),u_scale_a:new a.Uniform1f(u,h.u_scale_a),u_scale_b:new a.Uniform1f(u,h.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(u,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(u,h.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(u,h.u_tile_units_to_pixels)}}};function Ta(u,h,c,d,w,C,E){for(var S=u.context,D=S.gl,O=u.useProgram("collisionBox"),q=[],W=0,J=0,ae=0;ae<d.length;ae++){var Ae=d[ae],pe=h.getTile(Ae),te=pe.getBucket(c);if(te){var he=Ae.posMatrix;w[0]===0&&w[1]===0||(he=u.translatePosMatrix(Ae.posMatrix,pe,w,C));var _e=E?te.textCollisionBox:te.iconCollisionBox,Ue=te.collisionCircleArray;if(Ue.length>0){var Oe=a.create(),Me=he;a.mul(Oe,te.placementInvProjMatrix,u.transform.glCoordMatrix),a.mul(Oe,Oe,te.placementViewportMatrix),q.push({circleArray:Ue,circleOffset:J,transform:Me,invTransform:Oe}),J=W+=Ue.length/4}_e&&O.draw(S,D.LINES,Y.disabled,ie.disabled,u.colorModeForRenderPass(),ye.disabled,ia(he,u.transform,pe),c.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,null,u.transform.zoom,null,null,_e.collisionVertexBuffer)}}if(E&&q.length){var Ke=u.useProgram("collisionCircle"),et=new a.StructArrayLayout2f1f2i16;et.resize(4*W),et._trim();for(var ut=0,st=0,bt=q;st<bt.length;st+=1)for(var Pt=bt[st],Vt=0;Vt<Pt.circleArray.length/4;Vt++){var Nt=4*Vt,Pr=Pt.circleArray[Nt+0],Ct=Pt.circleArray[Nt+1],er=Pt.circleArray[Nt+2],sr=Pt.circleArray[Nt+3];et.emplace(ut++,Pr,Ct,er,sr,0),et.emplace(ut++,Pr,Ct,er,sr,1),et.emplace(ut++,Pr,Ct,er,sr,2),et.emplace(ut++,Pr,Ct,er,sr,3)}(!Zs||Zs.length<2*W)&&(Zs=function(Hi){var Kn=2*Hi,_n=new a.StructArrayLayout3ui6;_n.resize(Kn),_n._trim();for(var ki=0;ki<Kn;ki++){var Ki=6*ki;_n.uint16[Ki+0]=4*ki+0,_n.uint16[Ki+1]=4*ki+1,_n.uint16[Ki+2]=4*ki+2,_n.uint16[Ki+3]=4*ki+2,_n.uint16[Ki+4]=4*ki+3,_n.uint16[Ki+5]=4*ki+0}return _n}(W));for(var Jt=S.createIndexBuffer(Zs,!0),Wt=S.createVertexBuffer(et,a.collisionCircleLayout.members,!0),ar=0,qt=q;ar<qt.length;ar+=1){var Xt=qt[ar],sn=ah(Xt.transform,Xt.invTransform,u.transform);Ke.draw(S,D.TRIANGLES,Y.disabled,ie.disabled,u.colorModeForRenderPass(),ye.disabled,sn,c.id,Wt,Jt,a.SegmentVector.simpleSegment(0,2*Xt.circleOffset,Xt.circleArray.length,Xt.circleArray.length/2),null,u.transform.zoom,null,null,null)}Wt.destroy(),Jt.destroy()}}var zA=a.identity(new Float32Array(16));function hh(u,h,c,d,w,C){var E=a.getAnchorAlignment(u),S=-(E.horizontalAlign-.5)*h,D=-(E.verticalAlign-.5)*c,O=a.evaluateVariableOffset(u,d);return new a.Point((S/w+O[0])*C,(D/w+O[1])*C)}function fh(u,h,c,d,w,C,E,S,D,O,q){var W=u.text.placedSymbolArray,J=u.text.dynamicLayoutVertexArray,ae=u.icon.dynamicLayoutVertexArray,Ae={};J.clear();for(var pe=0;pe<W.length;pe++){var te=W.get(pe),he=te.hidden||!te.crossTileID||u.allowVerticalPlacement&&!te.placedOrientation?null:d[te.crossTileID];if(he){var _e=new a.Point(te.anchorX,te.anchorY),Ue=fr(_e,c?S:E),Oe=xr(C.cameraToCenterDistance,Ue.signedDistanceFromCamera),Me=w.evaluateSizeForFeature(u.textSizeData,O,te)*Oe/a.ONE_EM;c&&(Me*=u.tilePixelRatio/D);for(var Ke=hh(he.anchor,he.width,he.height,he.textOffset,he.textBoxScale,Me),et=c?fr(_e.add(Ke),E).point:Ue.point.add(h?Ke.rotate(-C.angle):Ke),ut=u.allowVerticalPlacement&&te.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,st=0;st<te.numGlyphs;st++)a.addDynamicAttributes(J,et,ut);q&&te.associatedIconIndex>=0&&(Ae[te.associatedIconIndex]={shiftedAnchor:et,angle:ut})}else Ji(te.numGlyphs,J)}if(q){ae.clear();for(var bt=u.icon.placedSymbolArray,Pt=0;Pt<bt.length;Pt++){var Vt=bt.get(Pt);if(Vt.hidden)Ji(Vt.numGlyphs,ae);else{var Nt=Ae[Pt];if(Nt)for(var Pr=0;Pr<Vt.numGlyphs;Pr++)a.addDynamicAttributes(ae,Nt.shiftedAnchor,Nt.angle);else Ji(Vt.numGlyphs,ae)}}u.icon.dynamicLayoutVertexBuffer.updateData(ae)}u.text.dynamicLayoutVertexBuffer.updateData(J)}function ph(u,h,c){return c.iconsInText&&h?"symbolTextAndIcon":u?"symbolSDF":"symbolIcon"}function oa(u,h,c,d,w,C,E,S,D,O,q,W){for(var J=u.context,ae=J.gl,Ae=u.transform,pe=S==="map",te=D==="map",he=pe&&c.layout.get("symbol-placement")!=="point",_e=pe&&!te&&!he,Ue=c.layout.get("symbol-sort-key").constantOr(1)!==void 0,Oe=!1,Me=u.depthModeForSublayer(0,Y.ReadOnly),Ke=c.layout.get("text-variable-anchor"),et=[],ut=0,st=d;ut<st.length;ut+=1){var bt=st[ut],Pt=h.getTile(bt),Vt=Pt.getBucket(c);if(Vt){var Nt=w?Vt.text:Vt.icon;if(Nt&&Nt.segments.get().length){var Pr=Nt.programConfigurations.get(c.id),Ct=w||Vt.sdfIcons,er=w?Vt.textSizeData:Vt.iconSizeData,sr=te||Ae.pitch!==0,Jt=u.useProgram(ph(Ct,w,Vt),Pr),Wt=a.evaluateSizeForZoom(er,Ae.zoom),ar=void 0,qt=[0,0],Xt=void 0,sn=void 0,Hi=null,Kn=void 0;if(w)Xt=Pt.glyphAtlasTexture,sn=ae.LINEAR,ar=Pt.glyphAtlasTexture.size,Vt.iconsInText&&(qt=Pt.imageAtlasTexture.size,Hi=Pt.imageAtlasTexture,Kn=sr||u.options.rotating||u.options.zooming||er.kind==="composite"||er.kind==="camera"?ae.LINEAR:ae.NEAREST);else{var _n=c.layout.get("icon-size").constantOr(0)!==1||Vt.iconsNeedLinear;Xt=Pt.imageAtlasTexture,sn=Ct||u.options.rotating||u.options.zooming||_n||sr?ae.LINEAR:ae.NEAREST,ar=Pt.imageAtlasTexture.size}var ki=ii(Pt,1,u.transform.zoom),Ki=Dr(bt.posMatrix,te,pe,u.transform,ki),pA=zr(bt.posMatrix,te,pe,u.transform,ki),qn=Ke&&Vt.hasTextData(),Lo=c.layout.get("icon-text-fit")!=="none"&&qn&&Vt.hasIconData();he&&HA(Vt,bt.posMatrix,u,w,Ki,pA,te,O);var eA=u.translatePosMatrix(bt.posMatrix,Pt,C,E),VA=he||w&&Ke||Lo?zA:Ki,TA=u.translatePosMatrix(pA,Pt,C,E,!0),ws=Ct&&c.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ha={program:Jt,buffers:Nt,uniformValues:Ct?Vt.iconsInText?qs(er.kind,Wt,_e,te,u,eA,VA,TA,ar,qt):ss(er.kind,Wt,_e,te,u,eA,VA,TA,w,ar,!0):Ia(er.kind,Wt,_e,te,u,eA,VA,TA,w,ar),atlasTexture:Xt,atlasTextureIcon:Hi,atlasInterpolation:sn,atlasInterpolationIcon:Kn,isSDF:Ct,hasHalo:ws};if(Ue&&Vt.canOverlap){Oe=!0;for(var Mo=0,za=Nt.segments.get();Mo<za.length;Mo+=1){var Bs=za[Mo];et.push({segments:new a.SegmentVector([Bs]),sortKey:Bs.sortKey,state:Ha})}}else et.push({segments:Nt.segments,sortKey:0,state:Ha})}}}Oe&&et.sort(function(Do,ha){return Do.sortKey-ha.sortKey});for(var io=0,bs=et;io<bs.length;io+=1){var no=bs[io],ln=no.state;if(J.activeTexture.set(ae.TEXTURE0),ln.atlasTexture.bind(ln.atlasInterpolation,ae.CLAMP_TO_EDGE),ln.atlasTextureIcon&&(J.activeTexture.set(ae.TEXTURE1),ln.atlasTextureIcon&&ln.atlasTextureIcon.bind(ln.atlasInterpolationIcon,ae.CLAMP_TO_EDGE)),ln.isSDF){var po=ln.uniformValues;ln.hasHalo&&(po.u_is_halo=1,us(ln.buffers,no.segments,c,u,ln.program,Me,q,W,po)),po.u_is_halo=0}us(ln.buffers,no.segments,c,u,ln.program,Me,q,W,ln.uniformValues)}}function us(u,h,c,d,w,C,E,S,D){var O=d.context;w.draw(O,O.gl.TRIANGLES,C,E,S,ye.disabled,D,c.id,u.layoutVertexBuffer,u.indexBuffer,h,c.paint,d.transform.zoom,u.programConfigurations.get(c.id),u.dynamicLayoutVertexBuffer,u.opacityVertexBuffer)}function Ws(u,h,c,d,w,C,E){var S,D,O,q,W,J=u.context.gl,ae=c.paint.get("fill-pattern"),Ae=ae&&ae.constantOr(1),pe=c.getCrossfadeParameters();E?(D=Ae&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",S=J.LINES):(D=Ae?"fillPattern":"fill",S=J.TRIANGLES);for(var te=0,he=d;te<he.length;te+=1){var _e=he[te],Ue=h.getTile(_e);if(!Ae||Ue.patternsLoaded()){var Oe=Ue.getBucket(c);if(Oe){var Me=Oe.programConfigurations.get(c.id),Ke=u.useProgram(D,Me);Ae&&(u.context.activeTexture.set(J.TEXTURE0),Ue.imageAtlasTexture.bind(J.LINEAR,J.CLAMP_TO_EDGE),Me.updatePaintBuffers(pe));var et=ae.constantOr(null);if(et&&Ue.imageAtlas){var ut=Ue.imageAtlas,st=ut.patternPositions[et.to.toString()],bt=ut.patternPositions[et.from.toString()];st&&bt&&Me.setConstantPatternPositions(st,bt)}var Pt=u.translatePosMatrix(_e.posMatrix,Ue,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(E){q=Oe.indexBuffer2,W=Oe.segments2;var Vt=[J.drawingBufferWidth,J.drawingBufferHeight];O=D==="fillOutlinePattern"&&Ae?oh(Pt,u,pe,Ue,Vt):Ah(Pt,Vt)}else q=Oe.indexBuffer,W=Oe.segments,O=Ae?ra(Pt,u,pe,Ue):Uo(Pt);Ke.draw(u.context,S,w,u.stencilModeForClipping(_e),C,ye.disabled,O,c.id,Oe.layoutVertexBuffer,q,W,c.paint,u.transform.zoom,Me)}}}}function mu(u,h,c,d,w,C,E){for(var S=u.context,D=S.gl,O=c.paint.get("fill-extrusion-pattern"),q=O.constantOr(1),W=c.getCrossfadeParameters(),J=c.paint.get("fill-extrusion-opacity"),ae=0,Ae=d;ae<Ae.length;ae+=1){var pe=Ae[ae],te=h.getTile(pe),he=te.getBucket(c);if(he){var _e=he.programConfigurations.get(c.id),Ue=u.useProgram(q?"fillExtrusionPattern":"fillExtrusion",_e);q&&(u.context.activeTexture.set(D.TEXTURE0),te.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),_e.updatePaintBuffers(W));var Oe=O.constantOr(null);if(Oe&&te.imageAtlas){var Me=te.imageAtlas,Ke=Me.patternPositions[Oe.to.toString()],et=Me.patternPositions[Oe.from.toString()];Ke&&et&&_e.setConstantPatternPositions(Ke,et)}var ut=u.translatePosMatrix(pe.posMatrix,te,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),st=c.paint.get("fill-extrusion-vertical-gradient"),bt=q?ta(ut,u,st,J,pe,W,te):nh(ut,u,st,J);Ue.draw(S,S.gl.TRIANGLES,w,C,E,ye.backCCW,bt,c.id,he.layoutVertexBuffer,he.indexBuffer,he.segments,c.paint,u.transform.zoom,_e)}}}function Js(u,h,c,d,w,C){var E=u.context,S=E.gl,D=h.fbo;if(D){var O=u.useProgram("hillshade");E.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,D.colorAttachment.get());var q=function(W,J,ae){var Ae=ae.paint.get("hillshade-shadow-color"),pe=ae.paint.get("hillshade-highlight-color"),te=ae.paint.get("hillshade-accent-color"),he=ae.paint.get("hillshade-illumination-direction")*(Math.PI/180);ae.paint.get("hillshade-illumination-anchor")==="viewport"&&(he-=W.transform.angle);var _e,Ue,Oe,Me=!W.options.moving;return{u_matrix:W.transform.calculatePosMatrix(J.tileID.toUnwrapped(),Me),u_image:0,u_latrange:(_e=J.tileID,Ue=Math.pow(2,_e.canonical.z),Oe=_e.canonical.y,[new a.MercatorCoordinate(0,Oe/Ue).toLngLat().lat,new a.MercatorCoordinate(0,(Oe+1)/Ue).toLngLat().lat]),u_light:[ae.paint.get("hillshade-exaggeration"),he],u_shadow:Ae,u_highlight:pe,u_accent:te}}(u,h,c);O.draw(E,S.TRIANGLES,d,w,C,ye.disabled,q,c.id,u.rasterBoundsBuffer,u.quadTriangleIndexBuffer,u.rasterBoundsSegments)}}function Up(u,h,c,d,w,C){var E=u.context,S=E.gl,D=h.dem;if(D&&D.data){var O=D.dim,q=D.stride,W=D.getPixels();if(E.activeTexture.set(S.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),h.demTexture=h.demTexture||u.getTileTexture(q),h.demTexture){var J=h.demTexture;J.update(W,{premultiply:!1}),J.bind(S.NEAREST,S.CLAMP_TO_EDGE)}else h.demTexture=new a.Texture(E,W,S.RGBA,{premultiply:!1}),h.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE);E.activeTexture.set(S.TEXTURE0);var ae=h.fbo;if(!ae){var Ae=new a.Texture(E,{width:O,height:O,data:null},S.RGBA);Ae.bind(S.LINEAR,S.CLAMP_TO_EDGE),(ae=h.fbo=E.createFramebuffer(O,O,!0)).colorAttachment.set(Ae.texture)}E.bindFramebuffer.set(ae.framebuffer),E.viewport.set([0,0,O,O]),u.useProgram("hillshadePrepare").draw(E,S.TRIANGLES,d,w,C,ye.disabled,function(pe,te){var he=te.stride,_e=a.create();return a.ortho(_e,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(_e,_e,[0,-a.EXTENT,0]),{u_matrix:_e,u_image:1,u_dimension:[he,he],u_zoom:pe.overscaledZ,u_unpack:te.getUnpackVector()}}(h.tileID,D),c.id,u.rasterBoundsBuffer,u.quadTriangleIndexBuffer,u.rasterBoundsSegments),h.needsHillshadePrepare=!1}}function Ys(u,h,c,d,w){var C=d.paint.get("raster-fade-duration");if(C>0){var E=a.browser.now(),S=(E-u.timeAdded)/C,D=h?(E-h.timeAdded)/C:-1,O=c.getSource(),q=w.coveringZoomLevel({tileSize:O.tileSize,roundZoom:O.roundZoom}),W=!h||Math.abs(h.tileID.overscaledZ-q)>Math.abs(u.tileID.overscaledZ-q),J=W&&u.refreshedUponExpiration?1:a.clamp(W?S:1-D,0,1);return u.refreshedUponExpiration&&S>=1&&(u.refreshedUponExpiration=!1),h?{opacity:1,mix:1-J}:{opacity:J,mix:0}}return{opacity:1,mix:0}}var yu=new a.Color(1,0,0,1),dh=new a.Color(0,1,0,1),gh=new a.Color(0,0,1,1),$s=new a.Color(1,0,1,1),_u=new a.Color(0,1,1,1);function vu(u,h,c,d){cs(u,0,h+c/2,u.transform.width,c,d)}function wu(u,h,c,d){cs(u,h-c/2,0,c,u.transform.height,d)}function cs(u,h,c,d,w,C){var E=u.context,S=E.gl;S.enable(S.SCISSOR_TEST),S.scissor(h*a.browser.devicePixelRatio,c*a.browser.devicePixelRatio,d*a.browser.devicePixelRatio,w*a.browser.devicePixelRatio),E.clear({color:C}),S.disable(S.SCISSOR_TEST)}function mh(u,h,c){var d=u.context,w=d.gl,C=c.posMatrix,E=u.useProgram("debug"),S=Y.disabled,D=ie.disabled,O=u.colorModeForRenderPass();d.activeTexture.set(w.TEXTURE0),u.emptyTexture.bind(w.LINEAR,w.CLAMP_TO_EDGE),E.draw(d,w.LINE_STRIP,S,D,O,ye.disabled,na(C,a.Color.red),"$debug",u.debugBuffer,u.tileBorderIndexBuffer,u.debugSegments);var q=h.getTileByID(c.key).latestRawTileData,W=Math.floor((q&&q.byteLength||0)/1024),J=h.getTile(c).tileSize,ae=512/Math.min(J,512)*(c.overscaledZ/u.transform.zoom)*.5,Ae=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(Ae+=" => "+c.overscaledZ),function(pe,te){pe.initDebugOverlayCanvas();var he=pe.debugOverlayCanvas,_e=pe.context.gl,Ue=pe.debugOverlayCanvas.getContext("2d");Ue.clearRect(0,0,he.width,he.height),Ue.shadowColor="white",Ue.shadowBlur=2,Ue.lineWidth=1.5,Ue.strokeStyle="white",Ue.textBaseline="top",Ue.font="bold 36px Open Sans, sans-serif",Ue.fillText(te,5,5),Ue.strokeText(te,5,5),pe.debugOverlayTexture.update(he),pe.debugOverlayTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE)}(u,Ae+" "+W+"kb"),E.draw(d,w.TRIANGLES,S,D,ge.alphaBlended,ye.disabled,na(C,a.Color.transparent,ae),"$debug",u.debugBuffer,u.quadTriangleIndexBuffer,u.debugSegments)}var aa={symbol:function(u,h,c,d,w){if(u.renderPass==="translucent"){var C=ie.disabled,E=u.colorModeForRenderPass();c.layout.get("text-variable-anchor")&&function(S,D,O,q,W,J,ae){for(var Ae=D.transform,pe=W==="map",te=J==="map",he=0,_e=S;he<_e.length;he+=1){var Ue=_e[he],Oe=q.getTile(Ue),Me=Oe.getBucket(O);if(Me&&Me.text&&Me.text.segments.get().length){var Ke=a.evaluateSizeForZoom(Me.textSizeData,Ae.zoom),et=ii(Oe,1,D.transform.zoom),ut=Dr(Ue.posMatrix,te,pe,D.transform,et),st=O.layout.get("icon-text-fit")!=="none"&&Me.hasIconData();if(Ke){var bt=Math.pow(2,Ae.zoom-Oe.tileID.overscaledZ);fh(Me,pe,te,ae,a.symbolSize,Ae,ut,Ue.posMatrix,bt,Ke,st)}}}}(d,u,c,h,c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),w),c.paint.get("icon-opacity").constantOr(1)!==0&&oa(u,h,c,d,!1,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),c.layout.get("icon-rotation-alignment"),c.layout.get("icon-pitch-alignment"),c.layout.get("icon-keep-upright"),C,E),c.paint.get("text-opacity").constantOr(1)!==0&&oa(u,h,c,d,!0,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),c.layout.get("text-keep-upright"),C,E),h.map.showCollisionBoxes&&(Ta(u,h,c,d,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),!0),Ta(u,h,c,d,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),!1))}},circle:function(u,h,c,d){if(u.renderPass==="translucent"){var w=c.paint.get("circle-opacity"),C=c.paint.get("circle-stroke-width"),E=c.paint.get("circle-stroke-opacity"),S=c.layout.get("circle-sort-key").constantOr(1)!==void 0;if(w.constantOr(1)!==0||C.constantOr(1)!==0&&E.constantOr(1)!==0){for(var D=u.context,O=D.gl,q=u.depthModeForSublayer(0,Y.ReadOnly),W=ie.disabled,J=u.colorModeForRenderPass(),ae=[],Ae=0;Ae<d.length;Ae++){var pe=d[Ae],te=h.getTile(pe),he=te.getBucket(c);if(he){var _e=he.programConfigurations.get(c.id),Ue={programConfiguration:_e,program:u.useProgram("circle",_e),layoutVertexBuffer:he.layoutVertexBuffer,indexBuffer:he.indexBuffer,uniformValues:gu(u,pe,te,c)};if(S)for(var Oe=0,Me=he.segments.get();Oe<Me.length;Oe+=1){var Ke=Me[Oe];ae.push({segments:new a.SegmentVector([Ke]),sortKey:Ke.sortKey,state:Ue})}else ae.push({segments:he.segments,sortKey:0,state:Ue})}}S&&ae.sort(function(Pt,Vt){return Pt.sortKey-Vt.sortKey});for(var et=0,ut=ae;et<ut.length;et+=1){var st=ut[et],bt=st.state;bt.program.draw(D,O.TRIANGLES,q,W,J,ye.disabled,bt.uniformValues,c.id,bt.layoutVertexBuffer,bt.indexBuffer,st.segments,c.paint,u.transform.zoom,bt.programConfiguration)}}}},heatmap:function(u,h,c,d){if(c.paint.get("heatmap-opacity")!==0)if(u.renderPass==="offscreen"){var w=u.context,C=w.gl,E=ie.disabled,S=new ge([C.ONE,C.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(ae,Ae,pe){var te=ae.gl;ae.activeTexture.set(te.TEXTURE1),ae.viewport.set([0,0,Ae.width/4,Ae.height/4]);var he=pe.heatmapFbo;if(he)te.bindTexture(te.TEXTURE_2D,he.colorAttachment.get()),ae.bindFramebuffer.set(he.framebuffer);else{var _e=te.createTexture();te.bindTexture(te.TEXTURE_2D,_e),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),he=pe.heatmapFbo=ae.createFramebuffer(Ae.width/4,Ae.height/4,!1),function(Ue,Oe,Me,Ke){var et=Ue.gl;et.texImage2D(et.TEXTURE_2D,0,et.RGBA,Oe.width/4,Oe.height/4,0,et.RGBA,Ue.extRenderToTextureHalfFloat?Ue.extTextureHalfFloat.HALF_FLOAT_OES:et.UNSIGNED_BYTE,null),Ke.colorAttachment.set(Me)}(ae,Ae,_e,he)}})(w,u,c),w.clear({color:a.Color.transparent});for(var D=0;D<d.length;D++){var O=d[D];if(!h.hasRenderableParent(O)){var q=h.getTile(O),W=q.getBucket(c);if(W){var J=W.programConfigurations.get(c.id);u.useProgram("heatmap",J).draw(w,C.TRIANGLES,Y.disabled,E,S,ye.disabled,sh(O.posMatrix,q,u.transform.zoom,c.paint.get("heatmap-intensity")),c.id,W.layoutVertexBuffer,W.indexBuffer,W.segments,c.paint,u.transform.zoom,J)}}}w.viewport.set([0,0,u.width,u.height])}else u.renderPass==="translucent"&&(u.context.setColorMode(u.colorModeForRenderPass()),function(ae,Ae){var pe=ae.context,te=pe.gl,he=Ae.heatmapFbo;if(he){pe.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,he.colorAttachment.get()),pe.activeTexture.set(te.TEXTURE1);var _e=Ae.colorRampTexture;_e||(_e=Ae.colorRampTexture=new a.Texture(pe,Ae.colorRamp,te.RGBA)),_e.bind(te.LINEAR,te.CLAMP_TO_EDGE),ae.useProgram("heatmapTexture").draw(pe,te.TRIANGLES,Y.disabled,ie.disabled,ae.colorModeForRenderPass(),ye.disabled,function(Ue,Oe,Me,Ke){var et=a.create();a.ortho(et,0,Ue.width,Ue.height,0,0,1);var ut=Ue.context.gl;return{u_matrix:et,u_world:[ut.drawingBufferWidth,ut.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Oe.paint.get("heatmap-opacity")}}(ae,Ae),Ae.id,ae.viewportBuffer,ae.quadTriangleIndexBuffer,ae.viewportSegments,Ae.paint,ae.transform.zoom)}}(u,c))},line:function(u,h,c,d){if(u.renderPass==="translucent"){var w=c.paint.get("line-opacity"),C=c.paint.get("line-width");if(w.constantOr(1)!==0&&C.constantOr(1)!==0)for(var E=u.depthModeForSublayer(0,Y.ReadOnly),S=u.colorModeForRenderPass(),D=c.paint.get("line-dasharray"),O=c.paint.get("line-pattern"),q=O.constantOr(1),W=c.paint.get("line-gradient"),J=c.getCrossfadeParameters(),ae=q?"linePattern":D?"lineSDF":W?"lineGradient":"line",Ae=u.context,pe=Ae.gl,te=!0,he=0,_e=d;he<_e.length;he+=1){var Ue=_e[he],Oe=h.getTile(Ue);if(!q||Oe.patternsLoaded()){var Me=Oe.getBucket(c);if(Me){var Ke=Me.programConfigurations.get(c.id),et=u.context.program.get(),ut=u.useProgram(ae,Ke),st=te||ut.program!==et,bt=O.constantOr(null);if(bt&&Oe.imageAtlas){var Pt=Oe.imageAtlas,Vt=Pt.patternPositions[bt.to.toString()],Nt=Pt.patternPositions[bt.from.toString()];Vt&&Nt&&Ke.setConstantPatternPositions(Vt,Nt)}var Pr=q?js(u,Oe,c,J):D?Fp(u,Oe,c,D,J):W?fi(u,Oe,c,Me.lineClipsArray.length):as(u,Oe,c);if(q)Ae.activeTexture.set(pe.TEXTURE0),Oe.imageAtlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Ke.updatePaintBuffers(J);else if(D&&(st||u.lineAtlas.dirty))Ae.activeTexture.set(pe.TEXTURE0),u.lineAtlas.bind(Ae);else if(W){var Ct=Me.gradients[c.id],er=Ct.texture;if(c.gradientVersion!==Ct.version){var sr=256;if(c.stepInterpolant){var Jt=h.getSource().maxzoom,Wt=Ue.canonical.z===Jt?Math.ceil(1<<u.transform.maxZoom-Ue.canonical.z):1;sr=a.clamp(a.nextPowerOfTwo(Me.maxLineLength/a.EXTENT*1024*Wt),256,Ae.maxTextureSize)}Ct.gradient=a.renderColorRamp({expression:c.gradientExpression(),evaluationKey:"lineProgress",resolution:sr,image:Ct.gradient||void 0,clips:Me.lineClipsArray}),Ct.texture?Ct.texture.update(Ct.gradient):Ct.texture=new a.Texture(Ae,Ct.gradient,pe.RGBA),Ct.version=c.gradientVersion,er=Ct.texture}Ae.activeTexture.set(pe.TEXTURE0),er.bind(c.stepInterpolant?pe.NEAREST:pe.LINEAR,pe.CLAMP_TO_EDGE)}ut.draw(Ae,pe.TRIANGLES,E,u.stencilModeForClipping(Ue),S,ye.disabled,Pr,c.id,Me.layoutVertexBuffer,Me.indexBuffer,Me.segments,c.paint,u.transform.zoom,Ke,Me.layoutVertexBuffer2),te=!1}}}}},fill:function(u,h,c,d){var w=c.paint.get("fill-color"),C=c.paint.get("fill-opacity");if(C.constantOr(1)!==0){var E=u.colorModeForRenderPass(),S=c.paint.get("fill-pattern"),D=u.opaquePassEnabledForLayer()&&!S.constantOr(1)&&w.constantOr(a.Color.transparent).a===1&&C.constantOr(0)===1?"opaque":"translucent";if(u.renderPass===D){var O=u.depthModeForSublayer(1,u.renderPass==="opaque"?Y.ReadWrite:Y.ReadOnly);Ws(u,h,c,d,O,E,!1)}if(u.renderPass==="translucent"&&c.paint.get("fill-antialias")){var q=u.depthModeForSublayer(c.getPaintProperty("fill-outline-color")?2:0,Y.ReadOnly);Ws(u,h,c,d,q,E,!0)}}},"fill-extrusion":function(u,h,c,d){var w=c.paint.get("fill-extrusion-opacity");if(w!==0&&u.renderPass==="translucent"){var C=new Y(u.context.gl.LEQUAL,Y.ReadWrite,u.depthRangeFor3D);if(w!==1||c.paint.get("fill-extrusion-pattern").constantOr(1))mu(u,h,c,d,C,ie.disabled,ge.disabled),mu(u,h,c,d,C,u.stencilModeFor3D(),u.colorModeForRenderPass());else{var E=u.colorModeForRenderPass();mu(u,h,c,d,C,ie.disabled,E)}}},hillshade:function(u,h,c,d){if(u.renderPass==="offscreen"||u.renderPass==="translucent"){for(var w=u.context,C=u.depthModeForSublayer(0,Y.ReadOnly),E=u.colorModeForRenderPass(),S=u.renderPass==="translucent"?u.stencilConfigForOverlap(d):[{},d],D=S[0],O=0,q=S[1];O<q.length;O+=1){var W=q[O],J=h.getTile(W);J.needsHillshadePrepare&&u.renderPass==="offscreen"?Up(u,J,c,C,ie.disabled,E):u.renderPass==="translucent"&&Js(u,J,c,C,D[W.overscaledZ],E)}w.viewport.set([0,0,u.width,u.height])}},raster:function(u,h,c,d){if(u.renderPass==="translucent"&&c.paint.get("raster-opacity")!==0&&d.length)for(var w=u.context,C=w.gl,E=h.getSource(),S=u.useProgram("raster"),D=u.colorModeForRenderPass(),O=E instanceof jt?[{},d]:u.stencilConfigForOverlap(d),q=O[0],W=O[1],J=W[W.length-1].overscaledZ,ae=!u.options.moving,Ae=0,pe=W;Ae<pe.length;Ae+=1){var te=pe[Ae],he=u.depthModeForSublayer(te.overscaledZ-J,c.paint.get("raster-opacity")===1?Y.ReadWrite:Y.ReadOnly,C.LESS),_e=h.getTile(te),Ue=u.transform.calculatePosMatrix(te.toUnwrapped(),ae);_e.registerFadeDuration(c.paint.get("raster-fade-duration"));var Oe=h.findLoadedParent(te,0),Me=Ys(_e,Oe,h,c,u.transform),Ke=void 0,et=void 0,ut=c.paint.get("raster-resampling")==="nearest"?C.NEAREST:C.LINEAR;w.activeTexture.set(C.TEXTURE0),_e.texture.bind(ut,C.CLAMP_TO_EDGE,C.LINEAR_MIPMAP_NEAREST),w.activeTexture.set(C.TEXTURE1),Oe?(Oe.texture.bind(ut,C.CLAMP_TO_EDGE,C.LINEAR_MIPMAP_NEAREST),Ke=Math.pow(2,Oe.tileID.overscaledZ-_e.tileID.overscaledZ),et=[_e.tileID.canonical.x*Ke%1,_e.tileID.canonical.y*Ke%1]):_e.texture.bind(ut,C.CLAMP_TO_EDGE,C.LINEAR_MIPMAP_NEAREST);var st=Ep(Ue,et||[0,0],Ke||1,Me,c);E instanceof jt?S.draw(w,C.TRIANGLES,he,ie.disabled,D,ye.disabled,st,c.id,E.boundsBuffer,u.quadTriangleIndexBuffer,E.boundsSegments):S.draw(w,C.TRIANGLES,he,q[te.overscaledZ],D,ye.disabled,st,c.id,u.rasterBoundsBuffer,u.quadTriangleIndexBuffer,u.rasterBoundsSegments)}},background:function(u,h,c){var d=c.paint.get("background-color"),w=c.paint.get("background-opacity");if(w!==0){var C=u.context,E=C.gl,S=u.transform,D=S.tileSize,O=c.paint.get("background-pattern");if(!u.isPatternMissing(O)){var q=!O&&d.a===1&&w===1&&u.opaquePassEnabledForLayer()?"opaque":"translucent";if(u.renderPass===q){var W=ie.disabled,J=u.depthModeForSublayer(0,q==="opaque"?Y.ReadWrite:Y.ReadOnly),ae=u.colorModeForRenderPass(),Ae=u.useProgram(O?"backgroundPattern":"background"),pe=S.coveringTiles({tileSize:D});O&&(C.activeTexture.set(E.TEXTURE0),u.imageManager.bind(u.context));for(var te=c.getCrossfadeParameters(),he=0,_e=pe;he<_e.length;he+=1){var Ue=_e[he],Oe=u.transform.calculatePosMatrix(Ue.toUnwrapped()),Me=O?Sa(Oe,w,u,O,{tileID:Ue,tileSize:D},te):ls(Oe,w,d);Ae.draw(C,E.TRIANGLES,J,W,ae,ye.disabled,Me,c.id,u.tileExtentBuffer,u.quadTriangleIndexBuffer,u.tileExtentSegments)}}}}},debug:function(u,h,c){for(var d=0;d<c.length;d++)mh(u,h,c[d])},custom:function(u,h,c){var d=u.context,w=c.implementation;if(u.renderPass==="offscreen"){var C=w.prerender;C&&(u.setCustomLayerDefaults(),d.setColorMode(u.colorModeForRenderPass()),C.call(w,d.gl,u.transform.customLayerMatrix()),d.setDirty(),u.setBaseState())}else if(u.renderPass==="translucent"){u.setCustomLayerDefaults(),d.setColorMode(u.colorModeForRenderPass()),d.setStencilMode(ie.disabled);var E=w.renderingMode==="3d"?new Y(u.context.gl.LEQUAL,Y.ReadWrite,u.depthRangeFor3D):u.depthModeForSublayer(0,Y.ReadOnly);d.setDepthMode(E),w.render(d.gl,u.transform.customLayerMatrix()),d.setDirty(),u.setBaseState(),d.bindFramebuffer.set(null)}}},Bi=function(u,h){this.context=new X(u),this.transform=h,this._tileTextures={},this.setup(),this.numSublayers=oe.maxUnderzooming+oe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new xe,this.gpuTimers={}};Bi.prototype.resize=function(u,h){if(this.width=u*a.browser.devicePixelRatio,this.height=h*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var c=0,d=this.style._order;c<d.length;c+=1)this.style._layers[d[c]].resize()},Bi.prototype.setup=function(){var u=this.context,h=new a.StructArrayLayout2i4;h.emplaceBack(0,0),h.emplaceBack(a.EXTENT,0),h.emplaceBack(0,a.EXTENT),h.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=u.createVertexBuffer(h,Xi.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var c=new a.StructArrayLayout2i4;c.emplaceBack(0,0),c.emplaceBack(a.EXTENT,0),c.emplaceBack(0,a.EXTENT),c.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=u.createVertexBuffer(c,Xi.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var d=new a.StructArrayLayout4i8;d.emplaceBack(0,0,0,0),d.emplaceBack(a.EXTENT,0,a.EXTENT,0),d.emplaceBack(0,a.EXTENT,0,a.EXTENT),d.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=u.createVertexBuffer(d,ot.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var w=new a.StructArrayLayout2i4;w.emplaceBack(0,0),w.emplaceBack(1,0),w.emplaceBack(0,1),w.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(w,Xi.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var C=new a.StructArrayLayout1ui2;C.emplaceBack(0),C.emplaceBack(1),C.emplaceBack(3),C.emplaceBack(2),C.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(C);var E=new a.StructArrayLayout3ui6;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(E),this.emptyTexture=new a.Texture(u,{width:1,height:1,data:new Uint8Array([0,0,0,0])},u.gl.RGBA);var S=this.context.gl;this.stencilClearMode=new ie({func:S.ALWAYS,mask:0},0,255,S.ZERO,S.ZERO,S.ZERO)},Bi.prototype.clearStencil=function(){var u=this.context,h=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var c=a.create();a.ortho(c,0,this.width,this.height,0,0,1),a.scale(c,c,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,h.TRIANGLES,Y.disabled,this.stencilClearMode,ge.disabled,ye.disabled,Aa(c),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Bi.prototype._renderTileClippingMasks=function(u,h){if(this.currentStencilSource!==u.source&&u.isTileClipped()&&h&&h.length){this.currentStencilSource=u.source;var c=this.context,d=c.gl;this.nextStencilID+h.length>256&&this.clearStencil(),c.setColorMode(ge.disabled),c.setDepthMode(Y.disabled);var w=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var C=0,E=h;C<E.length;C+=1){var S=E[C],D=this._tileClippingMaskIDs[S.key]=this.nextStencilID++;w.draw(c,d.TRIANGLES,Y.disabled,new ie({func:d.ALWAYS,mask:0},D,255,d.KEEP,d.KEEP,d.REPLACE),ge.disabled,ye.disabled,Aa(S.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Bi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var u=this.nextStencilID++,h=this.context.gl;return new ie({func:h.NOTEQUAL,mask:255},u,255,h.KEEP,h.KEEP,h.REPLACE)},Bi.prototype.stencilModeForClipping=function(u){var h=this.context.gl;return new ie({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,h.KEEP,h.KEEP,h.REPLACE)},Bi.prototype.stencilConfigForOverlap=function(u){var h,c=this.context.gl,d=u.sort(function(D,O){return O.overscaledZ-D.overscaledZ}),w=d[d.length-1].overscaledZ,C=d[0].overscaledZ-w+1;if(C>1){this.currentStencilSource=void 0,this.nextStencilID+C>256&&this.clearStencil();for(var E={},S=0;S<C;S++)E[S+w]=new ie({func:c.GEQUAL,mask:255},S+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=C,[E,d]}return[(h={},h[w]=ie.disabled,h),d]},Bi.prototype.colorModeForRenderPass=function(){var u=this.context.gl;return this._showOverdrawInspector?new ge([u.CONSTANT_COLOR,u.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ge.unblended:ge.alphaBlended},Bi.prototype.depthModeForSublayer=function(u,h,c){if(!this.opaquePassEnabledForLayer())return Y.disabled;var d=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Y(c||this.context.gl.LEQUAL,h,[d,d])},Bi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Bi.prototype.render=function(u,h){var c=this;this.style=u,this.options=h,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var d=this.style._order,w=this.style.sourceCaches;for(var C in w){var E=w[C];E.used&&E.prepare(this.context)}var S,D,O={},q={},W={};for(var J in w){var ae=w[J];O[J]=ae.getVisibleCoordinates(),q[J]=O[J].slice().reverse(),W[J]=ae.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ae=0;Ae<d.length;Ae++)if(this.style._layers[d[Ae]].is3D()){this.opaquePassCutoff=Ae;break}this.renderPass="offscreen";for(var pe=0,te=d;pe<te.length;pe+=1){var he=this.style._layers[te[pe]];if(he.hasOffscreenPass()&&!he.isHidden(this.transform.zoom)){var _e=q[he.source];(he.type==="custom"||_e.length)&&this.renderLayer(this,w[he.source],he,_e)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=d.length-1;this.currentLayer>=0;this.currentLayer--){var Ue=this.style._layers[d[this.currentLayer]],Oe=w[Ue.source],Me=O[Ue.source];this._renderTileClippingMasks(Ue,Me),this.renderLayer(this,Oe,Ue,Me)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<d.length;this.currentLayer++){var Ke=this.style._layers[d[this.currentLayer]],et=w[Ke.source],ut=(Ke.type==="symbol"?W:q)[Ke.source];this._renderTileClippingMasks(Ke,O[Ke.source]),this.renderLayer(this,et,Ke,ut)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(st){st.source&&!st.isHidden(c.transform.zoom)&&(st.source!==(D&&D.id)&&(D=c.style.sourceCaches[st.source]),(!S||S.getSource().maxzoom<D.getSource().maxzoom)&&(S=D))}),S&&aa.debug(this,S,S.getVisibleCoordinates())),this.options.showPadding&&function(st){var bt=st.transform.padding;vu(st,st.transform.height-(bt.top||0),3,yu),vu(st,bt.bottom||0,3,dh),wu(st,bt.left||0,3,gh),wu(st,st.transform.width-(bt.right||0),3,$s);var Pt=st.transform.centerPoint;(function(Vt,Nt,Pr,Ct){cs(Vt,Nt-1,Pr-10,2,20,Ct),cs(Vt,Nt-10,Pr-1,20,2,Ct)})(st,Pt.x,st.transform.height-Pt.y,_u)}(this),this.context.setDefault()},Bi.prototype.renderLayer=function(u,h,c,d){c.isHidden(this.transform.zoom)||(c.type==="background"||c.type==="custom"||d.length)&&(this.id=c.id,this.gpuTimingStart(c),aa[c.type](u,h,c,d,this.style.placement.variableOffsets),this.gpuTimingEnd())},Bi.prototype.gpuTimingStart=function(u){if(this.options.gpuTiming){var h=this.context.extTimerQuery,c=this.gpuTimers[u.id];c||(c=this.gpuTimers[u.id]={calls:0,cpuTime:0,query:h.createQueryEXT()}),c.calls++,h.beginQueryEXT(h.TIME_ELAPSED_EXT,c.query)}},Bi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var u=this.context.extTimerQuery;u.endQueryEXT(u.TIME_ELAPSED_EXT)}},Bi.prototype.collectGpuTimers=function(){var u=this.gpuTimers;return this.gpuTimers={},u},Bi.prototype.queryGpuTimers=function(u){var h={};for(var c in u){var d=u[c],w=this.context.extTimerQuery,C=w.getQueryObjectEXT(d.query,w.QUERY_RESULT_EXT)/1e6;w.deleteQueryEXT(d.query),h[c]=C}return h},Bi.prototype.translatePosMatrix=function(u,h,c,d,w){if(!c[0]&&!c[1])return u;var C=w?d==="map"?this.transform.angle:0:d==="viewport"?-this.transform.angle:0;if(C){var E=Math.sin(C),S=Math.cos(C);c=[c[0]*S-c[1]*E,c[0]*E+c[1]*S]}var D=[w?c[0]:ii(h,c[0],this.transform.zoom),w?c[1]:ii(h,c[1],this.transform.zoom),0],O=new Float32Array(16);return a.translate(O,u,D),O},Bi.prototype.saveTileTexture=function(u){var h=this._tileTextures[u.size[0]];h?h.push(u):this._tileTextures[u.size[0]]=[u]},Bi.prototype.getTileTexture=function(u){var h=this._tileTextures[u];return h&&h.length>0?h.pop():null},Bi.prototype.isPatternMissing=function(u){if(!u)return!1;if(!u.from||!u.to)return!0;var h=this.imageManager.getPattern(u.from.toString()),c=this.imageManager.getPattern(u.to.toString());return!h||!c},Bi.prototype.useProgram=function(u,h){this.cache=this.cache||{};var c=""+u+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[c]||(this.cache[c]=new rh(this.context,u,Cp[u],h,ch[u],this._showOverdrawInspector)),this.cache[c]},Bi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Bi.prototype.setBaseState=function(){var u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)},Bi.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Bi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var el=function(u,h){this.points=u,this.planes=h};el.fromInvProjectionMatrix=function(u,h,c){var d=Math.pow(2,c),w=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(E){return a.transformMat4([],E,u)}).map(function(E){return a.scale$1([],E,1/E[3]/h*d)}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(E){var S=a.sub([],w[E[0]],w[E[1]]),D=a.sub([],w[E[2]],w[E[1]]),O=a.normalize([],a.cross([],S,D)),q=-a.dot(O,w[E[1]]);return O.concat(q)});return new el(w,C)};var sa=function(u,h){this.min=u,this.max=h,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};sa.prototype.quadrant=function(u){for(var h=[u%2==0,u<2],c=a.clone$2(this.min),d=a.clone$2(this.max),w=0;w<h.length;w++)c[w]=h[w]?this.min[w]:this.center[w],d[w]=h[w]?this.center[w]:this.max[w];return d[2]=this.max[2],new sa(c,d)},sa.prototype.distanceX=function(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]},sa.prototype.distanceY=function(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]},sa.prototype.intersects=function(u){for(var h=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],c=!0,d=0;d<u.planes.length;d++){for(var w=u.planes[d],C=0,E=0;E<h.length;E++)C+=a.dot$1(w,h[E])>=0;if(C===0)return 0;C!==h.length&&(c=!1)}if(c)return 2;for(var S=0;S<3;S++){for(var D=Number.MAX_VALUE,O=-Number.MAX_VALUE,q=0;q<u.points.length;q++){var W=u.points[q][S]-this.min[S];D=Math.min(D,W),O=Math.max(O,W)}if(O<0||D>this.max[S]-this.min[S])return 0}return 1};var Qo=function(u,h,c,d){if(u===void 0&&(u=0),h===void 0&&(h=0),c===void 0&&(c=0),d===void 0&&(d=0),isNaN(u)||u<0||isNaN(h)||h<0||isNaN(c)||c<0||isNaN(d)||d<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=h,this.left=c,this.right=d};Qo.prototype.interpolate=function(u,h,c){return h.top!=null&&u.top!=null&&(this.top=a.number(u.top,h.top,c)),h.bottom!=null&&u.bottom!=null&&(this.bottom=a.number(u.bottom,h.bottom,c)),h.left!=null&&u.left!=null&&(this.left=a.number(u.left,h.left,c)),h.right!=null&&u.right!=null&&(this.right=a.number(u.right,h.right,c)),this},Qo.prototype.getCenter=function(u,h){var c=a.clamp((this.left+u-this.right)/2,0,u),d=a.clamp((this.top+h-this.bottom)/2,0,h);return new a.Point(c,d)},Qo.prototype.equals=function(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right},Qo.prototype.clone=function(){return new Qo(this.top,this.bottom,this.left,this.right)},Qo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ur=function(u,h,c,d,w){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=w===void 0||w,this._minZoom=u||0,this._maxZoom=h||22,this._minPitch=c!=null?c:0,this._maxPitch=d!=null?d:60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Qo,this._posMatrixCache={},this._alignedPosMatrixCache={}},pi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ur.prototype.clone=function(){var u=new Ur(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.tileSize=this.tileSize,u.latRange=this.latRange,u.width=this.width,u.height=this.height,u._center=this._center,u.zoom=this.zoom,u.angle=this.angle,u._fov=this._fov,u._pitch=this._pitch,u._unmodified=this._unmodified,u._edgeInsets=this._edgeInsets.clone(),u._calcMatrices(),u},pi.minZoom.get=function(){return this._minZoom},pi.minZoom.set=function(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))},pi.maxZoom.get=function(){return this._maxZoom},pi.maxZoom.set=function(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))},pi.minPitch.get=function(){return this._minPitch},pi.minPitch.set=function(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))},pi.maxPitch.get=function(){return this._maxPitch},pi.maxPitch.set=function(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))},pi.renderWorldCopies.get=function(){return this._renderWorldCopies},pi.renderWorldCopies.set=function(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u},pi.worldSize.get=function(){return this.tileSize*this.scale},pi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},pi.size.get=function(){return new a.Point(this.width,this.height)},pi.bearing.get=function(){return-this.angle/Math.PI*180},pi.bearing.set=function(u){var h=-a.wrap(u,-180,180)*Math.PI/180;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},pi.pitch.get=function(){return this._pitch/Math.PI*180},pi.pitch.set=function(u){var h=a.clamp(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())},pi.fov.get=function(){return this._fov/Math.PI*180},pi.fov.set=function(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())},pi.zoom.get=function(){return this._zoom},pi.zoom.set=function(u){var h=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.scale=this.zoomScale(h),this.tileZoom=Math.floor(h),this.zoomFraction=h-this.tileZoom,this._constrain(),this._calcMatrices())},pi.center.get=function(){return this._center},pi.center.set=function(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())},pi.padding.get=function(){return this._edgeInsets.toJSON()},pi.padding.set=function(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())},pi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ur.prototype.isPaddingEqual=function(u){return this._edgeInsets.equals(u)},Ur.prototype.interpolatePadding=function(u,h,c){this._unmodified=!1,this._edgeInsets.interpolate(u,h,c),this._constrain(),this._calcMatrices()},Ur.prototype.coveringZoomLevel=function(u){var h=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,h)},Ur.prototype.getVisibleUnwrappedCoordinates=function(u){var h=[new a.UnwrappedTileID(0,u)];if(this._renderWorldCopies)for(var c=this.pointCoordinate(new a.Point(0,0)),d=this.pointCoordinate(new a.Point(this.width,0)),w=this.pointCoordinate(new a.Point(this.width,this.height)),C=this.pointCoordinate(new a.Point(0,this.height)),E=Math.floor(Math.min(c.x,d.x,w.x,C.x)),S=Math.floor(Math.max(c.x,d.x,w.x,C.x)),D=E-1;D<=S+1;D++)D!==0&&h.push(new a.UnwrappedTileID(D,u));return h},Ur.prototype.coveringTiles=function(u){var h=this.coveringZoomLevel(u),c=h;if(u.minzoom!==void 0&&h<u.minzoom)return[];u.maxzoom!==void 0&&h>u.maxzoom&&(h=u.maxzoom);var d=a.MercatorCoordinate.fromLngLat(this.center),w=Math.pow(2,h),C=[w*d.x,w*d.y,0],E=el.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,h),S=u.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(S=h);var D=function(st){return{aabb:new sa([st*w,0,0],[(st+1)*w,w,0]),zoom:0,x:0,y:0,wrap:st,fullyVisible:!1}},O=[],q=[],W=h,J=u.reparseOverscaled?c:h;if(this._renderWorldCopies)for(var ae=1;ae<=3;ae++)O.push(D(-ae)),O.push(D(ae));for(O.push(D(0));O.length>0;){var Ae=O.pop(),pe=Ae.x,te=Ae.y,he=Ae.fullyVisible;if(!he){var _e=Ae.aabb.intersects(E);if(_e===0)continue;he=_e===2}var Ue=Ae.aabb.distanceX(C),Oe=Ae.aabb.distanceY(C),Me=Math.max(Math.abs(Ue),Math.abs(Oe));if(Ae.zoom===W||Me>3+(1<<W-Ae.zoom)-2&&Ae.zoom>=S)q.push({tileID:new a.OverscaledTileID(Ae.zoom===W?J:Ae.zoom,Ae.wrap,Ae.zoom,pe,te),distanceSq:a.sqrLen([C[0]-.5-pe,C[1]-.5-te])});else for(var Ke=0;Ke<4;Ke++){var et=(pe<<1)+Ke%2,ut=(te<<1)+(Ke>>1);O.push({aabb:Ae.aabb.quadrant(Ke),zoom:Ae.zoom+1,x:et,y:ut,wrap:Ae.wrap,fullyVisible:he})}}return q.sort(function(st,bt){return st.distanceSq-bt.distanceSq}).map(function(st){return st.tileID})},Ur.prototype.resize=function(u,h){this.width=u,this.height=h,this.pixelsToGLUnits=[2/u,-2/h],this._constrain(),this._calcMatrices()},pi.unmodified.get=function(){return this._unmodified},Ur.prototype.zoomScale=function(u){return Math.pow(2,u)},Ur.prototype.scaleZoom=function(u){return Math.log(u)/Math.LN2},Ur.prototype.project=function(u){var h=a.clamp(u.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(u.lng)*this.worldSize,a.mercatorYfromLat(h)*this.worldSize)},Ur.prototype.unproject=function(u){return new a.MercatorCoordinate(u.x/this.worldSize,u.y/this.worldSize).toLngLat()},pi.point.get=function(){return this.project(this.center)},Ur.prototype.setLocationAtPoint=function(u,h){var c=this.pointCoordinate(h),d=this.pointCoordinate(this.centerPoint),w=this.locationCoordinate(u),C=new a.MercatorCoordinate(w.x-(c.x-d.x),w.y-(c.y-d.y));this.center=this.coordinateLocation(C),this._renderWorldCopies&&(this.center=this.center.wrap())},Ur.prototype.locationPoint=function(u){return this.coordinatePoint(this.locationCoordinate(u))},Ur.prototype.pointLocation=function(u){return this.coordinateLocation(this.pointCoordinate(u))},Ur.prototype.locationCoordinate=function(u){return a.MercatorCoordinate.fromLngLat(u)},Ur.prototype.coordinateLocation=function(u){return u.toLngLat()},Ur.prototype.pointCoordinate=function(u){var h=[u.x,u.y,0,1],c=[u.x,u.y,1,1];a.transformMat4(h,h,this.pixelMatrixInverse),a.transformMat4(c,c,this.pixelMatrixInverse);var d=h[3],w=c[3],C=h[1]/d,E=c[1]/w,S=h[2]/d,D=c[2]/w,O=S===D?0:(0-S)/(D-S);return new a.MercatorCoordinate(a.number(h[0]/d,c[0]/w,O)/this.worldSize,a.number(C,E,O)/this.worldSize)},Ur.prototype.coordinatePoint=function(u){var h=[u.x*this.worldSize,u.y*this.worldSize,0,1];return a.transformMat4(h,h,this.pixelMatrix),new a.Point(h[0]/h[3],h[1]/h[3])},Ur.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Ur.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ur.prototype.setMaxBounds=function(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ur.prototype.calculatePosMatrix=function(u,h){h===void 0&&(h=!1);var c=u.key,d=h?this._alignedPosMatrixCache:this._posMatrixCache;if(d[c])return d[c];var w=u.canonical,C=this.worldSize/this.zoomScale(w.z),E=w.x+Math.pow(2,w.z)*u.wrap,S=a.identity(new Float64Array(16));return a.translate(S,S,[E*C,w.y*C,0]),a.scale(S,S,[C/a.EXTENT,C/a.EXTENT,1]),a.multiply(S,h?this.alignedProjMatrix:this.projMatrix,S),d[c]=new Float32Array(S),d[c]},Ur.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ur.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var u,h,c,d,w=-90,C=90,E=-180,S=180,D=this.size,O=this._unmodified;if(this.latRange){var q=this.latRange;w=a.mercatorYfromLat(q[1])*this.worldSize,u=(C=a.mercatorYfromLat(q[0])*this.worldSize)-w<D.y?D.y/(C-w):0}if(this.lngRange){var W=this.lngRange;E=a.mercatorXfromLng(W[0])*this.worldSize,h=(S=a.mercatorXfromLng(W[1])*this.worldSize)-E<D.x?D.x/(S-E):0}var J=this.point,ae=Math.max(h||0,u||0);if(ae)return this.center=this.unproject(new a.Point(h?(S+E)/2:J.x,u?(C+w)/2:J.y)),this.zoom+=this.scaleZoom(ae),this._unmodified=O,void(this._constraining=!1);if(this.latRange){var Ae=J.y,pe=D.y/2;Ae-pe<w&&(d=w+pe),Ae+pe>C&&(d=C-pe)}if(this.lngRange){var te=J.x,he=D.x/2;te-he<E&&(c=E+he),te+he>S&&(c=S-he)}c===void 0&&d===void 0||(this.center=this.unproject(new a.Point(c!==void 0?c:J.x,d!==void 0?d:J.y))),this._unmodified=O,this._constraining=!1}},Ur.prototype._calcMatrices=function(){if(this.height){var u=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var h=Math.PI/2+this._pitch,c=this._fov*(.5+u.y/this.height),d=Math.sin(c)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-h-c,.01,Math.PI-.01)),w=this.point,C=w.x,E=w.y,S=1.01*(Math.cos(Math.PI/2-this._pitch)*d+this.cameraToCenterDistance),D=this.height/50,O=new Float64Array(16);a.perspective(O,this._fov,this.width/this.height,D,S),O[8]=2*-u.x/this.width,O[9]=2*u.y/this.height,a.scale(O,O,[1,-1,1]),a.translate(O,O,[0,0,-this.cameraToCenterDistance]),a.rotateX(O,O,this._pitch),a.rotateZ(O,O,this.angle),a.translate(O,O,[-C,-E,0]),this.mercatorMatrix=a.scale([],O,[this.worldSize,this.worldSize,this.worldSize]),a.scale(O,O,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=O,this.invProjMatrix=a.invert([],this.projMatrix);var q=this.width%2/2,W=this.height%2/2,J=Math.cos(this.angle),ae=Math.sin(this.angle),Ae=C-Math.round(C)+J*q+ae*W,pe=E-Math.round(E)+J*W+ae*q,te=new Float64Array(O);if(a.translate(te,te,[Ae>.5?Ae-1:Ae,pe>.5?pe-1:pe,0]),this.alignedProjMatrix=te,O=a.create(),a.scale(O,O,[this.width/2,-this.height/2,1]),a.translate(O,O,[1,-1,0]),this.labelPlaneMatrix=O,O=a.create(),a.scale(O,O,[1,-1,1]),a.translate(O,O,[-1,-1,0]),a.scale(O,O,[2/this.width,2/this.height,1]),this.glCoordMatrix=O,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(O=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=O,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ur.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var u=this.pointCoordinate(new a.Point(0,0)),h=[u.x*this.worldSize,u.y*this.worldSize,0,1];return a.transformMat4(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ur.prototype.getCameraPoint=function(){var u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,u))},Ur.prototype.getCameraQueryGeometry=function(u){var h=this.getCameraPoint();if(u.length===1)return[u[0],h];for(var c=h.x,d=h.y,w=h.x,C=h.y,E=0,S=u;E<S.length;E+=1){var D=S[E];c=Math.min(c,D.x),d=Math.min(d,D.y),w=Math.max(w,D.x),C=Math.max(C,D.y)}return[new a.Point(c,d),new a.Point(w,d),new a.Point(w,C),new a.Point(c,C),new a.Point(c,d)]},Object.defineProperties(Ur.prototype,pi);var wA=function(u){var h,c,d,w;this._hashName=u&&encodeURIComponent(u),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(h=this._updateHashUnthrottled.bind(this),c=!1,d=null,w=function(){d=null,c&&(h(),d=setTimeout(w,300),c=!1)},function(){return c=!0,d||w(),d})};wA.prototype.addTo=function(u){return this._map=u,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},wA.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},wA.prototype.getHashString=function(u){var h=this._map.getCenter(),c=Math.round(100*this._map.getZoom())/100,d=Math.ceil((c*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,d),C=Math.round(h.lng*w)/w,E=Math.round(h.lat*w)/w,S=this._map.getBearing(),D=this._map.getPitch(),O="";if(O+=u?"/"+C+"/"+E+"/"+c:c+"/"+E+"/"+C,(S||D)&&(O+="/"+Math.round(10*S)/10),D&&(O+="/"+Math.round(D)),this._hashName){var q=this._hashName,W=!1,J=a.window.location.hash.slice(1).split("&").map(function(ae){var Ae=ae.split("=")[0];return Ae===q?(W=!0,Ae+"="+O):ae}).filter(function(ae){return ae});return W||J.push(q+"="+O),"#"+J.join("&")}return"#"+O},wA.prototype._getCurrentHash=function(){var u,h=this,c=a.window.location.hash.replace("#","");return this._hashName?(c.split("&").map(function(d){return d.split("=")}).forEach(function(d){d[0]===h._hashName&&(u=d)}),(u&&u[1]||"").split("/")):c.split("/")},wA.prototype._onHashChange=function(){var u=this._getCurrentHash();if(u.length>=3&&!u.some(function(c){return isNaN(c)})){var h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:h,pitch:+(u[4]||0)}),!0}return!1},wA.prototype._updateHashUnthrottled=function(){var u=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,u)}catch{}};var hs={linearity:.3,easing:a.bezier(0,0,.3,1)},ka=a.extend({deceleration:2500,maxSpeed:1400},hs),fs=a.extend({deceleration:20,maxSpeed:1400},hs),Qp=a.extend({deceleration:1e3,maxSpeed:360},hs),Ip=a.extend({deceleration:1e3,maxSpeed:90},hs),ps=function(u){this._map=u,this.clear()};function ds(u,h){(!u.duration||u.duration<h.duration)&&(u.duration=h.duration,u.easing=h.easing)}function co(u,h,c){var d=c.maxSpeed,w=c.linearity,C=c.deceleration,E=a.clamp(u*w/(h/1e3),-d,d),S=Math.abs(E)/(C*w);return{easing:c.easing,duration:1e3*S,amount:E*(S/2)}}ps.prototype.clear=function(){this._inertiaBuffer=[]},ps.prototype.record=function(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:u})},ps.prototype._drainInertiaBuffer=function(){for(var u=this._inertiaBuffer,h=a.browser.now();u.length>0&&h-u[0].time>160;)u.shift()},ps.prototype._onMoveEnd=function(u){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var h={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},c=0,d=this._inertiaBuffer;c<d.length;c+=1){var w=d[c].settings;h.zoom+=w.zoomDelta||0,h.bearing+=w.bearingDelta||0,h.pitch+=w.pitchDelta||0,w.panDelta&&h.pan._add(w.panDelta),w.around&&(h.around=w.around),w.pinchAround&&(h.pinchAround=w.pinchAround)}var C=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,E={};if(h.pan.mag()){var S=co(h.pan.mag(),C,a.extend({},ka,u||{}));E.offset=h.pan.mult(S.amount/h.pan.mag()),E.center=this._map.transform.center,ds(E,S)}if(h.zoom){var D=co(h.zoom,C,fs);E.zoom=this._map.transform.zoom+D.amount,ds(E,D)}if(h.bearing){var O=co(h.bearing,C,Qp);E.bearing=this._map.transform.bearing+a.clamp(O.amount,-179,179),ds(E,O)}if(h.pitch){var q=co(h.pitch,C,Ip);E.pitch=this._map.transform.pitch+q.amount,ds(E,q)}if(E.zoom||E.bearing){var W=h.pinchAround===void 0?h.around:h.pinchAround;E.around=W?this._map.unproject(W):this._map.getCenter()}return this.clear(),a.extend(E,{noMoveStart:!0})}};var en=function(u){function h(d,w,C,E){E===void 0&&(E={});var S=y.mousePos(w.getCanvasContainer(),C),D=w.unproject(S);u.call(this,d,a.extend({point:S,lngLat:D,originalEvent:C},E)),this._defaultPrevented=!1,this.target=w}u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h;var c={defaultPrevented:{configurable:!0}};return h.prototype.preventDefault=function(){this._defaultPrevented=!0},c.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(h.prototype,c),h}(a.Event),gs=function(u){function h(d,w,C){var E=d==="touchend"?C.changedTouches:C.touches,S=y.touchPos(w.getCanvasContainer(),E),D=S.map(function(W){return w.unproject(W)}),O=S.reduce(function(W,J,ae,Ae){return W.add(J.div(Ae.length))},new a.Point(0,0)),q=w.unproject(O);u.call(this,d,{points:S,point:O,lngLats:D,lngLat:q,originalEvent:C}),this._defaultPrevented=!1}u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h;var c={defaultPrevented:{configurable:!0}};return h.prototype.preventDefault=function(){this._defaultPrevented=!0},c.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(h.prototype,c),h}(a.Event),yh=function(u){function h(d,w,C){u.call(this,d,{originalEvent:C}),this._defaultPrevented=!1}u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h;var c={defaultPrevented:{configurable:!0}};return h.prototype.preventDefault=function(){this._defaultPrevented=!0},c.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(h.prototype,c),h}(a.Event),ji=function(u,h){this._map=u,this._clickTolerance=h.clickTolerance};ji.prototype.reset=function(){delete this._mousedownPos},ji.prototype.wheel=function(u){return this._firePreventable(new yh(u.type,this._map,u))},ji.prototype.mousedown=function(u,h){return this._mousedownPos=h,this._firePreventable(new en(u.type,this._map,u))},ji.prototype.mouseup=function(u){this._map.fire(new en(u.type,this._map,u))},ji.prototype.click=function(u,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new en(u.type,this._map,u))},ji.prototype.dblclick=function(u){return this._firePreventable(new en(u.type,this._map,u))},ji.prototype.mouseover=function(u){this._map.fire(new en(u.type,this._map,u))},ji.prototype.mouseout=function(u){this._map.fire(new en(u.type,this._map,u))},ji.prototype.touchstart=function(u){return this._firePreventable(new gs(u.type,this._map,u))},ji.prototype.touchmove=function(u){this._map.fire(new gs(u.type,this._map,u))},ji.prototype.touchend=function(u){this._map.fire(new gs(u.type,this._map,u))},ji.prototype.touchcancel=function(u){this._map.fire(new gs(u.type,this._map,u))},ji.prototype._firePreventable=function(u){if(this._map.fire(u),u.defaultPrevented)return{}},ji.prototype.isEnabled=function(){return!0},ji.prototype.isActive=function(){return!1},ji.prototype.enable=function(){},ji.prototype.disable=function(){};var Ft=function(u){this._map=u};Ft.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ft.prototype.mousemove=function(u){this._map.fire(new en(u.type,this._map,u))},Ft.prototype.mousedown=function(){this._delayContextMenu=!0},Ft.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new en("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ft.prototype.contextmenu=function(u){this._delayContextMenu?this._contextMenuEvent=u:this._map.fire(new en(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()},Ft.prototype.isEnabled=function(){return!0},Ft.prototype.isActive=function(){return!1},Ft.prototype.enable=function(){},Ft.prototype.disable=function(){};var lA=function(u,h){this._map=u,this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=h.clickTolerance||1};function tl(u,h){for(var c={},d=0;d<u.length;d++)c[u[d].identifier]=h[d];return c}lA.prototype.isEnabled=function(){return!!this._enabled},lA.prototype.isActive=function(){return!!this._active},lA.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},lA.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},lA.prototype.mousedown=function(u,h){this.isEnabled()&&u.shiftKey&&u.button===0&&(y.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)},lA.prototype.mousemoveWindow=function(u,h){if(this._active){var c=h;if(!(this._lastPos.equals(c)||!this._box&&c.dist(this._startPos)<this._clickTolerance)){var d=this._startPos;this._lastPos=c,this._box||(this._box=y.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",u));var w=Math.min(d.x,c.x),C=Math.max(d.x,c.x),E=Math.min(d.y,c.y),S=Math.max(d.y,c.y);y.setTransform(this._box,"translate("+w+"px,"+E+"px)"),this._box.style.width=C-w+"px",this._box.style.height=S-E+"px"}}},lA.prototype.mouseupWindow=function(u,h){var c=this;if(this._active&&u.button===0){var d=this._startPos,w=h;if(this.reset(),y.suppressClick(),d.x!==w.x||d.y!==w.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:u})),{cameraAnimation:function(C){return C.fitScreenCoordinates(d,w,c._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",u)}},lA.prototype.keydown=function(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))},lA.prototype.blur=function(){this.reset()},lA.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos},lA.prototype._fireEvent=function(u,h){return this._map.fire(new a.Event(u,{originalEvent:h}))};var La=function(u){this.reset(),this.numTouches=u.numTouches};La.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},La.prototype.touchstart=function(u,h,c){(this.centroid||c.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),c.length===this.numTouches&&(this.centroid=function(d){for(var w=new a.Point(0,0),C=0,E=d;C<E.length;C+=1)w._add(E[C]);return w.div(d.length)}(h),this.touches=tl(c,h)))},La.prototype.touchmove=function(u,h,c){if(!this.aborted&&this.centroid){var d=tl(c,h);for(var w in this.touches){var C=d[w];(!C||C.dist(this.touches[w])>30)&&(this.aborted=!0)}}},La.prototype.touchend=function(u,h,c){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),c.length===0){var d=!this.aborted&&this.centroid;if(this.reset(),d)return d}};var RA=function(u){this.singleTap=new La(u),this.numTaps=u.numTaps,this.reset()};RA.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},RA.prototype.touchstart=function(u,h,c){this.singleTap.touchstart(u,h,c)},RA.prototype.touchmove=function(u,h,c){this.singleTap.touchmove(u,h,c)},RA.prototype.touchend=function(u,h,c){var d=this.singleTap.touchend(u,h,c);if(d){var w=u.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(d)<30;if(w&&C||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=d,this.count===this.numTaps)return this.reset(),d}};var uA=function(){this._zoomIn=new RA({numTouches:1,numTaps:2}),this._zoomOut=new RA({numTouches:2,numTaps:1}),this.reset()};uA.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},uA.prototype.touchstart=function(u,h,c){this._zoomIn.touchstart(u,h,c),this._zoomOut.touchstart(u,h,c)},uA.prototype.touchmove=function(u,h,c){this._zoomIn.touchmove(u,h,c),this._zoomOut.touchmove(u,h,c)},uA.prototype.touchend=function(u,h,c){var d=this,w=this._zoomIn.touchend(u,h,c),C=this._zoomOut.touchend(u,h,c);return w?(this._active=!0,u.preventDefault(),setTimeout(function(){return d.reset()},0),{cameraAnimation:function(E){return E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(w)},{originalEvent:u})}}):C?(this._active=!0,u.preventDefault(),setTimeout(function(){return d.reset()},0),{cameraAnimation:function(E){return E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(C)},{originalEvent:u})}}):void 0},uA.prototype.touchcancel=function(){this.reset()},uA.prototype.enable=function(){this._enabled=!0},uA.prototype.disable=function(){this._enabled=!1,this.reset()},uA.prototype.isEnabled=function(){return this._enabled},uA.prototype.isActive=function(){return this._active};var Bu={0:1,2:2},yt=function(u){this.reset(),this._clickTolerance=u.clickTolerance||1};yt.prototype.blur=function(){this.reset()},yt.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},yt.prototype._correctButton=function(u,h){return!1},yt.prototype._move=function(u,h){return{}},yt.prototype.mousedown=function(u,h){if(!this._lastPoint){var c=y.mouseButton(u);this._correctButton(u,c)&&(this._lastPoint=h,this._eventButton=c)}},yt.prototype.mousemoveWindow=function(u,h){var c=this._lastPoint;if(c){if(u.preventDefault(),function(d,w){var C=Bu[w];return d.buttons===void 0||(d.buttons&C)!==C}(u,this._eventButton))this.reset();else if(this._moved||!(h.dist(c)<this._clickTolerance))return this._moved=!0,this._lastPoint=h,this._move(c,h)}},yt.prototype.mouseupWindow=function(u){this._lastPoint&&y.mouseButton(u)===this._eventButton&&(this._moved&&y.suppressClick(),this.reset())},yt.prototype.enable=function(){this._enabled=!0},yt.prototype.disable=function(){this._enabled=!1,this.reset()},yt.prototype.isEnabled=function(){return this._enabled},yt.prototype.isActive=function(){return this._active};var bu=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.mousedown=function(c,d){u.prototype.mousedown.call(this,c,d),this._lastPoint&&(this._active=!0)},h.prototype._correctButton=function(c,d){return d===0&&!c.ctrlKey},h.prototype._move=function(c,d){return{around:d,panDelta:d.sub(c)}},h}(yt),rl=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype._correctButton=function(c,d){return d===0&&c.ctrlKey||d===2},h.prototype._move=function(c,d){var w=.8*(d.x-c.x);if(w)return this._active=!0,{bearingDelta:w}},h.prototype.contextmenu=function(c){c.preventDefault()},h}(yt),xu=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype._correctButton=function(c,d){return d===0&&c.ctrlKey||d===2},h.prototype._move=function(c,d){var w=-.5*(d.y-c.y);if(w)return this._active=!0,{pitchDelta:w}},h.prototype.contextmenu=function(c){c.preventDefault()},h}(yt),QA=function(u){this._minTouches=1,this._clickTolerance=u.clickTolerance||1,this.reset()};QA.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},QA.prototype.touchstart=function(u,h,c){return this._calculateTransform(u,h,c)},QA.prototype.touchmove=function(u,h,c){if(this._active&&!(c.length<this._minTouches))return u.preventDefault(),this._calculateTransform(u,h,c)},QA.prototype.touchend=function(u,h,c){this._calculateTransform(u,h,c),this._active&&c.length<this._minTouches&&this.reset()},QA.prototype.touchcancel=function(){this.reset()},QA.prototype._calculateTransform=function(u,h,c){c.length>0&&(this._active=!0);var d=tl(c,h),w=new a.Point(0,0),C=new a.Point(0,0),E=0;for(var S in d){var D=d[S],O=this._touches[S];O&&(w._add(D),C._add(D.sub(O)),E++,d[S]=D)}if(this._touches=d,!(E<this._minTouches)&&C.mag()){var q=C.div(E);if(this._sum._add(q),!(this._sum.mag()<this._clickTolerance))return{around:w.div(E),panDelta:q}}},QA.prototype.enable=function(){this._enabled=!0},QA.prototype.disable=function(){this._enabled=!1,this.reset()},QA.prototype.isEnabled=function(){return this._enabled},QA.prototype.isActive=function(){return this._active};var cA=function(){this.reset()};function il(u,h,c){for(var d=0;d<u.length;d++)if(u[d].identifier===c)return h[d]}function nl(u,h){return Math.log(u/h)/Math.LN2}cA.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},cA.prototype._start=function(u){},cA.prototype._move=function(u,h,c){return{}},cA.prototype.touchstart=function(u,h,c){this._firstTwoTouches||c.length<2||(this._firstTwoTouches=[c[0].identifier,c[1].identifier],this._start([h[0],h[1]]))},cA.prototype.touchmove=function(u,h,c){if(this._firstTwoTouches){u.preventDefault();var d=this._firstTwoTouches,w=d[1],C=il(c,h,d[0]),E=il(c,h,w);if(C&&E){var S=this._aroundCenter?null:C.add(E).div(2);return this._move([C,E],S,u)}}},cA.prototype.touchend=function(u,h,c){if(this._firstTwoTouches){var d=this._firstTwoTouches,w=d[1],C=il(c,h,d[0]),E=il(c,h,w);C&&E||(this._active&&y.suppressClick(),this.reset())}},cA.prototype.touchcancel=function(){this.reset()},cA.prototype.enable=function(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"},cA.prototype.disable=function(){this._enabled=!1,this.reset()},cA.prototype.isEnabled=function(){return this._enabled},cA.prototype.isActive=function(){return this._active};var hA=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.reset=function(){u.prototype.reset.call(this),delete this._distance,delete this._startDistance},h.prototype._start=function(c){this._startDistance=this._distance=c[0].dist(c[1])},h.prototype._move=function(c,d){var w=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(nl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:nl(this._distance,w),pinchAround:d}},h}(cA);function ho(u,h){return 180*u.angleWith(h)/Math.PI}var _h=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.reset=function(){u.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},h.prototype._start=function(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])},h.prototype._move=function(c,d){var w=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ho(this._vector,w),pinchAround:d}},h.prototype._isBelowThreshold=function(c){this._minDiameter=Math.min(this._minDiameter,c.mag());var d=25/(Math.PI*this._minDiameter)*360,w=ho(c,this._startVector);return Math.abs(w)<d},h}(cA);function ms(u){return Math.abs(u.y)>Math.abs(u.x)}var Cu=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.reset=function(){u.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},h.prototype._start=function(c){this._lastPoints=c,ms(c[0].sub(c[1]))&&(this._valid=!1)},h.prototype._move=function(c,d,w){var C=c[0].sub(this._lastPoints[0]),E=c[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(C,E,w.timeStamp),this._valid)return this._lastPoints=c,this._active=!0,{pitchDelta:(C.y+E.y)/2*-.5}},h.prototype.gestureBeginsVertically=function(c,d,w){if(this._valid!==void 0)return this._valid;var C=c.mag()>=2,E=d.mag()>=2;if(C||E){if(!C||!E)return this._firstMove===void 0&&(this._firstMove=w),w-this._firstMove<100&&void 0;var S=c.y>0==d.y>0;return ms(c)&&ms(d)&&S}},h}(cA),Fu={panStep:100,bearingStep:15,pitchStep:10},OA=function(){var u=Fu;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1};function BA(u){return u*(2-u)}OA.prototype.blur=function(){this.reset()},OA.prototype.reset=function(){this._active=!1},OA.prototype.keydown=function(u){var h=this;if(!(u.altKey||u.ctrlKey||u.metaKey)){var c=0,d=0,w=0,C=0,E=0;switch(u.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:u.shiftKey?d=-1:(u.preventDefault(),C=-1);break;case 39:u.shiftKey?d=1:(u.preventDefault(),C=1);break;case 38:u.shiftKey?w=1:(u.preventDefault(),E=-1);break;case 40:u.shiftKey?w=-1:(u.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(d=0,w=0),{cameraAnimation:function(S){var D=S.getZoom();S.easeTo({duration:300,easeId:"keyboardHandler",easing:BA,zoom:c?Math.round(D)+c*(u.shiftKey?2:1):D,bearing:S.getBearing()+d*h._bearingStep,pitch:S.getPitch()+w*h._pitchStep,offset:[-C*h._panStep,-E*h._panStep],center:S.getCenter()},{originalEvent:u})}}}},OA.prototype.enable=function(){this._enabled=!0},OA.prototype.disable=function(){this._enabled=!1,this.reset()},OA.prototype.isEnabled=function(){return this._enabled},OA.prototype.isActive=function(){return this._active},OA.prototype.disableRotation=function(){this._rotationDisabled=!0},OA.prototype.enableRotation=function(){this._rotationDisabled=!1};var _r=function(u,h){this._map=u,this._el=u.getCanvasContainer(),this._handler=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,a.bindAll(["_onTimeout"],this)};_r.prototype.setZoomRate=function(u){this._defaultZoomRate=u},_r.prototype.setWheelZoomRate=function(u){this._wheelZoomRate=u},_r.prototype.isEnabled=function(){return!!this._enabled},_r.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},_r.prototype.isZooming=function(){return!!this._zooming},_r.prototype.enable=function(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=u&&u.around==="center")},_r.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_r.prototype.wheel=function(u){if(this.isEnabled()){var h=u.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY,c=a.browser.now(),d=c-(this._lastWheelEventTime||0);this._lastWheelEventTime=c,h!==0&&h%4.000244140625==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":d>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(d*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),u.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=u,this._delta-=h,this._active||this._start(u)),u.preventDefault()}},_r.prototype._onTimeout=function(u){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)},_r.prototype._start=function(u){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var h=y.mousePos(this._el,u);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(h)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},_r.prototype.renderFrame=function(){var u=this;if(this._frameId&&(this._frameId=null,this.isActive())){var h=this._map.transform;if(this._delta!==0){var c=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,d=2/(1+Math.exp(-Math.abs(this._delta*c)));this._delta<0&&d!==0&&(d=1/d);var w=typeof this._targetZoom=="number"?h.zoomScale(this._targetZoom):h.scale;this._targetZoom=Math.min(h.maxZoom,Math.max(h.minZoom,h.scaleZoom(w*d))),this._type==="wheel"&&(this._startZoom=h.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var C,E=typeof this._targetZoom=="number"?this._targetZoom:h.zoom,S=this._startZoom,D=this._easing,O=!1;if(this._type==="wheel"&&S&&D){var q=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),W=D(q);C=a.number(S,E,W),q<1?this._frameId||(this._frameId=!0):O=!0}else C=E,O=!0;return this._active=!0,O&&(this._active=!1,this._finishTimeout=setTimeout(function(){u._zooming=!1,u._handler._triggerRenderFrame(),delete u._targetZoom,delete u._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!O,zoomDelta:C-h.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},_r.prototype._smoothOutEasing=function(u){var h=a.ease;if(this._prevEase){var c=this._prevEase,d=(a.browser.now()-c.start)/c.duration,w=c.easing(d+.01)-c.easing(d),C=.27/Math.sqrt(w*w+1e-4)*.01,E=Math.sqrt(.0729-C*C);h=a.bezier(C,E,.25,1)}return this._prevEase={start:a.browser.now(),duration:u,easing:h},h},_r.prototype.blur=function(){this.reset()},_r.prototype.reset=function(){this._active=!1};var eo=function(u,h){this._clickZoom=u,this._tapZoom=h};eo.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},eo.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},eo.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},eo.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var IA=function(){this.reset()};IA.prototype.reset=function(){this._active=!1},IA.prototype.blur=function(){this.reset()},IA.prototype.dblclick=function(u,h){return u.preventDefault(),{cameraAnimation:function(c){c.easeTo({duration:300,zoom:c.getZoom()+(u.shiftKey?-1:1),around:c.unproject(h)},{originalEvent:u})}}},IA.prototype.enable=function(){this._enabled=!0},IA.prototype.disable=function(){this._enabled=!1,this.reset()},IA.prototype.isEnabled=function(){return this._enabled},IA.prototype.isActive=function(){return this._active};var Ln=function(){this._tap=new RA({numTouches:1,numTaps:1}),this.reset()};Ln.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ln.prototype.touchstart=function(u,h,c){this._swipePoint||(this._tapTime&&u.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?c.length>0&&(this._swipePoint=h[0],this._swipeTouch=c[0].identifier):this._tap.touchstart(u,h,c))},Ln.prototype.touchmove=function(u,h,c){if(this._tapTime){if(this._swipePoint){if(c[0].identifier!==this._swipeTouch)return;var d=h[0],w=d.y-this._swipePoint.y;return this._swipePoint=d,u.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(u,h,c)},Ln.prototype.touchend=function(u,h,c){this._tapTime?this._swipePoint&&c.length===0&&this.reset():this._tap.touchend(u,h,c)&&(this._tapTime=u.timeStamp)},Ln.prototype.touchcancel=function(){this.reset()},Ln.prototype.enable=function(){this._enabled=!0},Ln.prototype.disable=function(){this._enabled=!1,this.reset()},Ln.prototype.isEnabled=function(){return this._enabled},Ln.prototype.isActive=function(){return this._active};var la=function(u,h,c){this._el=u,this._mousePan=h,this._touchPan=c};la.prototype.enable=function(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},la.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},la.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},la.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Io=function(u,h,c){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=h,this._mousePitch=c};Io.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Io.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Io.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Io.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var KA=function(u,h,c,d){this._el=u,this._touchZoom=h,this._touchRotate=c,this._tapDragZoom=d,this._rotationDisabled=!1,this._enabled=!0};KA.prototype.enable=function(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},KA.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},KA.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},KA.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},KA.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},KA.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var jn=function(u){return u.zoom||u.drag||u.pitch||u.rotate},ys=function(u){function h(){u.apply(this,arguments)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h}(a.Event);function Dt(u){return u.panDelta&&u.panDelta.mag()||u.zoomDelta||u.bearingDelta||u.pitchDelta}var Ut=function(u,h){this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ps(u),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h),a.bindAll(["handleEvent","handleWindowEvent"],this);var c=this._el;this._listeners=[[c,"touchstart",{passive:!0}],[c,"touchmove",{passive:!1}],[c,"touchend",void 0],[c,"touchcancel",void 0],[c,"mousedown",void 0],[c,"mousemove",void 0],[c,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[c,"mouseover",void 0],[c,"mouseout",void 0],[c,"dblclick",void 0],[c,"click",void 0],[c,"keydown",{capture:!1}],[c,"keyup",void 0],[c,"wheel",{passive:!1}],[c,"contextmenu",void 0],[a.window,"blur",void 0]];for(var d=0,w=this._listeners;d<w.length;d+=1){var C=w[d],E=C[0];y.addEventListener(E,C[1],E===a.window.document?this.handleWindowEvent:this.handleEvent,C[2])}};Ut.prototype.destroy=function(){for(var u=0,h=this._listeners;u<h.length;u+=1){var c=h[u],d=c[0];y.removeEventListener(d,c[1],d===a.window.document?this.handleWindowEvent:this.handleEvent,c[2])}},Ut.prototype._addDefaultHandlers=function(u){var h=this._map,c=h.getCanvasContainer();this._add("mapEvent",new ji(h,u));var d=h.boxZoom=new lA(h,u);this._add("boxZoom",d);var w=new uA,C=new IA;h.doubleClickZoom=new eo(C,w),this._add("tapZoom",w),this._add("clickZoom",C);var E=new Ln;this._add("tapDragZoom",E);var S=h.touchPitch=new Cu;this._add("touchPitch",S);var D=new rl(u),O=new xu(u);h.dragRotate=new Io(u,D,O),this._add("mouseRotate",D,["mousePitch"]),this._add("mousePitch",O,["mouseRotate"]);var q=new bu(u),W=new QA(u);h.dragPan=new la(c,q,W),this._add("mousePan",q),this._add("touchPan",W,["touchZoom","touchRotate"]);var J=new _h,ae=new hA;h.touchZoomRotate=new KA(c,ae,J,E),this._add("touchRotate",J,["touchPan","touchZoom"]),this._add("touchZoom",ae,["touchPan","touchRotate"]);var Ae=h.scrollZoom=new _r(h,this);this._add("scrollZoom",Ae,["mousePan"]);var pe=h.keyboard=new OA;this._add("keyboard",pe),this._add("blockableMapEvent",new Ft(h));for(var te=0,he=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];te<he.length;te+=1){var _e=he[te];u.interactive&&u[_e]&&h[_e].enable(u[_e])}},Ut.prototype._add=function(u,h,c){this._handlers.push({handlerName:u,handler:h,allowed:c}),this._handlersById[u]=h},Ut.prototype.stop=function(u){if(!this._updatingCamera){for(var h=0,c=this._handlers;h<c.length;h+=1)c[h].handler.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}},Ut.prototype.isActive=function(){for(var u=0,h=this._handlers;u<h.length;u+=1)if(h[u].handler.isActive())return!0;return!1},Ut.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ut.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ut.prototype.isMoving=function(){return Boolean(jn(this._eventsInProgress))||this.isZooming()},Ut.prototype._blockedByActive=function(u,h,c){for(var d in u)if(d!==c&&(!h||h.indexOf(d)<0))return!0;return!1},Ut.prototype.handleWindowEvent=function(u){this.handleEvent(u,u.type+"Window")},Ut.prototype._getMapTouches=function(u){for(var h=[],c=0,d=u;c<d.length;c+=1){var w=d[c];this._el.contains(w.target)&&h.push(w)}return h},Ut.prototype.handleEvent=function(u,h){this._updatingCamera=!0;for(var c=u.type==="renderFrame"?void 0:u,d={needsRenderFrame:!1},w={},C={},E=u.touches?this._getMapTouches(u.touches):void 0,S=E?y.touchPos(this._el,E):y.mousePos(this._el,u),D=0,O=this._handlers;D<O.length;D+=1){var q=O[D],W=q.handlerName,J=q.handler,ae=q.allowed;if(J.isEnabled()){var Ae=void 0;this._blockedByActive(C,ae,W)?J.reset():J[h||u.type]&&(Ae=J[h||u.type](u,S,E),this.mergeHandlerResult(d,w,Ae,W,c),Ae&&Ae.needsRenderFrame&&this._triggerRenderFrame()),(Ae||J.isActive())&&(C[W]=J)}}var pe={};for(var te in this._previousActiveHandlers)C[te]||(pe[te]=c);this._previousActiveHandlers=C,(Object.keys(pe).length||Dt(d))&&(this._changes.push([d,w,pe]),this._triggerRenderFrame()),(Object.keys(C).length||Dt(d))&&this._map._stop(!0),this._updatingCamera=!1;var he=d.cameraAnimation;he&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],he(this._map))},Ut.prototype.mergeHandlerResult=function(u,h,c,d,w){if(c){a.extend(u,c);var C={handlerName:d,originalEvent:c.originalEvent||w};c.zoomDelta!==void 0&&(h.zoom=C),c.panDelta!==void 0&&(h.drag=C),c.pitchDelta!==void 0&&(h.pitch=C),c.bearingDelta!==void 0&&(h.rotate=C)}},Ut.prototype._applyChanges=function(){for(var u={},h={},c={},d=0,w=this._changes;d<w.length;d+=1){var C=w[d],E=C[0],S=C[1],D=C[2];E.panDelta&&(u.panDelta=(u.panDelta||new a.Point(0,0))._add(E.panDelta)),E.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+E.zoomDelta),E.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+E.bearingDelta),E.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+E.pitchDelta),E.around!==void 0&&(u.around=E.around),E.pinchAround!==void 0&&(u.pinchAround=E.pinchAround),E.noInertia&&(u.noInertia=E.noInertia),a.extend(h,S),a.extend(c,D)}this._updateMapTransform(u,h,c),this._changes=[]},Ut.prototype._updateMapTransform=function(u,h,c){var d=this._map,w=d.transform;if(!Dt(u))return this._fireEvents(h,c,!0);var C=u.panDelta,E=u.zoomDelta,S=u.bearingDelta,D=u.pitchDelta,O=u.around,q=u.pinchAround;q!==void 0&&(O=q),d._stop(!0),O=O||d.transform.centerPoint;var W=w.pointLocation(C?O.sub(C):O);S&&(w.bearing+=S),D&&(w.pitch+=D),E&&(w.zoom+=E),w.setLocationAtPoint(W,O),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(h,c,!0)},Ut.prototype._fireEvents=function(u,h,c){var d=this,w=jn(this._eventsInProgress),C=jn(u),E={};for(var S in u)this._eventsInProgress[S]||(E[S+"start"]=u[S].originalEvent),this._eventsInProgress[S]=u[S];for(var D in!w&&C&&this._fireEvent("movestart",C.originalEvent),E)this._fireEvent(D,E[D]);for(var O in C&&this._fireEvent("move",C.originalEvent),u)this._fireEvent(O,u[O].originalEvent);var q,W={};for(var J in this._eventsInProgress){var ae=this._eventsInProgress[J],Ae=ae.handlerName,pe=ae.originalEvent;this._handlersById[Ae].isActive()||(delete this._eventsInProgress[J],W[J+"end"]=q=h[Ae]||pe)}for(var te in W)this._fireEvent(te,W[te]);var he=jn(this._eventsInProgress);if(c&&(w||C)&&!he){this._updatingCamera=!0;var _e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ue=function(Oe){return Oe!==0&&-d._bearingSnap<Oe&&Oe<d._bearingSnap};_e?(Ue(_e.bearing||this._map.getBearing())&&(_e.bearing=0),this._map.easeTo(_e,{originalEvent:q})):(this._map.fire(new a.Event("moveend",{originalEvent:q})),Ue(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Ut.prototype._fireEvent=function(u,h){this._map.fire(new a.Event(u,h?{originalEvent:h}:{}))},Ut.prototype._requestFrame=function(){var u=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(h){delete u._frameId,u.handleEvent(new ys("renderFrame",{timeStamp:h})),u._applyChanges()})},Ut.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Al=function(u){function h(c,d){u.call(this),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=d.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},h.prototype.setCenter=function(c,d){return this.jumpTo({center:c},d)},h.prototype.panBy=function(c,d,w){return c=a.Point.convert(c).mult(-1),this.panTo(this.transform.center,a.extend({offset:c},d),w)},h.prototype.panTo=function(c,d,w){return this.easeTo(a.extend({center:c},d),w)},h.prototype.getZoom=function(){return this.transform.zoom},h.prototype.setZoom=function(c,d){return this.jumpTo({zoom:c},d),this},h.prototype.zoomTo=function(c,d,w){return this.easeTo(a.extend({zoom:c},d),w)},h.prototype.zoomIn=function(c,d){return this.zoomTo(this.getZoom()+1,c,d),this},h.prototype.zoomOut=function(c,d){return this.zoomTo(this.getZoom()-1,c,d),this},h.prototype.getBearing=function(){return this.transform.bearing},h.prototype.setBearing=function(c,d){return this.jumpTo({bearing:c},d),this},h.prototype.getPadding=function(){return this.transform.padding},h.prototype.setPadding=function(c,d){return this.jumpTo({padding:c},d),this},h.prototype.rotateTo=function(c,d,w){return this.easeTo(a.extend({bearing:c},d),w)},h.prototype.resetNorth=function(c,d){return this.rotateTo(0,a.extend({duration:1e3},c),d),this},h.prototype.resetNorthPitch=function(c,d){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},c),d),this},h.prototype.snapToNorth=function(c,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,d):this},h.prototype.getPitch=function(){return this.transform.pitch},h.prototype.setPitch=function(c,d){return this.jumpTo({pitch:c},d),this},h.prototype.cameraForBounds=function(c,d){c=a.LngLatBounds.convert(c);var w=d&&d.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),w,d)},h.prototype._cameraForBoxAndBearing=function(c,d,w,C){var E={top:0,bottom:0,right:0,left:0};if(typeof(C=a.extend({padding:E,offset:[0,0],maxZoom:this.transform.maxZoom},C)).padding=="number"){var S=C.padding;C.padding={top:S,bottom:S,right:S,left:S}}C.padding=a.extend(E,C.padding);var D=this.transform,O=D.padding,q=D.project(a.LngLat.convert(c)),W=D.project(a.LngLat.convert(d)),J=q.rotate(-w*Math.PI/180),ae=W.rotate(-w*Math.PI/180),Ae=new a.Point(Math.max(J.x,ae.x),Math.max(J.y,ae.y)),pe=new a.Point(Math.min(J.x,ae.x),Math.min(J.y,ae.y)),te=Ae.sub(pe),he=(D.width-(O.left+O.right+C.padding.left+C.padding.right))/te.x,_e=(D.height-(O.top+O.bottom+C.padding.top+C.padding.bottom))/te.y;if(!(_e<0||he<0)){var Ue=Math.min(D.scaleZoom(D.scale*Math.min(he,_e)),C.maxZoom),Oe=typeof C.offset.x=="number"?new a.Point(C.offset.x,C.offset.y):a.Point.convert(C.offset),Me=new a.Point((C.padding.left-C.padding.right)/2,(C.padding.top-C.padding.bottom)/2).rotate(w*Math.PI/180),Ke=Oe.add(Me).mult(D.scale/D.zoomScale(Ue));return{center:D.unproject(q.add(W).div(2).sub(Ke)),zoom:Ue,bearing:w}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},h.prototype.fitBounds=function(c,d,w){return this._fitInternal(this.cameraForBounds(c,d),d,w)},h.prototype.fitScreenCoordinates=function(c,d,w,C,E){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(c)),this.transform.pointLocation(a.Point.convert(d)),w,C),C,E)},h.prototype._fitInternal=function(c,d,w){return c?(delete(d=a.extend(c,d)).padding,d.linear?this.easeTo(d,w):this.flyTo(d,w)):this},h.prototype.jumpTo=function(c,d){this.stop();var w=this.transform,C=!1,E=!1,S=!1;return"zoom"in c&&w.zoom!==+c.zoom&&(C=!0,w.zoom=+c.zoom),c.center!==void 0&&(w.center=a.LngLat.convert(c.center)),"bearing"in c&&w.bearing!==+c.bearing&&(E=!0,w.bearing=+c.bearing),"pitch"in c&&w.pitch!==+c.pitch&&(S=!0,w.pitch=+c.pitch),c.padding==null||w.isPaddingEqual(c.padding)||(w.padding=c.padding),this.fire(new a.Event("movestart",d)).fire(new a.Event("move",d)),C&&this.fire(new a.Event("zoomstart",d)).fire(new a.Event("zoom",d)).fire(new a.Event("zoomend",d)),E&&this.fire(new a.Event("rotatestart",d)).fire(new a.Event("rotate",d)).fire(new a.Event("rotateend",d)),S&&this.fire(new a.Event("pitchstart",d)).fire(new a.Event("pitch",d)).fire(new a.Event("pitchend",d)),this.fire(new a.Event("moveend",d))},h.prototype.easeTo=function(c,d){var w=this;this._stop(!1,c.easeId),((c=a.extend({offset:[0,0],duration:500,easing:a.ease},c)).animate===!1||!c.essential&&a.browser.prefersReducedMotion)&&(c.duration=0);var C=this.transform,E=this.getZoom(),S=this.getBearing(),D=this.getPitch(),O=this.getPadding(),q="zoom"in c?+c.zoom:E,W="bearing"in c?this._normalizeBearing(c.bearing,S):S,J="pitch"in c?+c.pitch:D,ae="padding"in c?c.padding:C.padding,Ae=a.Point.convert(c.offset),pe=C.centerPoint.add(Ae),te=C.pointLocation(pe),he=a.LngLat.convert(c.center||te);this._normalizeCenter(he);var _e,Ue,Oe=C.project(te),Me=C.project(he).sub(Oe),Ke=C.zoomScale(q-E);c.around&&(_e=a.LngLat.convert(c.around),Ue=C.locationPoint(_e));var et={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||q!==E,this._rotating=this._rotating||S!==W,this._pitching=this._pitching||J!==D,this._padding=!C.isPaddingEqual(ae),this._easeId=c.easeId,this._prepareEase(d,c.noMoveStart,et),this._ease(function(ut){if(w._zooming&&(C.zoom=a.number(E,q,ut)),w._rotating&&(C.bearing=a.number(S,W,ut)),w._pitching&&(C.pitch=a.number(D,J,ut)),w._padding&&(C.interpolatePadding(O,ae,ut),pe=C.centerPoint.add(Ae)),_e)C.setLocationAtPoint(_e,Ue);else{var st=C.zoomScale(C.zoom-E),bt=q>E?Math.min(2,Ke):Math.max(.5,Ke),Pt=Math.pow(bt,1-ut),Vt=C.unproject(Oe.add(Me.mult(ut*Pt)).mult(st));C.setLocationAtPoint(C.renderWorldCopies?Vt.wrap():Vt,pe)}w._fireMoveEvents(d)},function(ut){w._afterEase(d,ut)},c),this},h.prototype._prepareEase=function(c,d,w){w===void 0&&(w={}),this._moving=!0,d||w.moving||this.fire(new a.Event("movestart",c)),this._zooming&&!w.zooming&&this.fire(new a.Event("zoomstart",c)),this._rotating&&!w.rotating&&this.fire(new a.Event("rotatestart",c)),this._pitching&&!w.pitching&&this.fire(new a.Event("pitchstart",c))},h.prototype._fireMoveEvents=function(c){this.fire(new a.Event("move",c)),this._zooming&&this.fire(new a.Event("zoom",c)),this._rotating&&this.fire(new a.Event("rotate",c)),this._pitching&&this.fire(new a.Event("pitch",c))},h.prototype._afterEase=function(c,d){if(!this._easeId||!d||this._easeId!==d){delete this._easeId;var w=this._zooming,C=this._rotating,E=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,w&&this.fire(new a.Event("zoomend",c)),C&&this.fire(new a.Event("rotateend",c)),E&&this.fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))}},h.prototype.flyTo=function(c,d){var w=this;if(!c.essential&&a.browser.prefersReducedMotion){var C=a.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(C,d)}this.stop(),c=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},c);var E=this.transform,S=this.getZoom(),D=this.getBearing(),O=this.getPitch(),q=this.getPadding(),W="zoom"in c?a.clamp(+c.zoom,E.minZoom,E.maxZoom):S,J="bearing"in c?this._normalizeBearing(c.bearing,D):D,ae="pitch"in c?+c.pitch:O,Ae="padding"in c?c.padding:E.padding,pe=E.zoomScale(W-S),te=a.Point.convert(c.offset),he=E.centerPoint.add(te),_e=E.pointLocation(he),Ue=a.LngLat.convert(c.center||_e);this._normalizeCenter(Ue);var Oe=E.project(_e),Me=E.project(Ue).sub(Oe),Ke=c.curve,et=Math.max(E.width,E.height),ut=et/pe,st=Me.mag();if("minZoom"in c){var bt=a.clamp(Math.min(c.minZoom,S,W),E.minZoom,E.maxZoom),Pt=et/E.zoomScale(bt-S);Ke=Math.sqrt(Pt/st*2)}var Vt=Ke*Ke;function Nt(qt){var Xt=(ut*ut-et*et+(qt?-1:1)*Vt*Vt*st*st)/(2*(qt?ut:et)*Vt*st);return Math.log(Math.sqrt(Xt*Xt+1)-Xt)}function Pr(qt){return(Math.exp(qt)-Math.exp(-qt))/2}function Ct(qt){return(Math.exp(qt)+Math.exp(-qt))/2}var er=Nt(0),sr=function(qt){return Ct(er)/Ct(er+Ke*qt)},Jt=function(qt){return et*((Ct(er)*(Pr(Xt=er+Ke*qt)/Ct(Xt))-Pr(er))/Vt)/st;var Xt},Wt=(Nt(1)-er)/Ke;if(Math.abs(st)<1e-6||!isFinite(Wt)){if(Math.abs(et-ut)<1e-6)return this.easeTo(c,d);var ar=ut<et?-1:1;Wt=Math.abs(Math.log(ut/et))/Ke,Jt=function(){return 0},sr=function(qt){return Math.exp(ar*Ke*qt)}}return c.duration="duration"in c?+c.duration:1e3*Wt/("screenSpeed"in c?+c.screenSpeed/Ke:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=D!==J,this._pitching=ae!==O,this._padding=!E.isPaddingEqual(Ae),this._prepareEase(d,!1),this._ease(function(qt){var Xt=qt*Wt,sn=1/sr(Xt);E.zoom=qt===1?W:S+E.scaleZoom(sn),w._rotating&&(E.bearing=a.number(D,J,qt)),w._pitching&&(E.pitch=a.number(O,ae,qt)),w._padding&&(E.interpolatePadding(q,Ae,qt),he=E.centerPoint.add(te));var Hi=qt===1?Ue:E.unproject(Oe.add(Me.mult(Jt(Xt))).mult(sn));E.setLocationAtPoint(E.renderWorldCopies?Hi.wrap():Hi,he),w._fireMoveEvents(d)},function(){return w._afterEase(d)},c),this},h.prototype.isEasing=function(){return!!this._easeFrameId},h.prototype.stop=function(){return this._stop()},h.prototype._stop=function(c,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var w=this._onEaseEnd;delete this._onEaseEnd,w.call(this,d)}if(!c){var C=this.handlers;C&&C.stop(!1)}return this},h.prototype._ease=function(c,d,w){w.animate===!1||w.duration===0?(c(1),d()):(this._easeStart=a.browser.now(),this._easeOptions=w,this._onEaseFrame=c,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},h.prototype._renderFrameCallback=function(){var c=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},h.prototype._normalizeBearing=function(c,d){c=a.wrap(c,-180,180);var w=Math.abs(c-d);return Math.abs(c-360-d)<w&&(c-=360),Math.abs(c+360-d)<w&&(c+=360),c},h.prototype._normalizeCenter=function(c){var d=this.transform;if(d.renderWorldCopies&&!d.lngRange){var w=c.lng-d.center.lng;c.lng+=w>180?-360:w<-180?360:0}},h}(a.Evented),Zn=function(u){u===void 0&&(u={}),this.options=u,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Zn.prototype.getDefaultPosition=function(){return"bottom-right"},Zn.prototype.onAdd=function(u){var h=this.options&&this.options.compact;return this._map=u,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=y.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),h&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),h===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Zn.prototype.onRemove=function(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Zn.prototype._setElementTitle=function(u,h){var c=this._map._getUIString("AttributionControl."+h);u.title=c,u.setAttribute("aria-label",c)},Zn.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Zn.prototype._updateEditLink=function(){var u=this._editLink;u||(u=this._editLink=this._container.querySelector(".mapbox-improve-map"));var h=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(u){var c=h.reduce(function(d,w,C){return w.value&&(d+=w.key+"="+w.value+(C<h.length-1?"&":"")),d},"?");u.href=a.config.FEEDBACK_URL+"/"+c+(this._map._hash?this._map._hash.getHashString(!0):""),u.rel="noopener nofollow",this._setElementTitle(u,"MapFeedback")}},Zn.prototype._updateData=function(u){!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Zn.prototype._updateAttributions=function(){if(this._map.style){var u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(function(S){return typeof S!="string"?"":S})):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){var h=this._map.style.stylesheet;this.styleOwner=h.owner,this.styleId=h.id}var c=this._map.style.sourceCaches;for(var d in c){var w=c[d];if(w.used){var C=w.getSource();C.attribution&&u.indexOf(C.attribution)<0&&u.push(C.attribution)}}u.sort(function(S,D){return S.length-D.length});var E=(u=u.filter(function(S,D){for(var O=D+1;O<u.length;O++)if(u[O].indexOf(S)>=0)return!1;return!0})).join(" | ");E!==this._attribHTML&&(this._attribHTML=E,u.length?(this._innerContainer.innerHTML=E,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Zn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var NA=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};NA.prototype.onAdd=function(u){this._map=u,this._container=y.create("div","mapboxgl-ctrl");var h=y.create("a","mapboxgl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://www.mapbox.com/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},NA.prototype.onRemove=function(){y.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},NA.prototype.getDefaultPosition=function(){return"bottom-left"},NA.prototype._updateLogo=function(u){u&&u.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},NA.prototype._logoRequired=function(){if(this._map.style){var u=this._map.style.sourceCaches;for(var h in u)if(u[h].getSource().mapbox_logo)return!0;return!1}},NA.prototype._updateCompact=function(){var u=this._container.children;if(u.length){var h=u[0];this._map.getCanvasContainer().offsetWidth<250?h.classList.add("mapboxgl-compact"):h.classList.remove("mapboxgl-compact")}};var Mn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Mn.prototype.add=function(u){var h=++this._id;return this._queue.push({callback:u,id:h,cancelled:!1}),h},Mn.prototype.remove=function(u){for(var h=this._currentlyRunning,c=0,d=h?this._queue.concat(h):this._queue;c<d.length;c+=1){var w=d[c];if(w.id===u)return void(w.cancelled=!0)}},Mn.prototype.run=function(u){u===void 0&&(u=0);var h=this._currentlyRunning=this._queue;this._queue=[];for(var c=0,d=h;c<d.length;c+=1){var w=d[c];if(!w.cancelled&&(w.callback(u),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Mn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var to={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Eu=a.window.HTMLImageElement,ol=a.window.HTMLElement,Jr=a.window.ImageBitmap,yn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},vh=function(u){function h(d){var w=this;if((d=a.extend({},yn,d)).minZoom!=null&&d.maxZoom!=null&&d.minZoom>d.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(d.minPitch!=null&&d.maxPitch!=null&&d.minPitch>d.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(d.minPitch!=null&&d.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(d.maxPitch!=null&&d.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var C=new Ur(d.minZoom,d.maxZoom,d.minPitch,d.maxPitch,d.renderWorldCopies);if(u.call(this,C,d),this._interactive=d.interactive,this._maxTileCacheSize=d.maxTileCacheSize,this._failIfMajorPerformanceCaveat=d.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=d.preserveDrawingBuffer,this._antialias=d.antialias,this._trackResize=d.trackResize,this._bearingSnap=d.bearingSnap,this._refreshExpiredTiles=d.refreshExpiredTiles,this._fadeDuration=d.fadeDuration,this._crossSourceCollisions=d.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=d.collectResourceTiming,this._renderTaskQueue=new Mn,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},to,d.locale),this._clickTolerance=d.clickTolerance,this._requestManager=new a.RequestManager(d.transformRequest,d.accessToken),typeof d.container=="string"){if(this._container=a.window.document.getElementById(d.container),!this._container)throw new Error("Container '"+d.container+"' not found.")}else{if(!(d.container instanceof ol))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=d.container}if(d.maxBounds&&this.setMaxBounds(d.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return w._update(!1)}),this.on("moveend",function(){return w._update(!1)}),this.on("zoom",function(){return w._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Ut(this,d),this._hash=d.hash&&new wA(typeof d.hash=="string"&&d.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:d.center,zoom:d.zoom,bearing:d.bearing,pitch:d.pitch}),d.bounds&&(this.resize(),this.fitBounds(d.bounds,a.extend({},d.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=d.localIdeographFontFamily,d.style&&this.setStyle(d.style,{localIdeographFontFamily:d.localIdeographFontFamily}),d.attributionControl&&this.addControl(new Zn({customAttribution:d.customAttribution})),this.addControl(new NA,d.logoPosition),this.on("style.load",function(){w.transform.unmodified&&w.jumpTo(w.style.stylesheet)}),this.on("data",function(E){w._update(E.dataType==="style"),w.fire(new a.Event(E.dataType+"data",E))}),this.on("dataloading",function(E){w.fire(new a.Event(E.dataType+"dataloading",E))})}u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h;var c={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return h.prototype._getMapId=function(){return this._mapId},h.prototype.addControl=function(d,w){if(w===void 0&&(w=d.getDefaultPosition?d.getDefaultPosition():"top-right"),!d||!d.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var C=d.onAdd(this);this._controls.push(d);var E=this._controlPositions[w];return w.indexOf("bottom")!==-1?E.insertBefore(C,E.firstChild):E.appendChild(C),this},h.prototype.removeControl=function(d){if(!d||!d.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var w=this._controls.indexOf(d);return w>-1&&this._controls.splice(w,1),d.onRemove(this),this},h.prototype.hasControl=function(d){return this._controls.indexOf(d)>-1},h.prototype.resize=function(d){var w=this._containerDimensions(),C=w[0],E=w[1];if(C===this.transform.width&&E===this.transform.height)return this;this._resizeCanvas(C,E),this.transform.resize(C,E),this.painter.resize(C,E);var S=!this._moving;return S&&this.fire(new a.Event("movestart",d)).fire(new a.Event("move",d)),this.fire(new a.Event("resize",d)),S&&this.fire(new a.Event("moveend",d)),this},h.prototype.getBounds=function(){return this.transform.getBounds()},h.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},h.prototype.setMaxBounds=function(d){return this.transform.setMaxBounds(a.LngLatBounds.convert(d)),this._update()},h.prototype.setMinZoom=function(d){if((d=d!=null?d:-2)>=-2&&d<=this.transform.maxZoom)return this.transform.minZoom=d,this._update(),this.getZoom()<d&&this.setZoom(d),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},h.prototype.getMinZoom=function(){return this.transform.minZoom},h.prototype.setMaxZoom=function(d){if((d=d!=null?d:22)>=this.transform.minZoom)return this.transform.maxZoom=d,this._update(),this.getZoom()>d&&this.setZoom(d),this;throw new Error("maxZoom must be greater than the current minZoom")},h.prototype.getMaxZoom=function(){return this.transform.maxZoom},h.prototype.setMinPitch=function(d){if((d=d!=null?d:0)<0)throw new Error("minPitch must be greater than or equal to 0");if(d>=0&&d<=this.transform.maxPitch)return this.transform.minPitch=d,this._update(),this.getPitch()<d&&this.setPitch(d),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},h.prototype.getMinPitch=function(){return this.transform.minPitch},h.prototype.setMaxPitch=function(d){if((d=d!=null?d:60)>60)throw new Error("maxPitch must be less than or equal to 60");if(d>=this.transform.minPitch)return this.transform.maxPitch=d,this._update(),this.getPitch()>d&&this.setPitch(d),this;throw new Error("maxPitch must be greater than the current minPitch")},h.prototype.getMaxPitch=function(){return this.transform.maxPitch},h.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},h.prototype.setRenderWorldCopies=function(d){return this.transform.renderWorldCopies=d,this._update()},h.prototype.project=function(d){return this.transform.locationPoint(a.LngLat.convert(d))},h.prototype.unproject=function(d){return this.transform.pointLocation(a.Point.convert(d))},h.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},h.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},h.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},h.prototype._createDelegatedListener=function(d,w,C){var E,S=this;if(d==="mouseenter"||d==="mouseover"){var D=!1;return{layer:w,listener:C,delegates:{mousemove:function(q){var W=S.getLayer(w)?S.queryRenderedFeatures(q.point,{layers:[w]}):[];W.length?D||(D=!0,C.call(S,new en(d,S,q.originalEvent,{features:W}))):D=!1},mouseout:function(){D=!1}}}}if(d==="mouseleave"||d==="mouseout"){var O=!1;return{layer:w,listener:C,delegates:{mousemove:function(q){(S.getLayer(w)?S.queryRenderedFeatures(q.point,{layers:[w]}):[]).length?O=!0:O&&(O=!1,C.call(S,new en(d,S,q.originalEvent)))},mouseout:function(q){O&&(O=!1,C.call(S,new en(d,S,q.originalEvent)))}}}}return{layer:w,listener:C,delegates:(E={},E[d]=function(q){var W=S.getLayer(w)?S.queryRenderedFeatures(q.point,{layers:[w]}):[];W.length&&(q.features=W,C.call(S,q),delete q.features)},E)}},h.prototype.on=function(d,w,C){if(C===void 0)return u.prototype.on.call(this,d,w);var E=this._createDelegatedListener(d,w,C);for(var S in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[d]=this._delegatedListeners[d]||[],this._delegatedListeners[d].push(E),E.delegates)this.on(S,E.delegates[S]);return this},h.prototype.once=function(d,w,C){if(C===void 0)return u.prototype.once.call(this,d,w);var E=this._createDelegatedListener(d,w,C);for(var S in E.delegates)this.once(S,E.delegates[S]);return this},h.prototype.off=function(d,w,C){var E=this;return C===void 0?u.prototype.off.call(this,d,w):(this._delegatedListeners&&this._delegatedListeners[d]&&function(S){for(var D=S[d],O=0;O<D.length;O++){var q=D[O];if(q.layer===w&&q.listener===C){for(var W in q.delegates)E.off(W,q.delegates[W]);return D.splice(O,1),E}}}(this._delegatedListeners),this)},h.prototype.queryRenderedFeatures=function(d,w){if(!this.style)return[];var C;if(w!==void 0||d===void 0||d instanceof a.Point||Array.isArray(d)||(w=d,d=void 0),w=w||{},(d=d||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof d[0]=="number")C=[a.Point.convert(d)];else{var E=a.Point.convert(d[0]),S=a.Point.convert(d[1]);C=[E,new a.Point(S.x,E.y),S,new a.Point(E.x,S.y),E]}return this.style.queryRenderedFeatures(C,w,this.transform)},h.prototype.querySourceFeatures=function(d,w){return this.style.querySourceFeatures(d,w)},h.prototype.setStyle=function(d,w){return(w=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},w)).diff!==!1&&w.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&d?(this._diffStyle(d,w),this):(this._localIdeographFontFamily=w.localIdeographFontFamily,this._updateStyle(d,w))},h.prototype._getUIString=function(d){var w=this._locale[d];if(w==null)throw new Error("Missing UI string '"+d+"'");return w},h.prototype._updateStyle=function(d,w){return this.style&&(this.style.setEventedParent(null),this.style._remove()),d?(this.style=new sA(this,w||{}),this.style.setEventedParent(this,{style:this.style}),typeof d=="string"?this.style.loadURL(d):this.style.loadJSON(d),this):(delete this.style,this)},h.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new sA(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},h.prototype._diffStyle=function(d,w){var C=this;if(typeof d=="string"){var E=this._requestManager.normalizeStyleURL(d),S=this._requestManager.transformRequest(E,a.ResourceType.Style);a.getJSON(S,function(D,O){D?C.fire(new a.ErrorEvent(D)):O&&C._updateDiff(O,w)})}else typeof d=="object"&&this._updateDiff(d,w)},h.prototype._updateDiff=function(d,w){try{this.style.setState(d)&&this._update(!0)}catch(C){a.warnOnce("Unable to perform style diff: "+(C.message||C.error||C)+".  Rebuilding the style from scratch."),this._updateStyle(d,w)}},h.prototype.getStyle=function(){if(this.style)return this.style.serialize()},h.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},h.prototype.addSource=function(d,w){return this._lazyInitEmptyStyle(),this.style.addSource(d,w),this._update(!0)},h.prototype.isSourceLoaded=function(d){var w=this.style&&this.style.sourceCaches[d];if(w!==void 0)return w.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+d+"'")))},h.prototype.areTilesLoaded=function(){var d=this.style&&this.style.sourceCaches;for(var w in d){var C=d[w]._tiles;for(var E in C){var S=C[E];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0},h.prototype.addSourceType=function(d,w,C){return this._lazyInitEmptyStyle(),this.style.addSourceType(d,w,C)},h.prototype.removeSource=function(d){return this.style.removeSource(d),this._update(!0)},h.prototype.getSource=function(d){return this.style.getSource(d)},h.prototype.addImage=function(d,w,C){C===void 0&&(C={});var E=C.pixelRatio;E===void 0&&(E=1);var S=C.sdf;S===void 0&&(S=!1);var D=C.stretchX,O=C.stretchY,q=C.content;if(this._lazyInitEmptyStyle(),w instanceof Eu||Jr&&w instanceof Jr){var W=a.browser.getImageData(w);this.style.addImage(d,{data:new a.RGBAImage({width:W.width,height:W.height},W.data),pixelRatio:E,stretchX:D,stretchY:O,content:q,sdf:S,version:0})}else{if(w.width===void 0||w.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var J=w;this.style.addImage(d,{data:new a.RGBAImage({width:w.width,height:w.height},new Uint8Array(w.data)),pixelRatio:E,stretchX:D,stretchY:O,content:q,sdf:S,version:0,userImage:J}),J.onAdd&&J.onAdd(this,d)}},h.prototype.updateImage=function(d,w){var C=this.style.getImage(d);if(!C)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var E=w instanceof Eu||Jr&&w instanceof Jr?a.browser.getImageData(w):w,S=E.width,D=E.height,O=E.data;return S===void 0||D===void 0?this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):S!==C.data.width||D!==C.data.height?this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(C.data.replace(O,!(w instanceof Eu||Jr&&w instanceof Jr)),void this.style.updateImage(d,C))},h.prototype.hasImage=function(d){return d?!!this.style.getImage(d):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},h.prototype.removeImage=function(d){this.style.removeImage(d)},h.prototype.loadImage=function(d,w){a.getImage(this._requestManager.transformRequest(d,a.ResourceType.Image),w)},h.prototype.listImages=function(){return this.style.listImages()},h.prototype.addLayer=function(d,w){return this._lazyInitEmptyStyle(),this.style.addLayer(d,w),this._update(!0)},h.prototype.moveLayer=function(d,w){return this.style.moveLayer(d,w),this._update(!0)},h.prototype.removeLayer=function(d){return this.style.removeLayer(d),this._update(!0)},h.prototype.getLayer=function(d){return this.style.getLayer(d)},h.prototype.setLayerZoomRange=function(d,w,C){return this.style.setLayerZoomRange(d,w,C),this._update(!0)},h.prototype.setFilter=function(d,w,C){return C===void 0&&(C={}),this.style.setFilter(d,w,C),this._update(!0)},h.prototype.getFilter=function(d){return this.style.getFilter(d)},h.prototype.setPaintProperty=function(d,w,C,E){return E===void 0&&(E={}),this.style.setPaintProperty(d,w,C,E),this._update(!0)},h.prototype.getPaintProperty=function(d,w){return this.style.getPaintProperty(d,w)},h.prototype.setLayoutProperty=function(d,w,C,E){return E===void 0&&(E={}),this.style.setLayoutProperty(d,w,C,E),this._update(!0)},h.prototype.getLayoutProperty=function(d,w){return this.style.getLayoutProperty(d,w)},h.prototype.setLight=function(d,w){return w===void 0&&(w={}),this._lazyInitEmptyStyle(),this.style.setLight(d,w),this._update(!0)},h.prototype.getLight=function(){return this.style.getLight()},h.prototype.setFeatureState=function(d,w){return this.style.setFeatureState(d,w),this._update()},h.prototype.removeFeatureState=function(d,w){return this.style.removeFeatureState(d,w),this._update()},h.prototype.getFeatureState=function(d){return this.style.getFeatureState(d)},h.prototype.getContainer=function(){return this._container},h.prototype.getCanvasContainer=function(){return this._canvasContainer},h.prototype.getCanvas=function(){return this._canvas},h.prototype._containerDimensions=function(){var d=0,w=0;return this._container&&(d=this._container.clientWidth||400,w=this._container.clientHeight||300),[d,w]},h.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},h.prototype._setupContainer=function(){var d=this._container;d.classList.add("mapboxgl-map"),(this._missingCSSCanary=y.create("div","mapboxgl-canary",d)).style.visibility="hidden",this._detectMissingCSS();var w=this._canvasContainer=y.create("div","mapboxgl-canvas-container",d);this._interactive&&w.classList.add("mapboxgl-interactive"),this._canvas=y.create("canvas","mapboxgl-canvas",w),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var C=this._containerDimensions();this._resizeCanvas(C[0],C[1]);var E=this._controlContainer=y.create("div","mapboxgl-control-container",d),S=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(D){S[D]=y.create("div","mapboxgl-ctrl-"+D,E)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},h.prototype._resizeCanvas=function(d,w){var C=a.browser.devicePixelRatio||1;this._canvas.width=C*d,this._canvas.height=C*w,this._canvas.style.width=d+"px",this._canvas.style.height=w+"px"},h.prototype._setupPainter=function(){var d=a.extend({},_.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),w=this._canvas.getContext("webgl",d)||this._canvas.getContext("experimental-webgl",d);w?(this.painter=new Bi(w,this.transform),a.webpSupported.testSupport(w)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},h.prototype._contextLost=function(d){d.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:d}))},h.prototype._contextRestored=function(d){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:d}))},h.prototype._onMapScroll=function(d){if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},h.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},h.prototype._update=function(d){return this.style?(this._styleDirty=this._styleDirty||d,this._sourcesDirty=!0,this.triggerRepaint(),this):this},h.prototype._requestRenderFrame=function(d){return this._update(),this._renderTaskQueue.add(d)},h.prototype._cancelRenderFrame=function(d){this._renderTaskQueue.remove(d)},h.prototype._render=function(d){var w,C=this,E=0,S=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(w=S.createQueryEXT(),S.beginQueryEXT(S.TIME_ELAPSED_EXT,w),E=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(d),!this._removed){var D=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var O=this.transform.zoom,q=a.browser.now();this.style.zoomHistory.update(O,q);var W=new a.EvaluationParameters(O,{now:q,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),J=W.crossFadingFactor();J===1&&J===this._crossFadingFactor||(D=!0,this._crossFadingFactor=J),this.style.update(W)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||D)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var ae=a.browser.now()-E;S.endQueryEXT(S.TIME_ELAPSED_EXT,w),setTimeout(function(){var te=S.getQueryObjectEXT(w,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(w),C.fire(new a.Event("gpu-timing-frame",{cpuTime:ae,gpuTime:te}))},50)}if(this.listens("gpu-timing-layer")){var Ae=this.painter.collectGpuTimers();setTimeout(function(){var te=C.painter.queryGpuTimers(Ae);C.fire(new a.Event("gpu-timing-layer",{layerTimes:te}))},50)}var pe=this._sourcesDirty||this._styleDirty||this._placementDirty;return pe||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||pe||(this._fullyLoaded=!0),this}},h.prototype.remove=function(){this._hash&&this._hash.remove();for(var d=0,w=this._controls;d<w.length;d+=1)w[d].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var C=this.painter.context.gl.getExtension("WEBGL_lose_context");C&&C.loseContext(),ua(this._canvasContainer),ua(this._controlContainer),ua(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},h.prototype.triggerRepaint=function(){var d=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(w){d._frame=null,d._render(w)}))},h.prototype._onWindowOnline=function(){this._update()},h.prototype._onWindowResize=function(d){this._trackResize&&this.resize({originalEvent:d})._update()},c.showTileBoundaries.get=function(){return!!this._showTileBoundaries},c.showTileBoundaries.set=function(d){this._showTileBoundaries!==d&&(this._showTileBoundaries=d,this._update())},c.showPadding.get=function(){return!!this._showPadding},c.showPadding.set=function(d){this._showPadding!==d&&(this._showPadding=d,this._update())},c.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},c.showCollisionBoxes.set=function(d){this._showCollisionBoxes!==d&&(this._showCollisionBoxes=d,d?this.style._generateCollisionBoxes():this._update())},c.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},c.showOverdrawInspector.set=function(d){this._showOverdrawInspector!==d&&(this._showOverdrawInspector=d,this._update())},c.repaint.get=function(){return!!this._repaint},c.repaint.set=function(d){this._repaint!==d&&(this._repaint=d,this.triggerRepaint())},c.vertices.get=function(){return!!this._vertices},c.vertices.set=function(d){this._vertices=d,this._update()},h.prototype._setCacheLimits=function(d,w){a.setCacheLimits(d,w)},c.version.get=function(){return a.version},Object.defineProperties(h.prototype,c),h}(Al);function ua(u){u.parentNode&&u.parentNode.removeChild(u)}var Uu={showCompass:!0,showZoom:!0,visualizePitch:!1},fo=function(u){var h=this;this.options=a.extend({},Uu,u),this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(c){return c.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(c){return h._map.zoomIn({},{originalEvent:c})}),y.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(c){return h._map.zoomOut({},{originalEvent:c})}),y.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(c){h.options.visualizePitch?h._map.resetNorthPitch({},{originalEvent:c}):h._map.resetNorth({},{originalEvent:c})}),this._compassIcon=y.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};fo.prototype._updateZoomButtons=function(){var u=this._map.getZoom(),h=u===this._map.getMaxZoom(),c=u===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=c,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",c.toString())},fo.prototype._rotateCompassArrow=function(){var u=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=u},fo.prototype.onAdd=function(u){return this._map=u,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fA(this._map,this._compass,this.options.visualizePitch)),this._container},fo.prototype.onRemove=function(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},fo.prototype._createButton=function(u,h){var c=y.create("button",u,this._container);return c.type="button",c.addEventListener("click",h),c},fo.prototype._setButtonTitle=function(u,h){var c=this._map._getUIString("NavigationControl."+h);u.title=c,u.setAttribute("aria-label",c)};var fA=function(u,h,c){c===void 0&&(c=!1),this._clickTolerance=10,this.element=h,this.mouseRotate=new rl({clickTolerance:u.dragRotate._mouseRotate._clickTolerance}),this.map=u,c&&(this.mousePitch=new xu({clickTolerance:u.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),y.addEventListener(h,"mousedown",this.mousedown),y.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(h,"touchmove",this.touchmove),y.addEventListener(h,"touchend",this.touchend),y.addEventListener(h,"touchcancel",this.reset)};function Ma(u,h,c){if(u=new a.LngLat(u.lng,u.lat),h){var d=new a.LngLat(u.lng-360,u.lat),w=new a.LngLat(u.lng+360,u.lat),C=c.locationPoint(u).distSqr(h);c.locationPoint(d).distSqr(h)<C?u=d:c.locationPoint(w).distSqr(h)<C&&(u=w)}for(;Math.abs(u.lng-c.center.lng)>180;){var E=c.locationPoint(u);if(E.x>=0&&E.y>=0&&E.x<=c.width&&E.y<=c.height)break;u.lng>c.center.lng?u.lng-=360:u.lng+=360}return u}fA.prototype.down=function(u,h){this.mouseRotate.mousedown(u,h),this.mousePitch&&this.mousePitch.mousedown(u,h),y.disableDrag()},fA.prototype.move=function(u,h){var c=this.map,d=this.mouseRotate.mousemoveWindow(u,h);if(d&&d.bearingDelta&&c.setBearing(c.getBearing()+d.bearingDelta),this.mousePitch){var w=this.mousePitch.mousemoveWindow(u,h);w&&w.pitchDelta&&c.setPitch(c.getPitch()+w.pitchDelta)}},fA.prototype.off=function(){var u=this.element;y.removeEventListener(u,"mousedown",this.mousedown),y.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(u,"touchmove",this.touchmove),y.removeEventListener(u,"touchend",this.touchend),y.removeEventListener(u,"touchcancel",this.reset),this.offTemp()},fA.prototype.offTemp=function(){y.enableDrag(),y.removeEventListener(a.window,"mousemove",this.mousemove),y.removeEventListener(a.window,"mouseup",this.mouseup)},fA.prototype.mousedown=function(u){this.down(a.extend({},u,{ctrlKey:!0,preventDefault:function(){return u.preventDefault()}}),y.mousePos(this.element,u)),y.addEventListener(a.window,"mousemove",this.mousemove),y.addEventListener(a.window,"mouseup",this.mouseup)},fA.prototype.mousemove=function(u){this.move(u,y.mousePos(this.element,u))},fA.prototype.mouseup=function(u){this.mouseRotate.mouseupWindow(u),this.mousePitch&&this.mousePitch.mouseupWindow(u),this.offTemp()},fA.prototype.touchstart=function(u){u.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,u.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return u.preventDefault()}},this._startPos))},fA.prototype.touchmove=function(u){u.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,u.targetTouches)[0],this.move({preventDefault:function(){return u.preventDefault()}},this._lastPos))},fA.prototype.touchend=function(u){u.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},fA.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ro={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function al(u,h,c){var d=u.classList;for(var w in ro)d.remove("mapboxgl-"+c+"-anchor-"+w);d.add("mapboxgl-"+c+"-anchor-"+h)}var Da,_s=function(u){function h(c,d){if(u.call(this),(c instanceof a.window.HTMLElement||d)&&(c=a.extend({element:c},d)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");var w=y.createNS("http://www.w3.org/2000/svg","svg");w.setAttributeNS(null,"display","block"),w.setAttributeNS(null,"height","41px"),w.setAttributeNS(null,"width","27px"),w.setAttributeNS(null,"viewBox","0 0 27 41");var C=y.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"stroke","none"),C.setAttributeNS(null,"stroke-width","1"),C.setAttributeNS(null,"fill","none"),C.setAttributeNS(null,"fill-rule","evenodd");var E=y.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");var S=y.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"transform","translate(3.0, 29.0)"),S.setAttributeNS(null,"fill","#000000");for(var D=0,O=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];D<O.length;D+=1){var q=O[D],W=y.createNS("http://www.w3.org/2000/svg","ellipse");W.setAttributeNS(null,"opacity","0.04"),W.setAttributeNS(null,"cx","10.5"),W.setAttributeNS(null,"cy","5.80029008"),W.setAttributeNS(null,"rx",q.rx),W.setAttributeNS(null,"ry",q.ry),S.appendChild(W)}var J=y.createNS("http://www.w3.org/2000/svg","g");J.setAttributeNS(null,"fill",this._color);var ae=y.createNS("http://www.w3.org/2000/svg","path");ae.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),J.appendChild(ae);var Ae=y.createNS("http://www.w3.org/2000/svg","g");Ae.setAttributeNS(null,"opacity","0.25"),Ae.setAttributeNS(null,"fill","#000000");var pe=y.createNS("http://www.w3.org/2000/svg","path");pe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ae.appendChild(pe);var te=y.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");var he=y.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _e=y.createNS("http://www.w3.org/2000/svg","circle");_e.setAttributeNS(null,"fill","#000000"),_e.setAttributeNS(null,"opacity","0.25"),_e.setAttributeNS(null,"cx","5.5"),_e.setAttributeNS(null,"cy","5.5"),_e.setAttributeNS(null,"r","5.4999962");var Ue=y.createNS("http://www.w3.org/2000/svg","circle");Ue.setAttributeNS(null,"fill","#FFFFFF"),Ue.setAttributeNS(null,"cx","5.5"),Ue.setAttributeNS(null,"cy","5.5"),Ue.setAttributeNS(null,"r","5.4999962"),he.appendChild(_e),he.appendChild(Ue),E.appendChild(S),E.appendChild(J),E.appendChild(Ae),E.appendChild(te),E.appendChild(he),w.appendChild(E),w.setAttributeNS(null,"height",41*this._scale+"px"),w.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(w),this._offset=a.Point.convert(c&&c.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Oe){Oe.preventDefault()}),this._element.addEventListener("mousedown",function(Oe){Oe.preventDefault()}),al(this._element,this._anchor,"marker"),this._popup=null}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.addTo=function(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},h.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this},h.prototype.getLngLat=function(){return this._lngLat},h.prototype.setLngLat=function(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},h.prototype.getElement=function(){return this._element},h.prototype.setPopup=function(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){var d=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[d,-1*(24.6+d)],"bottom-right":[-d,-1*(24.6+d)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},h.prototype._onKeyPress=function(c){var d=c.code,w=c.charCode||c.keyCode;d!=="Space"&&d!=="Enter"&&w!==32&&w!==13||this.togglePopup()},h.prototype._onMapClick=function(c){var d=c.originalEvent.target,w=this._element;this._popup&&(d===w||w.contains(d))&&this.togglePopup()},h.prototype.getPopup=function(){return this._popup},h.prototype.togglePopup=function(){var c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this},h.prototype._update=function(c){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ma(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var d="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?d="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(d="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var w="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?w="rotateX(0deg)":this._pitchAlignment==="map"&&(w="rotateX("+this._map.getPitch()+"deg)"),c&&c.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,ro[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+w+" "+d)}},h.prototype.getOffset=function(){return this._offset},h.prototype.setOffset=function(c){return this._offset=a.Point.convert(c),this._update(),this},h.prototype._onMove=function(c){if(!this._isDragging){var d=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=d}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},h.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},h.prototype._addDragHandler=function(c){this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},h.prototype.setDraggable=function(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},h.prototype.isDraggable=function(){return this._draggable},h.prototype.setRotation=function(c){return this._rotation=c||0,this._update(),this},h.prototype.getRotation=function(){return this._rotation},h.prototype.setRotationAlignment=function(c){return this._rotationAlignment=c||"auto",this._update(),this},h.prototype.getRotationAlignment=function(){return this._rotationAlignment},h.prototype.setPitchAlignment=function(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this},h.prototype.getPitchAlignment=function(){return this._pitchAlignment},h}(a.Evented),Qu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Pa=0,ca=!1,Iu=function(u){function h(c){u.call(this),this.options=a.extend({},Qu,c),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.onAdd=function(c){var d;return this._map=c,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),d=this._setupUI,Da!==void 0?d(Da):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(w){d(Da=w.state!=="denied")}):d(Da=!!a.window.navigator.geolocation),this._container},h.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Pa=0,ca=!1},h.prototype._isOutOfMapMaxBounds=function(c){var d=this._map.getMaxBounds(),w=c.coords;return d&&(w.longitude<d.getWest()||w.longitude>d.getEast()||w.latitude<d.getSouth()||w.latitude>d.getNorth())},h.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},h.prototype._onSuccess=function(c){if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",c)),this._finish()}},h.prototype._updateCamera=function(c){var d=new a.LngLat(c.coords.longitude,c.coords.latitude),w=c.coords.accuracy,C=this._map.getBearing(),E=a.extend({bearing:C},this.options.fitBoundsOptions);this._map.fitBounds(d.toBounds(w),E,{geolocateSource:!0})},h.prototype._updateMarker=function(c){if(c){var d=new a.LngLat(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},h.prototype._updateCircleRadius=function(){var c=this._map._container.clientHeight/2,d=this._map.unproject([0,c]),w=this._map.unproject([1,c]),C=d.distanceTo(w),E=Math.ceil(2*this._accuracy/C);this._circleElement.style.width=E+"px",this._circleElement.style.height=E+"px"},h.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},h.prototype._onError=function(c){if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&ca)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",c)),this._finish()}},h.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},h.prototype._setupUI=function(c){var d=this;if(this._container.addEventListener("contextmenu",function(E){return E.preventDefault()}),this._geolocateButton=y.create("button","mapboxgl-ctrl-geolocate",this._container),y.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",c===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var w=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=w,this._geolocateButton.setAttribute("aria-label",w)}else{var C=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=C,this._geolocateButton.setAttribute("aria-label",C)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new _s(this._dotElement),this._circleElement=y.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new _s({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(E){E.geolocateSource||d._watchState!=="ACTIVE_LOCK"||E.originalEvent&&E.originalEvent.type==="resize"||(d._watchState="BACKGROUND",d._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),d._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),d.fire(new a.Event("trackuserlocationend")))})},h.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Pa--,ca=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var c;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Pa>1?(c={maximumAge:6e5,timeout:0},ca=!0):(c=this.options.positionOptions,ca=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,c)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},h.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},h}(a.Evented),So={maxWidth:100,unit:"metric"},To=function(u){this.options=a.extend({},So,u),a.bindAll(["_onMove","setUnit"],this)};function sl(u,h,c){var d=c&&c.maxWidth||100,w=u._container.clientHeight/2,C=u.unproject([0,w]),E=u.unproject([d,w]),S=C.distanceTo(E);if(c&&c.unit==="imperial"){var D=3.2808*S;D>5280?ko(h,d,D/5280,u._getUIString("ScaleControl.Miles")):ko(h,d,D,u._getUIString("ScaleControl.Feet"))}else c&&c.unit==="nautical"?ko(h,d,S/1852,u._getUIString("ScaleControl.NauticalMiles")):S>=1e3?ko(h,d,S/1e3,u._getUIString("ScaleControl.Kilometers")):ko(h,d,S,u._getUIString("ScaleControl.Meters"))}function ko(u,h,c,d){var w,C,E,S=(w=c,(C=Math.pow(10,(""+Math.floor(w)).length-1))*(E=(E=w/C)>=10?10:E>=5?5:E>=3?3:E>=2?2:E>=1?1:function(D){var O=Math.pow(10,Math.ceil(-Math.log(D)/Math.LN10));return Math.round(D*O)/O}(E)));u.style.width=h*(S/c)+"px",u.innerHTML=S+"&nbsp;"+d}To.prototype.getDefaultPosition=function(){return"bottom-left"},To.prototype._onMove=function(){sl(this._map,this._container,this.options)},To.prototype.onAdd=function(u){return this._map=u,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",u.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},To.prototype.onRemove=function(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},To.prototype.setUnit=function(u){this.options.unit=u,sl(this._map,this._container,this.options)};var SA=function(u){this._fullscreen=!1,u&&u.container&&(u.container instanceof a.window.HTMLElement?this._container=u.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};SA.prototype.onAdd=function(u){return this._map=u,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},SA.prototype.onRemove=function(){y.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},SA.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},SA.prototype._setupUI=function(){var u=this._fullscreenButton=y.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);y.create("span","mapboxgl-ctrl-icon",u).setAttribute("aria-hidden",!0),u.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},SA.prototype._updateTitle=function(){var u=this._getTitle();this._fullscreenButton.setAttribute("aria-label",u),this._fullscreenButton.title=u},SA.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},SA.prototype._isFullscreen=function(){return this._fullscreen},SA.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},SA.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Su={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},vs=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Tu=function(u){function h(c){u.call(this),this.options=a.extend(Object.create(Su),c),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return u&&(h.__proto__=u),(h.prototype=Object.create(u&&u.prototype)).constructor=h,h.prototype.addTo=function(c){return this._map&&this.remove(),this._map=c,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},h.prototype.isOpen=function(){return!!this._map},h.prototype.remove=function(){return this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},h.prototype.getLngLat=function(){return this._lngLat},h.prototype.setLngLat=function(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},h.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},h.prototype.getElement=function(){return this._container},h.prototype.setText=function(c){return this.setDOMContent(a.window.document.createTextNode(c))},h.prototype.setHTML=function(c){var d,w=a.window.document.createDocumentFragment(),C=a.window.document.createElement("body");for(C.innerHTML=c;d=C.firstChild;)w.appendChild(d);return this.setDOMContent(w)},h.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},h.prototype.setMaxWidth=function(c){return this.options.maxWidth=c,this._update(),this},h.prototype.setDOMContent=function(c){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=y.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(c),this._createCloseButton(),this._update(),this._focusFirstElement(),this},h.prototype.addClassName=function(c){this._container&&this._container.classList.add(c)},h.prototype.removeClassName=function(c){this._container&&this._container.classList.remove(c)},h.prototype.setOffset=function(c){return this.options.offset=c,this._update(),this},h.prototype.toggleClassName=function(c){if(this._container)return this._container.classList.toggle(c)},h.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=y.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},h.prototype._onMouseUp=function(c){this._update(c.point)},h.prototype._onMouseMove=function(c){this._update(c.point)},h.prototype._onDrag=function(c){this._update(c.point)},h.prototype._update=function(c){var d=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=y.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=y.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(W){return d._container.classList.add(W)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ma(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||c)){var w=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat),C=this.options.anchor,E=function W(J){if(J){if(typeof J=="number"){var ae=Math.round(Math.sqrt(.5*Math.pow(J,2)));return{center:new a.Point(0,0),top:new a.Point(0,J),"top-left":new a.Point(ae,ae),"top-right":new a.Point(-ae,ae),bottom:new a.Point(0,-J),"bottom-left":new a.Point(ae,-ae),"bottom-right":new a.Point(-ae,-ae),left:new a.Point(J,0),right:new a.Point(-J,0)}}if(J instanceof a.Point||Array.isArray(J)){var Ae=a.Point.convert(J);return{center:Ae,top:Ae,"top-left":Ae,"top-right":Ae,bottom:Ae,"bottom-left":Ae,"bottom-right":Ae,left:Ae,right:Ae}}return{center:a.Point.convert(J.center||[0,0]),top:a.Point.convert(J.top||[0,0]),"top-left":a.Point.convert(J["top-left"]||[0,0]),"top-right":a.Point.convert(J["top-right"]||[0,0]),bottom:a.Point.convert(J.bottom||[0,0]),"bottom-left":a.Point.convert(J["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(J["bottom-right"]||[0,0]),left:a.Point.convert(J.left||[0,0]),right:a.Point.convert(J.right||[0,0])}}return W(new a.Point(0,0))}(this.options.offset);if(!C){var S,D=this._container.offsetWidth,O=this._container.offsetHeight;S=w.y+E.bottom.y<O?["top"]:w.y>this._map.transform.height-O?["bottom"]:[],w.x<D/2?S.push("left"):w.x>this._map.transform.width-D/2&&S.push("right"),C=S.length===0?"bottom":S.join("-")}var q=w.add(E[C]).round();y.setTransform(this._container,ro[C]+" translate("+q.x+"px,"+q.y+"px)"),al(this._container,C,"popup")}},h.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var c=this._container.querySelector(vs);c&&c.focus()}},h.prototype._onClose=function(){this.remove()},h}(a.Evented),ll={version:a.version,supported:_,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:vh,NavigationControl:fo,GeolocateControl:Iu,AttributionControl:Zn,ScaleControl:To,FullscreenControl:SA,Popup:Tu,Marker:_s,Style:sA,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){ze().acquire(Re)},clearPrewarmedResources:function(){var u=xt;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(Re),xt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(u){a.config.ACCESS_TOKEN=u},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(u){a.config.API_URL=u},get workerCount(){return $e.workerCount},set workerCount(u){$e.workerCount=u},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(u){a.config.MAX_PARALLEL_IMAGE_REQUESTS=u},clearStorage:function(u){a.clearTileCache(u)},workerUrl:""};return ll}),l})});gi.AttributionControl;gi.Evented;gi.FullscreenControl;gi.GeolocateControl;gi.LngLat;gi.LngLatBounds;gi.Map;gi.Marker;gi.MercatorCoordinate;gi.NavigationControl;gi.Point;gi.Popup;gi.ScaleControl;gi.Style;gi.accessToken;gi.baseApiUrl;gi.clearPrewarmedResources;gi.clearStorage;gi.config;gi.getRTLTextPluginStatus;gi.maxParallelImageRequests;gi.prewarm;gi.setRTLTextPlugin;gi.supported;gi.version;gi.workerCount;gi.workerUrl;function c1(i){let e;const n=i[17].default,o=Cn(n,i,i[16],null);return{c(){o&&o.c()},l(l){o&&o.l(l)},m(l,p){o&&o.m(l,p),e=!0},p(l,p){o&&o.p&&(!e||p&65536)&&En(o,n,l,l[16],e?Fn(n,l[16],p,null):Un(l[16]),null)},i(l){e||(Te(o,l),e=!0)},o(l){Xe(o,l),e=!1},d(l){o&&o.d(l)}}}function RS(i){let e,n,o,l=i[4]&&c1(i);return{c(){e=Sr("div"),l&&l.c(),this.h()},l(p){e=Or(p,"DIV",{id:!0,class:!0});var a=Et(e);l&&l.l(a),a.forEach(Be),this.h()},h(){ce(e,"id",i[0]),ce(e,"class","svelte-a65d1y"),ru(()=>i[18].call(e))},m(p,a){Ye(p,e,a),l&&l.m(e,null),n=Ug(e,i[18].bind(e)),i[19](e),o=!0},p(p,[a]){p[4]?l?(l.p(p,a),a&16&&Te(l,1)):(l=c1(p),l.c(),Te(l,1),l.m(e,null)):l&&(Fr(),Xe(l,1,1,()=>{l=null}),Er()),(!o||a&1)&&ce(e,"id",p[0])},i(p){o||(Te(l),o=!0)},o(p){Xe(l),o=!1},d(p){p&&Be(e),l&&l.d(),n(),i[19](null)}}}function OS(i,e,n){let{$$slots:o={},$$scope:l}=e,{map:p}=e,{id:a="map"}=e,{location:_={lng:15,lat:45,zoom:1}}=e,{style:y={version:8,sources:{},layers:[]}}=e,{minzoom:F=0}=e,{maxzoom:Q=14}=e,{controls:x=!1}=e,{locate:I=!1}=e,{tabbable:M=!1}=e,{zoom:k=null}=e,{center:K=null}=e,{interactive:$=!0}=e,R,V,le,ee,me=!1;Ec("map",{getMap:()=>p}),_.bounds?ee={bounds:_.bounds}:typeof _.lng=="number"&&typeof _.lat=="number"&&(ee={center:[_.lng,_.lat]},typeof _.zoom=="number"&&(ee.zoom=_.zoom)),Mc(()=>{const fe=document.createElement("link");return fe.rel="stylesheet",fe.href="https://unpkg.com/mapbox-gl@1.13.2/dist/mapbox-gl.css",fe.onload=()=>{n(5,p=new gi.Map(Ga({container:R,style:y,minZoom:F,maxZoom:Q,interactive:$},ee))),x&&p.addControl(new gi.NavigationControl({showCompass:!1})),I&&p.addControl(new gi.GeolocateControl),p.on("load",()=>{n(6,k=p.getZoom()),n(7,K=p.getCenter()),n(4,me=!0),!M&&document.querySelector(`#${a} canvas`)&&(document.querySelector(`#${a} canvas`).tabIndex="-1")}),p.on("moveend",()=>{n(6,k=p.getZoom()),n(7,K=p.getCenter())})},document.head.appendChild(fe),()=>{p.remove(),fe.parentNode.removeChild(fe)}});function we(){if(me){let fe=document.getElementsByClassName("mapboxgl-canvas");fe[0]&&(fe[0].style.width="100%",fe[0].style.height="100%",p.resize())}}function Ge(){V=this.clientWidth,le=this.clientHeight,n(1,V),n(2,le)}function Le(fe){zn[fe?"unshift":"push"](()=>{R=fe,n(3,R)})}return i.$$set=fe=>{"map"in fe&&n(5,p=fe.map),"id"in fe&&n(0,a=fe.id),"location"in fe&&n(8,_=fe.location),"style"in fe&&n(9,y=fe.style),"minzoom"in fe&&n(10,F=fe.minzoom),"maxzoom"in fe&&n(11,Q=fe.maxzoom),"controls"in fe&&n(12,x=fe.controls),"locate"in fe&&n(13,I=fe.locate),"tabbable"in fe&&n(14,M=fe.tabbable),"zoom"in fe&&n(6,k=fe.zoom),"center"in fe&&n(7,K=fe.center),"interactive"in fe&&n(15,$=fe.interactive),"$$scope"in fe&&n(16,l=fe.$$scope)},i.$$.update=()=>{i.$$.dirty&6&&(V||le)&&we()},[a,V,le,R,me,p,k,K,_,y,F,Q,x,I,M,$,l,o,Ge,Le]}class aT extends Ei{constructor(e){super();Fi(this,e,OS,RS,wi,{map:5,id:0,location:8,style:9,minzoom:10,maxzoom:11,controls:12,locate:13,tabbable:14,zoom:6,center:7,interactive:15})}}function h1(i){let e;const n=i[11].default,o=Cn(n,i,i[10],null);return{c(){o&&o.c()},l(l){o&&o.l(l)},m(l,p){o&&o.m(l,p),e=!0},p(l,p){o&&o.p&&(!e||p&1024)&&En(o,n,l,l[10],e?Fn(n,l[10],p,null):Un(l[10]),null)},i(l){e||(Te(o,l),e=!0)},o(l){Xe(o,l),e=!1},d(l){o&&o.d(l)}}}function KS(i){let e,n,o=i[0]&&h1(i);return{c(){o&&o.c(),e=Mt()},l(l){o&&o.l(l),e=Mt()},m(l,p){o&&o.m(l,p),Ye(l,e,p),n=!0},p(l,[p]){l[0]?o?(o.p(l,p),p&1&&Te(o,1)):(o=h1(l),o.c(),Te(o,1),o.m(e.parentNode,e)):o&&(Fr(),Xe(o,1,1,()=>{o=null}),Er())},i(l){n||(Te(o),n=!0)},o(l){Xe(o),n=!1},d(l){o&&o.d(l),l&&Be(e)}}}function NS(i,e,n){let{$$slots:o={},$$scope:l}=e,{id:p}=e,{type:a}=e,{url:_=null}=e,{props:y={}}=e,{data:F=null}=e,{layer:Q=null}=e,{promoteId:x=null}=e,{minzoom:I=null}=e,{maxzoom:M=null}=e,k=!1;const{getMap:K}=UA("map"),$=K();Ec("source",{source:p,layer:Q,promoteId:x}),$.getSource(p)&&$.removeSource(p);function R(){$.isSourceLoaded(p)?(n(0,k=!0),console.log(p+" map source loaded!")):setTimeout(()=>{console.log("..."),R()},250)}I&&(y.minzoom=I),M&&(y.maxzoom=M),Q&&x?(y.promoteId={},y.promoteId[Q]=x):x&&(y.promoteId=x);function V(){console.log(p+" map source loading...");let ee;a=="geojson"?F?ee=Ga({type:a,data:F},y):_&&(ee=Ga({type:a,data:_},y)):a=="vector"?ee=Ga({type:a,tiles:[_]},y):a=="raster"&&(ee=Ga({type:a,tiles:[_],tileSize:tilesize},y)),ee&&($.addSource(p,ee),R())}V();function le(){$.getSource(p).setData(F)}return i.$$set=ee=>{"id"in ee&&n(2,p=ee.id),"type"in ee&&n(3,a=ee.type),"url"in ee&&n(4,_=ee.url),"props"in ee&&n(1,y=ee.props),"data"in ee&&n(5,F=ee.data),"layer"in ee&&n(6,Q=ee.layer),"promoteId"in ee&&n(7,x=ee.promoteId),"minzoom"in ee&&n(8,I=ee.minzoom),"maxzoom"in ee&&n(9,M=ee.maxzoom),"$$scope"in ee&&n(10,l=ee.$$scope)},i.$$.update=()=>{i.$$.dirty&33&&k&&F&&le()},[k,y,p,a,_,F,Q,x,I,M,l,o]}class sT extends Ei{constructor(e){super();Fi(this,e,NS,KS,wi,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}const VS=i=>({hovered:i[0]&1}),f1=i=>({hovered:i[0]});function p1(i){let e;const n=i[28].default,o=Cn(n,i,i[27],f1);return{c(){o&&o.c()},l(l){o&&o.l(l)},m(l,p){o&&o.m(l,p),e=!0},p(l,p){o&&o.p&&(!e||p[0]&134217729)&&En(o,n,l,l[27],e?Fn(n,l[27],p,VS):Un(l[27]),f1)},i(l){e||(Te(o,l),e=!0)},o(l){Xe(o,l),e=!1},d(l){o&&o.d(l)}}}function GS(i){let e,n,o=i[1]&&p1(i);return{c(){o&&o.c(),e=Mt()},l(l){o&&o.l(l),e=Mt()},m(l,p){o&&o.m(l,p),Ye(l,e,p),n=!0},p(l,p){l[1]?o?(o.p(l,p),p[0]&2&&Te(o,1)):(o=p1(l),o.c(),Te(o,1),o.m(e.parentNode,e)):o&&(Fr(),Xe(o,1,1,()=>{o=null}),Er())},i(l){n||(Te(o),n=!0)},o(l){Xe(o),n=!1},d(l){o&&o.d(l),l&&Be(e)}}}function XS(i,e,n){let o,{$$slots:l={},$$scope:p}=e;const a=Ks();let{id:_}=e,{type:y}=e,{filter:F=null}=e,{layout:Q={}}=e,{paint:x={}}=e,{data:I=null}=e,{colorKey:M="color"}=e,{nameKey:k=null}=e,{valueKey:K=null}=e,{idKey:$=null}=e,{select:R=!1}=e,{clickIgnore:V=!1}=e,{clickCenter:le=!1}=e,{selected:ee=null}=e,{hover:me=!1}=e,{hovered:we=null}=e,{highlight:Ge=!1}=e,{highlightKey:Le="highlighted"}=e,{highlighted:fe=[]}=e,{order:Ee=null}=e,{maxzoom:ve=null}=e,{minzoom:De=null}=e,{sourceLayer:Qe=null}=e;const{source:Ze,layer:Ne,promoteId:Fe}=UA("source"),{getMap:rt}=UA("map"),ct=rt();Ec("layer",{layer:_});const Tt=Rr({id:null,feature:null,event:null});At(i,Tt,We=>n(30,o=We)),Ec("hover",Tt),$=$||Fe,Qe=Qe||Ne;let at=null,ot=null,jt=[];ct.getLayer(_)&&ct.removeLayer(_);let Yt={id:_,type:y,source:Ze,paint:x,layout:Q};F&&(Yt.filter=F),Qe&&(Yt["source-layer"]=Qe),ve&&(Yt.maxzoom=ve),De&&(Yt.minzoom=De),ct.addLayer(Yt,Ee);function pt(){console.log("updating colors..."),I.forEach(We=>{ct.setFeatureState({source:Ze,sourceLayer:Qe,id:We[$]},{color:M?We[M]:null,name:k?We[k]:null,value:K?We[K]:null})})}return R&&ct.on("click",_,We=>{if(We.features.length>0&&!V){let Ar=We.features[0];if(n(3,ee=Ar.id),a("select",{id:ee,feature:Ar,event:We}),at&&ct.setFeatureState({source:Ze,sourceLayer:Qe,id:at},{selected:!1}),ct.setFeatureState({source:Ze,sourceLayer:Qe,id:ee},{selected:!0}),le){let St=centroid(We.features[0].toJSON().geometry);ct.flyTo({center:St.geometry.coordinates})}n(24,at=ee)}}),me&&(ct.on("mousemove",_,We=>{if(We.features.length>0){we&&ct.setFeatureState({source:Ze,sourceLayer:Qe,id:we},{hovered:!1});let Ar=We.features[0];n(0,we=n(25,ot=Ar.id)),Tt.set({id:we,feature:Ar,event:We}),a("hover",o),ct.setFeatureState({source:Ze,sourceLayer:Qe,id:we},{hovered:!0}),ct.getCanvas().style.cursor="pointer"}}),ct.on("mouseleave",_,We=>{we&&ct.setFeatureState({source:Ze,sourceLayer:Qe,id:we},{hovered:!1}),n(0,we=n(25,ot=null)),Tt.set({id:null,feature:null,event:We}),a("hover",o),ct.getCanvas().style.cursor=""})),i.$$set=We=>{"id"in We&&n(6,_=We.id),"type"in We&&n(7,y=We.type),"filter"in We&&n(8,F=We.filter),"layout"in We&&n(9,Q=We.layout),"paint"in We&&n(10,x=We.paint),"data"in We&&n(11,I=We.data),"colorKey"in We&&n(12,M=We.colorKey),"nameKey"in We&&n(13,k=We.nameKey),"valueKey"in We&&n(14,K=We.valueKey),"idKey"in We&&n(5,$=We.idKey),"select"in We&&n(15,R=We.select),"clickIgnore"in We&&n(16,V=We.clickIgnore),"clickCenter"in We&&n(17,le=We.clickCenter),"selected"in We&&n(3,ee=We.selected),"hover"in We&&n(1,me=We.hover),"hovered"in We&&n(0,we=We.hovered),"highlight"in We&&n(18,Ge=We.highlight),"highlightKey"in We&&n(19,Le=We.highlightKey),"highlighted"in We&&n(20,fe=We.highlighted),"order"in We&&n(21,Ee=We.order),"maxzoom"in We&&n(22,ve=We.maxzoom),"minzoom"in We&&n(23,De=We.minzoom),"sourceLayer"in We&&n(4,Qe=We.sourceLayer),"$$scope"in We&&n(27,p=We.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&6144&&I&&(I||M)&&pt(),i.$$.dirty[0]&68943888&&Ge&&fe!=jt&&(jt[0]&&jt.forEach(We=>{let Ar={};Ar[Le]=!1,ct.setFeatureState({source:Ze,sourceLayer:Qe,id:We},Ar)}),n(26,jt=fe),fe[0]&&fe.forEach(We=>{let Ar={};Ar[Le]=!0,ct.setFeatureState({source:Ze,sourceLayer:Qe,id:We},Ar)})),i.$$.dirty[0]&16810008&&R&&ee!=at&&(at&&ct.setFeatureState({source:Ze,sourceLayer:Qe,id:at},{selected:!1}),ee&&ct.setFeatureState({source:Ze,sourceLayer:Qe,id:ee},{selected:!0}),n(24,at=ee)),i.$$.dirty[0]&33554451&&me&&we!=ot&&(ot&&ct.setFeatureState({source:Ze,sourceLayer:Qe,id:ot},{hovered:!1}),we&&ct.setFeatureState({source:Ze,sourceLayer:Qe,id:we},{hovered:!0}),n(25,ot=we))},[we,me,Tt,ee,Qe,$,_,y,F,Q,x,I,M,k,K,R,V,le,Ge,Le,fe,Ee,ve,De,at,ot,jt,p,l]}class lT extends Ei{constructor(e){super();Fi(this,e,XS,GS,wi,{id:6,type:7,filter:8,layout:9,paint:10,data:11,colorKey:12,nameKey:13,valueKey:14,idKey:5,select:15,clickIgnore:16,clickCenter:17,selected:3,hover:1,hovered:0,highlight:18,highlightKey:19,highlighted:20,order:21,maxzoom:22,minzoom:23,sourceLayer:4},null,[-1,-1])}}function jS(i,e,n){let o,{content:l}=e;const p=new gi.Popup({closeButton:!1,closeOnClick:!1}),{getMap:a}=UA("map"),_=a(),y=UA("hover");At(i,y,Q=>n(2,o=Q));function F(Q,x){Q.id?p.setLngLat(Q.event.lngLat).setHTML(x||Q.code).addTo(_):p.remove()}return i.$$set=Q=>{"content"in Q&&n(1,l=Q.content)},i.$$.update=()=>{i.$$.dirty&6&&F(o,l)},[y,l,o]}class uT extends Ei{constructor(e){super();Fi(this,e,jS,null,wi,{content:1})}}export{iT as $,U1 as A,ur as B,eu as C,Rr as D,zf as E,Cr as F,Qr as G,Ot as H,Ir as I,Dn as J,UA as K,Cn as L,WS as M,En as N,Un as O,Fn as P,$S as Q,eT as R,Ei as S,tT as T,ru as U,Nd as V,jr as W,YS as X,zn as Y,qS as Z,rT as _,Et as a,iu as a0,Uc as a1,Ks as a2,tu as a3,My as a4,AT as a5,_A as a6,nT as a7,oT as a8,aT as a9,sT as aa,lT as ab,uT as ac,ce as b,Or as c,Be as d,Sr as e,gr as f,Ye as g,Hn as h,Fi as i,EA as j,ir as k,Mt as l,nr as m,Fr as n,Xe as o,Er as p,Te as q,Ec as r,wi as s,hn as t,JS as u,Mc as v,dr as w,Lr as x,lr as y,Qg as z};
